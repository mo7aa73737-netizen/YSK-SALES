var uk=Object.defineProperty;var ck=(t,e,n)=>e in t?uk(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Lv=(t,e,n)=>ck(t,typeof e!="symbol"?e+"":e,n);function fk(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in t)){const o=Object.getOwnPropertyDescriptor(r,a);o&&Object.defineProperty(t,a,o.get?o:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function ii(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Bv={exports:{}},Tc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kS;function hk(){if(kS)return Tc;kS=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,o){var u=null;if(o!==void 0&&(u=""+o),a.key!==void 0&&(u=""+a.key),"key"in a){o={};for(var c in a)c!=="key"&&(o[c]=a[c])}else o=a;return a=o.ref,{$$typeof:t,type:r,key:u,ref:a!==void 0?a:null,props:o}}return Tc.Fragment=e,Tc.jsx=n,Tc.jsxs=n,Tc}var VS;function dk(){return VS||(VS=1,Bv.exports=hk()),Bv.exports}var x=dk(),Uv={exports:{}},Ue={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LS;function mk(){if(LS)return Ue;LS=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.iterator;function y(z){return z===null||typeof z!="object"?null:(z=v&&z[v]||z["@@iterator"],typeof z=="function"?z:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,E={};function A(z,re,ie){this.props=z,this.context=re,this.refs=E,this.updater=ie||_}A.prototype.isReactComponent={},A.prototype.setState=function(z,re){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,re,"setState")},A.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function j(){}j.prototype=A.prototype;function I(z,re,ie){this.props=z,this.context=re,this.refs=E,this.updater=ie||_}var P=I.prototype=new j;P.constructor=I,S(P,A.prototype),P.isPureReactComponent=!0;var U=Array.isArray,B={H:null,A:null,T:null,S:null,V:null},H=Object.prototype.hasOwnProperty;function N(z,re,ie,ce,ge,Oe){return ie=Oe.ref,{$$typeof:t,type:z,key:re,ref:ie!==void 0?ie:null,props:Oe}}function R(z,re){return N(z.type,re,void 0,void 0,void 0,z.props)}function k(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function $(z){var re={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ie){return re[ie]})}var L=/\/+/g;function q(z,re){return typeof z=="object"&&z!==null&&z.key!=null?$(""+z.key):re.toString(36)}function V(){}function Ce(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(V,V):(z.status="pending",z.then(function(re){z.status==="pending"&&(z.status="fulfilled",z.value=re)},function(re){z.status==="pending"&&(z.status="rejected",z.reason=re)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function Se(z,re,ie,ce,ge){var Oe=typeof z;(Oe==="undefined"||Oe==="boolean")&&(z=null);var Pe=!1;if(z===null)Pe=!0;else switch(Oe){case"bigint":case"string":case"number":Pe=!0;break;case"object":switch(z.$$typeof){case t:case e:Pe=!0;break;case m:return Pe=z._init,Se(Pe(z._payload),re,ie,ce,ge)}}if(Pe)return ge=ge(z),Pe=ce===""?"."+q(z,0):ce,U(ge)?(ie="",Pe!=null&&(ie=Pe.replace(L,"$&/")+"/"),Se(ge,re,ie,"",function(pe){return pe})):ge!=null&&(k(ge)&&(ge=R(ge,ie+(ge.key==null||z&&z.key===ge.key?"":(""+ge.key).replace(L,"$&/")+"/")+Pe)),re.push(ge)),1;Pe=0;var Nt=ce===""?".":ce+":";if(U(z))for(var Je=0;Je<z.length;Je++)ce=z[Je],Oe=Nt+q(ce,Je),Pe+=Se(ce,re,ie,Oe,ge);else if(Je=y(z),typeof Je=="function")for(z=Je.call(z),Je=0;!(ce=z.next()).done;)ce=ce.value,Oe=Nt+q(ce,Je++),Pe+=Se(ce,re,ie,Oe,ge);else if(Oe==="object"){if(typeof z.then=="function")return Se(Ce(z),re,ie,ce,ge);throw re=String(z),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return Pe}function X(z,re,ie){if(z==null)return z;var ce=[],ge=0;return Se(z,ce,"","",function(Oe){return re.call(ie,Oe,ge++)}),ce}function ue(z){if(z._status===-1){var re=z._result;re=re(),re.then(function(ie){(z._status===0||z._status===-1)&&(z._status=1,z._result=ie)},function(ie){(z._status===0||z._status===-1)&&(z._status=2,z._result=ie)}),z._status===-1&&(z._status=0,z._result=re)}if(z._status===1)return z._result.default;throw z._result}var ee=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)};function de(){}return Ue.Children={map:X,forEach:function(z,re,ie){X(z,function(){re.apply(this,arguments)},ie)},count:function(z){var re=0;return X(z,function(){re++}),re},toArray:function(z){return X(z,function(re){return re})||[]},only:function(z){if(!k(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Ue.Component=A,Ue.Fragment=n,Ue.Profiler=a,Ue.PureComponent=I,Ue.StrictMode=r,Ue.Suspense=h,Ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,Ue.__COMPILER_RUNTIME={__proto__:null,c:function(z){return B.H.useMemoCache(z)}},Ue.cache=function(z){return function(){return z.apply(null,arguments)}},Ue.cloneElement=function(z,re,ie){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var ce=S({},z.props),ge=z.key,Oe=void 0;if(re!=null)for(Pe in re.ref!==void 0&&(Oe=void 0),re.key!==void 0&&(ge=""+re.key),re)!H.call(re,Pe)||Pe==="key"||Pe==="__self"||Pe==="__source"||Pe==="ref"&&re.ref===void 0||(ce[Pe]=re[Pe]);var Pe=arguments.length-2;if(Pe===1)ce.children=ie;else if(1<Pe){for(var Nt=Array(Pe),Je=0;Je<Pe;Je++)Nt[Je]=arguments[Je+2];ce.children=Nt}return N(z.type,ge,void 0,void 0,Oe,ce)},Ue.createContext=function(z){return z={$$typeof:u,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:o,_context:z},z},Ue.createElement=function(z,re,ie){var ce,ge={},Oe=null;if(re!=null)for(ce in re.key!==void 0&&(Oe=""+re.key),re)H.call(re,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(ge[ce]=re[ce]);var Pe=arguments.length-2;if(Pe===1)ge.children=ie;else if(1<Pe){for(var Nt=Array(Pe),Je=0;Je<Pe;Je++)Nt[Je]=arguments[Je+2];ge.children=Nt}if(z&&z.defaultProps)for(ce in Pe=z.defaultProps,Pe)ge[ce]===void 0&&(ge[ce]=Pe[ce]);return N(z,Oe,void 0,void 0,null,ge)},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(z){return{$$typeof:c,render:z}},Ue.isValidElement=k,Ue.lazy=function(z){return{$$typeof:m,_payload:{_status:-1,_result:z},_init:ue}},Ue.memo=function(z,re){return{$$typeof:d,type:z,compare:re===void 0?null:re}},Ue.startTransition=function(z){var re=B.T,ie={};B.T=ie;try{var ce=z(),ge=B.S;ge!==null&&ge(ie,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(de,ee)}catch(Oe){ee(Oe)}finally{B.T=re}},Ue.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},Ue.use=function(z){return B.H.use(z)},Ue.useActionState=function(z,re,ie){return B.H.useActionState(z,re,ie)},Ue.useCallback=function(z,re){return B.H.useCallback(z,re)},Ue.useContext=function(z){return B.H.useContext(z)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(z,re){return B.H.useDeferredValue(z,re)},Ue.useEffect=function(z,re,ie){var ce=B.H;if(typeof ie=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ce.useEffect(z,re)},Ue.useId=function(){return B.H.useId()},Ue.useImperativeHandle=function(z,re,ie){return B.H.useImperativeHandle(z,re,ie)},Ue.useInsertionEffect=function(z,re){return B.H.useInsertionEffect(z,re)},Ue.useLayoutEffect=function(z,re){return B.H.useLayoutEffect(z,re)},Ue.useMemo=function(z,re){return B.H.useMemo(z,re)},Ue.useOptimistic=function(z,re){return B.H.useOptimistic(z,re)},Ue.useReducer=function(z,re,ie){return B.H.useReducer(z,re,ie)},Ue.useRef=function(z){return B.H.useRef(z)},Ue.useState=function(z){return B.H.useState(z)},Ue.useSyncExternalStore=function(z,re,ie){return B.H.useSyncExternalStore(z,re,ie)},Ue.useTransition=function(){return B.H.useTransition()},Ue.version="19.1.1",Ue}var BS;function su(){return BS||(BS=1,Uv.exports=mk()),Uv.exports}var C=su();const aj=ii(C),pk=fk({__proto__:null,default:aj},[C]);var zv={exports:{}},Oc={},qv={exports:{}},$v={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var US;function gk(){return US||(US=1,(function(t){function e(X,ue){var ee=X.length;X.push(ue);e:for(;0<ee;){var de=ee-1>>>1,z=X[de];if(0<a(z,ue))X[de]=ue,X[ee]=z,ee=de;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var ue=X[0],ee=X.pop();if(ee!==ue){X[0]=ee;e:for(var de=0,z=X.length,re=z>>>1;de<re;){var ie=2*(de+1)-1,ce=X[ie],ge=ie+1,Oe=X[ge];if(0>a(ce,ee))ge<z&&0>a(Oe,ce)?(X[de]=Oe,X[ge]=ee,de=ge):(X[de]=ce,X[ie]=ee,de=ie);else if(ge<z&&0>a(Oe,ee))X[de]=Oe,X[ge]=ee,de=ge;else break e}}return ue}function a(X,ue){var ee=X.sortIndex-ue.sortIndex;return ee!==0?ee:X.id-ue.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,c=u.now();t.unstable_now=function(){return u.now()-c}}var h=[],d=[],m=1,v=null,y=3,_=!1,S=!1,E=!1,A=!1,j=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function U(X){for(var ue=n(d);ue!==null;){if(ue.callback===null)r(d);else if(ue.startTime<=X)r(d),ue.sortIndex=ue.expirationTime,e(h,ue);else break;ue=n(d)}}function B(X){if(E=!1,U(X),!S)if(n(h)!==null)S=!0,H||(H=!0,q());else{var ue=n(d);ue!==null&&Se(B,ue.startTime-X)}}var H=!1,N=-1,R=5,k=-1;function $(){return A?!0:!(t.unstable_now()-k<R)}function L(){if(A=!1,H){var X=t.unstable_now();k=X;var ue=!0;try{e:{S=!1,E&&(E=!1,I(N),N=-1),_=!0;var ee=y;try{t:{for(U(X),v=n(h);v!==null&&!(v.expirationTime>X&&$());){var de=v.callback;if(typeof de=="function"){v.callback=null,y=v.priorityLevel;var z=de(v.expirationTime<=X);if(X=t.unstable_now(),typeof z=="function"){v.callback=z,U(X),ue=!0;break t}v===n(h)&&r(h),U(X)}else r(h);v=n(h)}if(v!==null)ue=!0;else{var re=n(d);re!==null&&Se(B,re.startTime-X),ue=!1}}break e}finally{v=null,y=ee,_=!1}ue=void 0}}finally{ue?q():H=!1}}}var q;if(typeof P=="function")q=function(){P(L)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,Ce=V.port2;V.port1.onmessage=L,q=function(){Ce.postMessage(null)}}else q=function(){j(L,0)};function Se(X,ue){N=j(function(){X(t.unstable_now())},ue)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(X){switch(y){case 1:case 2:case 3:var ue=3;break;default:ue=y}var ee=y;y=ue;try{return X()}finally{y=ee}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(X,ue){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ee=y;y=X;try{return ue()}finally{y=ee}},t.unstable_scheduleCallback=function(X,ue,ee){var de=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?de+ee:de):ee=de,X){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=ee+z,X={id:m++,callback:ue,priorityLevel:X,startTime:ee,expirationTime:z,sortIndex:-1},ee>de?(X.sortIndex=ee,e(d,X),n(h)===null&&X===n(d)&&(E?(I(N),N=-1):E=!0,Se(B,ee-de))):(X.sortIndex=z,e(h,X),S||_||(S=!0,H||(H=!0,q()))),X},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(X){var ue=y;return function(){var ee=y;y=ue;try{return X.apply(this,arguments)}finally{y=ee}}}})($v)),$v}var zS;function vk(){return zS||(zS=1,qv.exports=gk()),qv.exports}var Fv={exports:{}},Rn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qS;function yk(){if(qS)return Rn;qS=1;var t=su();function e(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(h,d,m){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:h,containerInfo:d,implementation:m}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Rn.createPortal=function(h,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(h,d,null,m)},Rn.flushSync=function(h){var d=u.T,m=r.p;try{if(u.T=null,r.p=2,h)return h()}finally{u.T=d,r.p=m,r.d.f()}},Rn.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(h,d))},Rn.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},Rn.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var m=d.as,v=c(m,d.crossOrigin),y=typeof d.integrity=="string"?d.integrity:void 0,_=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;m==="style"?r.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:v,integrity:y,fetchPriority:_}):m==="script"&&r.d.X(h,{crossOrigin:v,integrity:y,fetchPriority:_,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Rn.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var m=c(d.as,d.crossOrigin);r.d.M(h,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(h)},Rn.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var m=d.as,v=c(m,d.crossOrigin);r.d.L(h,m,{crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Rn.preloadModule=function(h,d){if(typeof h=="string")if(d){var m=c(d.as,d.crossOrigin);r.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(h)},Rn.requestFormReset=function(h){r.d.r(h)},Rn.unstable_batchedUpdates=function(h,d){return h(d)},Rn.useFormState=function(h,d,m){return u.H.useFormState(h,d,m)},Rn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Rn.version="19.1.1",Rn}var $S;function sj(){if($S)return Fv.exports;$S=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Fv.exports=yk(),Fv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FS;function bk(){if(FS)return Oc;FS=1;var t=vk(),e=su(),n=sj();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function u(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function c(i){if(o(i)!==i)throw Error(r(188))}function h(i){var s=i.alternate;if(!s){if(s=o(i),s===null)throw Error(r(188));return s!==i?null:i}for(var l=i,f=s;;){var g=l.return;if(g===null)break;var b=g.alternate;if(b===null){if(f=g.return,f!==null){l=f;continue}break}if(g.child===b.child){for(b=g.child;b;){if(b===l)return c(g),i;if(b===f)return c(g),s;b=b.sibling}throw Error(r(188))}if(l.return!==f.return)l=g,f=b;else{for(var O=!1,D=g.child;D;){if(D===l){O=!0,l=g,f=b;break}if(D===f){O=!0,f=g,l=b;break}D=D.sibling}if(!O){for(D=b.child;D;){if(D===l){O=!0,l=b,f=g;break}if(D===f){O=!0,f=b,l=g;break}D=D.sibling}if(!O)throw Error(r(189))}}if(l.alternate!==f)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:s}function d(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=d(i),s!==null)return s;i=i.sibling}return null}var m=Object.assign,v=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),I=Symbol.for("react.consumer"),P=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),$=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function q(i){return i===null||typeof i!="object"?null:(i=L&&i[L]||i["@@iterator"],typeof i=="function"?i:null)}var V=Symbol.for("react.client.reference");function Ce(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===V?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case S:return"Fragment";case A:return"Profiler";case E:return"StrictMode";case B:return"Suspense";case H:return"SuspenseList";case k:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case _:return"Portal";case P:return(i.displayName||"Context")+".Provider";case I:return(i._context.displayName||"Context")+".Consumer";case U:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case N:return s=i.displayName||null,s!==null?s:Ce(i.type)||"Memo";case R:s=i._payload,i=i._init;try{return Ce(i(s))}catch{}}return null}var Se=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},de=[],z=-1;function re(i){return{current:i}}function ie(i){0>z||(i.current=de[z],de[z]=null,z--)}function ce(i,s){z++,de[z]=i.current,i.current=s}var ge=re(null),Oe=re(null),Pe=re(null),Nt=re(null);function Je(i,s){switch(ce(Pe,s),ce(Oe,i),ce(ge,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?cS(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=cS(s),i=fS(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ie(ge),ce(ge,i)}function pe(){ie(ge),ie(Oe),ie(Pe)}function Me(i){i.memoizedState!==null&&ce(Nt,i);var s=ge.current,l=fS(s,i.type);s!==l&&(ce(Oe,i),ce(ge,l))}function Ve(i){Oe.current===i&&(ie(ge),ie(Oe)),Nt.current===i&&(ie(Nt),_c._currentValue=ee)}var fe=Object.prototype.hasOwnProperty,_e=t.unstable_scheduleCallback,Ae=t.unstable_cancelCallback,Ge=t.unstable_shouldYield,St=t.unstable_requestPaint,ft=t.unstable_now,oi=t.unstable_getCurrentPriorityLevel,As=t.unstable_ImmediatePriority,ki=t.unstable_UserBlockingPriority,Fr=t.unstable_NormalPriority,Ts=t.unstable_LowPriority,Pn=t.unstable_IdlePriority,er=t.log,zf=t.unstable_setDisableYieldValue,Dt=null,st=null;function tr(i){if(typeof er=="function"&&zf(i),st&&typeof st.setStrictMode=="function")try{st.setStrictMode(Dt,i)}catch{}}var Nn=Math.clz32?Math.clz32:Os,qf=Math.log,Up=Math.LN2;function Os(i){return i>>>=0,i===0?32:31-(qf(i)/Up|0)|0}var Cs=256,js=4194304;function Hr(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function qo(i,s,l){var f=i.pendingLanes;if(f===0)return 0;var g=0,b=i.suspendedLanes,O=i.pingedLanes;i=i.warmLanes;var D=f&134217727;return D!==0?(f=D&~b,f!==0?g=Hr(f):(O&=D,O!==0?g=Hr(O):l||(l=D&~i,l!==0&&(g=Hr(l))))):(D=f&~b,D!==0?g=Hr(D):O!==0?g=Hr(O):l||(l=f&~i,l!==0&&(g=Hr(l)))),g===0?0:s!==0&&s!==g&&(s&b)===0&&(b=g&-g,l=s&-s,b>=l||b===32&&(l&4194048)!==0)?s:g}function Ps(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function _u(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wu(){var i=Cs;return Cs<<=1,(Cs&4194048)===0&&(Cs=256),i}function Eu(){var i=js;return js<<=1,(js&62914560)===0&&(js=4194304),i}function Vi(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function Li(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Su(i,s,l,f,g,b){var O=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var D=i.entanglements,F=i.expirationTimes,W=i.hiddenUpdates;for(l=O&~l;0<l;){var ae=31-Nn(l),oe=1<<ae;D[ae]=0,F[ae]=-1;var Z=W[ae];if(Z!==null)for(W[ae]=null,ae=0;ae<Z.length;ae++){var J=Z[ae];J!==null&&(J.lane&=-536870913)}l&=~oe}f!==0&&li(i,f,0),b!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=b&~(O&~s))}function li(i,s,l){i.pendingLanes|=s,i.suspendedLanes&=~s;var f=31-Nn(s);i.entangledLanes|=s,i.entanglements[f]=i.entanglements[f]|1073741824|l&4194090}function Au(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var f=31-Nn(l),g=1<<f;g&s|i[f]&s&&(i[f]|=s),l&=~g}}function Oa(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function $o(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Ca(){var i=ue.p;return i!==0?i:(i=window.event,i===void 0?32:PS(i.type))}function $f(i,s){var l=ue.p;try{return ue.p=i,s()}finally{ue.p=l}}var At=Math.random().toString(36).slice(2),Qt="__reactFiber$"+At,zt="__reactProps$"+At,_r="__reactContainer$"+At,Tu="__reactEvents$"+At,zp="__reactListeners$"+At,ja="__reactHandles$"+At,Ff="__reactResources$"+At,Ns="__reactMarker$"+At;function Pa(i){delete i[Qt],delete i[zt],delete i[Tu],delete i[zp],delete i[ja]}function Bi(i){var s=i[Qt];if(s)return s;for(var l=i.parentNode;l;){if(s=l[_r]||l[Qt]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=pS(i);i!==null;){if(l=i[Qt])return l;i=pS(i)}return s}i=l,l=i.parentNode}return null}function ui(i){if(i=i[Qt]||i[_r]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function ci(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function Un(i){var s=i[Ff];return s||(s=i[Ff]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Vt(i){i[Ns]=!0}var Ou=new Set,Fo={};function Kr(i,s){Ui(i,s),Ui(i+"Capture",s)}function Ui(i,s){for(Fo[i]=s,i=0;i<s.length;i++)Ou.add(s[i])}var Hf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Kf={},Ds={};function Gf(i){return fe.call(Ds,i)?!0:fe.call(Kf,i)?!1:Hf.test(i)?Ds[i]=!0:(Kf[i]=!0,!1)}function Na(i,s,l){if(Gf(s))if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var f=s.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+l)}}function fi(i,s,l){if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+l)}}function bn(i,s,l,f){if(f===null)i.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(s,l,""+f)}}var Rs,Yf;function zi(i){if(Rs===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);Rs=s&&s[1]||"",Yf=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Rs+i+Yf}var Ho=!1;function Ko(i,s){if(!i||Ho)return"";Ho=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(s){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(J){var Z=J}Reflect.construct(i,[],oe)}else{try{oe.call()}catch(J){Z=J}i.call(oe.prototype)}}else{try{throw Error()}catch(J){Z=J}(oe=i())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(J){if(J&&Z&&typeof J.stack=="string")return[J.stack,Z.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=f.DetermineComponentFrameRoot(),O=b[0],D=b[1];if(O&&D){var F=O.split(`
`),W=D.split(`
`);for(g=f=0;f<F.length&&!F[f].includes("DetermineComponentFrameRoot");)f++;for(;g<W.length&&!W[g].includes("DetermineComponentFrameRoot");)g++;if(f===F.length||g===W.length)for(f=F.length-1,g=W.length-1;1<=f&&0<=g&&F[f]!==W[g];)g--;for(;1<=f&&0<=g;f--,g--)if(F[f]!==W[g]){if(f!==1||g!==1)do if(f--,g--,0>g||F[f]!==W[g]){var ae=`
`+F[f].replace(" at new "," at ");return i.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",i.displayName)),ae}while(1<=f&&0<=g);break}}}finally{Ho=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?zi(l):""}function Cu(i){switch(i.tag){case 26:case 27:case 5:return zi(i.type);case 16:return zi("Lazy");case 13:return zi("Suspense");case 19:return zi("SuspenseList");case 0:case 15:return Ko(i.type,!1);case 11:return Ko(i.type.render,!1);case 1:return Ko(i.type,!0);case 31:return zi("Activity");default:return""}}function Go(i){try{var s="";do s+=Cu(i),i=i.return;while(i);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function zn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ju(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function qp(i){var s=ju(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),f=""+i[s];if(!i.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,b=l.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return g.call(this)},set:function(O){f=""+O,b.call(this,O)}}),Object.defineProperty(i,s,{enumerable:l.enumerable}),{getValue:function(){return f},setValue:function(O){f=""+O},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Yo(i){i._valueTracker||(i._valueTracker=qp(i))}function Pu(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),f="";return i&&(f=ju(i)?i.checked?"true":"false":i.value),i=f,i!==l?(s.setValue(i),!0):!1}function Is(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var $p=/[\n"\\]/g;function qt(i){return i.replace($p,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function nr(i,s,l,f,g,b,O,D){i.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?i.type=O:i.removeAttribute("type"),s!=null?O==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+zn(s)):i.value!==""+zn(s)&&(i.value=""+zn(s)):O!=="submit"&&O!=="reset"||i.removeAttribute("value"),s!=null?Da(i,O,zn(s)):l!=null?Da(i,O,zn(l)):f!=null&&i.removeAttribute("value"),g==null&&b!=null&&(i.defaultChecked=!!b),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?i.name=""+zn(D):i.removeAttribute("name")}function Ms(i,s,l,f,g,b,O,D){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.type=b),s!=null||l!=null){if(!(b!=="submit"&&b!=="reset"||s!=null))return;l=l!=null?""+zn(l):"",s=s!=null?""+zn(s):l,D||s===i.value||(i.value=s),i.defaultValue=s}f=f??g,f=typeof f!="function"&&typeof f!="symbol"&&!!f,i.checked=D?i.checked:!!f,i.defaultChecked=!!f,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(i.name=O)}function Da(i,s,l){s==="number"&&Is(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function qi(i,s,l,f){if(i=i.options,s){s={};for(var g=0;g<l.length;g++)s["$"+l[g]]=!0;for(l=0;l<i.length;l++)g=s.hasOwnProperty("$"+i[l].value),i[l].selected!==g&&(i[l].selected=g),g&&f&&(i[l].defaultSelected=!0)}else{for(l=""+zn(l),s=null,g=0;g<i.length;g++){if(i[g].value===l){i[g].selected=!0,f&&(i[g].defaultSelected=!0);return}s!==null||i[g].disabled||(s=i[g])}s!==null&&(s.selected=!0)}}function ht(i,s,l){if(s!=null&&(s=""+zn(s),s!==i.value&&(i.value=s),l==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=l!=null?""+zn(l):""}function ks(i,s,l,f){if(s==null){if(f!=null){if(l!=null)throw Error(r(92));if(Se(f)){if(1<f.length)throw Error(r(93));f=f[0]}l=f}l==null&&(l=""),s=l}l=zn(s),i.defaultValue=l,f=i.textContent,f===l&&f!==""&&f!==null&&(i.value=f)}function wr(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var Vs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xf(i,s,l){var f=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?f?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":f?i.setProperty(s,l):typeof l!="number"||l===0||Vs.has(s)?s==="float"?i.cssFloat=l:i[s]=(""+l).trim():i[s]=l+"px"}function Nu(i,s,l){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,l!=null){for(var f in l)!l.hasOwnProperty(f)||s!=null&&s.hasOwnProperty(f)||(f.indexOf("--")===0?i.setProperty(f,""):f==="float"?i.cssFloat="":i[f]="");for(var g in s)f=s[g],s.hasOwnProperty(g)&&l[g]!==f&&Xf(i,g,f)}else for(var b in s)s.hasOwnProperty(b)&&Xf(i,b,s[b])}function Du(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Hp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xo(i){return Hp.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var $i=null;function Er(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Fi=null,Hi=null;function Ru(i){var s=ui(i);if(s&&(i=s.stateNode)){var l=i[zt]||null;e:switch(i=s.stateNode,s.type){case"input":if(nr(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+qt(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var f=l[s];if(f!==i&&f.form===i.form){var g=f[zt]||null;if(!g)throw Error(r(90));nr(f,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(s=0;s<l.length;s++)f=l[s],f.form===i.form&&Pu(f)}break e;case"textarea":ht(i,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&qi(i,!!l.multiple,s,!1)}}}var hi=!1;function Qf(i,s,l){if(hi)return i(s,l);hi=!0;try{var f=i(s);return f}finally{if(hi=!1,(Fi!==null||Hi!==null)&&($h(),Fi&&(s=Fi,i=Hi,Hi=Fi=null,Ru(s),i)))for(s=0;s<i.length;s++)Ru(i[s])}}function Ls(i,s){var l=i.stateNode;if(l===null)return null;var f=l[zt]||null;if(f===null)return null;l=f[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var Gr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sr=!1;if(Gr)try{var Bs={};Object.defineProperty(Bs,"passive",{get:function(){Sr=!0}}),window.addEventListener("test",Bs,Bs),window.removeEventListener("test",Bs,Bs)}catch{Sr=!1}var di=null,Ra=null,Ki=null;function Iu(){if(Ki)return Ki;var i,s=Ra,l=s.length,f,g="value"in di?di.value:di.textContent,b=g.length;for(i=0;i<l&&s[i]===g[i];i++);var O=l-i;for(f=1;f<=O&&s[l-f]===g[b-f];f++);return Ki=g.slice(i,1<f?1-f:void 0)}function mi(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function pi(){return!0}function Mu(){return!1}function ln(i){function s(l,f,g,b,O){this._reactName=l,this._targetInst=g,this.type=f,this.nativeEvent=b,this.target=O,this.currentTarget=null;for(var D in i)i.hasOwnProperty(D)&&(l=i[D],this[D]=l?l(b):b[D]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?pi:Mu,this.isPropagationStopped=Mu,this}return m(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=pi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=pi)},persist:function(){},isPersistent:pi}),s}var it={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qo=ln(it),Us=m({},it,{view:0,detail:0}),Wf=ln(Us),Wo,Zo,gi,zs=m({},Us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fs,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==gi&&(gi&&i.type==="mousemove"?(Wo=i.screenX-gi.screenX,Zo=i.screenY-gi.screenY):Zo=Wo=0,gi=i),Wo)},movementY:function(i){return"movementY"in i?i.movementY:Zo}}),Ar=ln(zs),Zf=m({},zs,{dataTransfer:0}),Kp=ln(Zf),qs=m({},Us,{relatedTarget:0}),Jo=ln(qs),ku=m({},it,{animationName:0,elapsedTime:0,pseudoElement:0}),el=ln(ku),Jf=m({},it,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),tl=ln(Jf),Gp=m({},it,{data:0}),Vu=ln(Gp),$s={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},th={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lu(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=th[i])?!!s[i]:!1}function Fs(){return Lu}var nh=m({},Us,{key:function(i){if(i.key){var s=$s[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=mi(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?eh[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fs,charCode:function(i){return i.type==="keypress"?mi(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?mi(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),nl=ln(nh),rh=m({},zs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bu=ln(rh),Gi=m({},Us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fs}),ih=ln(Gi),ah=m({},it,{propertyName:0,elapsedTime:0,pseudoElement:0}),sh=ln(ah),oh=m({},zs,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),rl=ln(oh),qn=m({},it,{newState:0,oldState:0}),lh=ln(qn),uh=[9,13,27,32],vi=Gr&&"CompositionEvent"in window,p=null;Gr&&"documentMode"in document&&(p=document.documentMode);var w=Gr&&"TextEvent"in window&&!p,T=Gr&&(!vi||p&&8<p&&11>=p),M=" ",Y=!1;function te(i,s){switch(i){case"keyup":return uh.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function me(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ye=!1;function Wt(i,s){switch(i){case"compositionend":return me(s);case"keypress":return s.which!==32?null:(Y=!0,M);case"textInput":return i=s.data,i===M&&Y?null:i;default:return null}}function Xe(i,s){if(Ye)return i==="compositionend"||!vi&&te(i,s)?(i=Iu(),Ki=Ra=di=null,Ye=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return T&&s.locale!=="ko"?null:s.data;default:return null}}var un={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zt(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!un[i.type]:s==="textarea"}function Yi(i,s,l,f){Fi?Hi?Hi.push(f):Hi=[f]:Fi=f,s=Xh(s,"onChange"),0<s.length&&(l=new Qo("onChange","change",null,l,f),i.push({event:l,listeners:s}))}var xn=null,yi=null;function Uu(i){aS(i,0)}function ch(i){var s=ci(i);if(Pu(s))return i}function T_(i,s){if(i==="change")return s}var O_=!1;if(Gr){var Yp;if(Gr){var Xp="oninput"in document;if(!Xp){var C_=document.createElement("div");C_.setAttribute("oninput","return;"),Xp=typeof C_.oninput=="function"}Yp=Xp}else Yp=!1;O_=Yp&&(!document.documentMode||9<document.documentMode)}function j_(){xn&&(xn.detachEvent("onpropertychange",P_),yi=xn=null)}function P_(i){if(i.propertyName==="value"&&ch(yi)){var s=[];Yi(s,yi,i,Er(i)),Qf(Uu,s)}}function BM(i,s,l){i==="focusin"?(j_(),xn=s,yi=l,xn.attachEvent("onpropertychange",P_)):i==="focusout"&&j_()}function UM(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ch(yi)}function zM(i,s){if(i==="click")return ch(s)}function qM(i,s){if(i==="input"||i==="change")return ch(s)}function $M(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var rr=typeof Object.is=="function"?Object.is:$M;function zu(i,s){if(rr(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),f=Object.keys(s);if(l.length!==f.length)return!1;for(f=0;f<l.length;f++){var g=l[f];if(!fe.call(s,g)||!rr(i[g],s[g]))return!1}return!0}function N_(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function D_(i,s){var l=N_(i);i=0;for(var f;l;){if(l.nodeType===3){if(f=i+l.textContent.length,i<=s&&f>=s)return{node:l,offset:s-i};i=f}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=N_(l)}}function R_(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?R_(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function I_(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Is(i.document);s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=Is(i.document)}return s}function Qp(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var FM=Gr&&"documentMode"in document&&11>=document.documentMode,il=null,Wp=null,qu=null,Zp=!1;function M_(i,s,l){var f=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Zp||il==null||il!==Is(f)||(f=il,"selectionStart"in f&&Qp(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),qu&&zu(qu,f)||(qu=f,f=Xh(Wp,"onSelect"),0<f.length&&(s=new Qo("onSelect","select",null,s,l),i.push({event:s,listeners:f}),s.target=il)))}function Hs(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var al={animationend:Hs("Animation","AnimationEnd"),animationiteration:Hs("Animation","AnimationIteration"),animationstart:Hs("Animation","AnimationStart"),transitionrun:Hs("Transition","TransitionRun"),transitionstart:Hs("Transition","TransitionStart"),transitioncancel:Hs("Transition","TransitionCancel"),transitionend:Hs("Transition","TransitionEnd")},Jp={},k_={};Gr&&(k_=document.createElement("div").style,"AnimationEvent"in window||(delete al.animationend.animation,delete al.animationiteration.animation,delete al.animationstart.animation),"TransitionEvent"in window||delete al.transitionend.transition);function Ks(i){if(Jp[i])return Jp[i];if(!al[i])return i;var s=al[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in k_)return Jp[i]=s[l];return i}var V_=Ks("animationend"),L_=Ks("animationiteration"),B_=Ks("animationstart"),HM=Ks("transitionrun"),KM=Ks("transitionstart"),GM=Ks("transitioncancel"),U_=Ks("transitionend"),z_=new Map,eg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");eg.push("scrollEnd");function Yr(i,s){z_.set(i,s),Kr(s,[i])}var q_=new WeakMap;function Tr(i,s){if(typeof i=="object"&&i!==null){var l=q_.get(i);return l!==void 0?l:(s={value:i,source:s,stack:Go(s)},q_.set(i,s),s)}return{value:i,source:s,stack:Go(s)}}var Or=[],sl=0,tg=0;function fh(){for(var i=sl,s=tg=sl=0;s<i;){var l=Or[s];Or[s++]=null;var f=Or[s];Or[s++]=null;var g=Or[s];Or[s++]=null;var b=Or[s];if(Or[s++]=null,f!==null&&g!==null){var O=f.pending;O===null?g.next=g:(g.next=O.next,O.next=g),f.pending=g}b!==0&&$_(l,g,b)}}function hh(i,s,l,f){Or[sl++]=i,Or[sl++]=s,Or[sl++]=l,Or[sl++]=f,tg|=f,i.lanes|=f,i=i.alternate,i!==null&&(i.lanes|=f)}function ng(i,s,l,f){return hh(i,s,l,f),dh(i)}function ol(i,s){return hh(i,null,null,s),dh(i)}function $_(i,s,l){i.lanes|=l;var f=i.alternate;f!==null&&(f.lanes|=l);for(var g=!1,b=i.return;b!==null;)b.childLanes|=l,f=b.alternate,f!==null&&(f.childLanes|=l),b.tag===22&&(i=b.stateNode,i===null||i._visibility&1||(g=!0)),i=b,b=b.return;return i.tag===3?(b=i.stateNode,g&&s!==null&&(g=31-Nn(l),i=b.hiddenUpdates,f=i[g],f===null?i[g]=[s]:f.push(s),s.lane=l|536870912),b):null}function dh(i){if(50<dc)throw dc=0,lv=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var ll={};function YM(i,s,l,f){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ir(i,s,l,f){return new YM(i,s,l,f)}function rg(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Xi(i,s){var l=i.alternate;return l===null?(l=ir(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function F_(i,s){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,s=l.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function mh(i,s,l,f,g,b){var O=0;if(f=i,typeof i=="function")rg(i)&&(O=1);else if(typeof i=="string")O=Q4(i,l,ge.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case k:return i=ir(31,l,s,g),i.elementType=k,i.lanes=b,i;case S:return Gs(l.children,g,b,s);case E:O=8,g|=24;break;case A:return i=ir(12,l,s,g|2),i.elementType=A,i.lanes=b,i;case B:return i=ir(13,l,s,g),i.elementType=B,i.lanes=b,i;case H:return i=ir(19,l,s,g),i.elementType=H,i.lanes=b,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case j:case P:O=10;break e;case I:O=9;break e;case U:O=11;break e;case N:O=14;break e;case R:O=16,f=null;break e}O=29,l=Error(r(130,i===null?"null":typeof i,"")),f=null}return s=ir(O,l,s,g),s.elementType=i,s.type=f,s.lanes=b,s}function Gs(i,s,l,f){return i=ir(7,i,f,s),i.lanes=l,i}function ig(i,s,l){return i=ir(6,i,null,s),i.lanes=l,i}function ag(i,s,l){return s=ir(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var ul=[],cl=0,ph=null,gh=0,Cr=[],jr=0,Ys=null,Qi=1,Wi="";function Xs(i,s){ul[cl++]=gh,ul[cl++]=ph,ph=i,gh=s}function H_(i,s,l){Cr[jr++]=Qi,Cr[jr++]=Wi,Cr[jr++]=Ys,Ys=i;var f=Qi;i=Wi;var g=32-Nn(f)-1;f&=~(1<<g),l+=1;var b=32-Nn(s)+g;if(30<b){var O=g-g%5;b=(f&(1<<O)-1).toString(32),f>>=O,g-=O,Qi=1<<32-Nn(s)+g|l<<g|f,Wi=b+i}else Qi=1<<b|l<<g|f,Wi=i}function sg(i){i.return!==null&&(Xs(i,1),H_(i,1,0))}function og(i){for(;i===ph;)ph=ul[--cl],ul[cl]=null,gh=ul[--cl],ul[cl]=null;for(;i===Ys;)Ys=Cr[--jr],Cr[jr]=null,Wi=Cr[--jr],Cr[jr]=null,Qi=Cr[--jr],Cr[jr]=null}var $n=null,Rt=null,nt=!1,Qs=null,bi=!1,lg=Error(r(519));function Ws(i){var s=Error(r(418,""));throw Hu(Tr(s,i)),lg}function K_(i){var s=i.stateNode,l=i.type,f=i.memoizedProps;switch(s[Qt]=i,s[zt]=f,l){case"dialog":Fe("cancel",s),Fe("close",s);break;case"iframe":case"object":case"embed":Fe("load",s);break;case"video":case"audio":for(l=0;l<pc.length;l++)Fe(pc[l],s);break;case"source":Fe("error",s);break;case"img":case"image":case"link":Fe("error",s),Fe("load",s);break;case"details":Fe("toggle",s);break;case"input":Fe("invalid",s),Ms(s,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),Yo(s);break;case"select":Fe("invalid",s);break;case"textarea":Fe("invalid",s),ks(s,f.value,f.defaultValue,f.children),Yo(s)}l=f.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||f.suppressHydrationWarning===!0||uS(s.textContent,l)?(f.popover!=null&&(Fe("beforetoggle",s),Fe("toggle",s)),f.onScroll!=null&&Fe("scroll",s),f.onScrollEnd!=null&&Fe("scrollend",s),f.onClick!=null&&(s.onclick=Qh),s=!0):s=!1,s||Ws(i)}function G_(i){for($n=i.return;$n;)switch($n.tag){case 5:case 13:bi=!1;return;case 27:case 3:bi=!0;return;default:$n=$n.return}}function $u(i){if(i!==$n)return!1;if(!nt)return G_(i),nt=!0,!1;var s=i.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||Sv(i.type,i.memoizedProps)),l=!l),l&&Rt&&Ws(i),G_(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(s===0){Rt=Qr(i.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++;i=i.nextSibling}Rt=null}}else s===27?(s=Rt,Xa(i.type)?(i=Cv,Cv=null,Rt=i):Rt=s):Rt=$n?Qr(i.stateNode.nextSibling):null;return!0}function Fu(){Rt=$n=null,nt=!1}function Y_(){var i=Qs;return i!==null&&(Gn===null?Gn=i:Gn.push.apply(Gn,i),Qs=null),i}function Hu(i){Qs===null?Qs=[i]:Qs.push(i)}var ug=re(null),Zs=null,Zi=null;function Ia(i,s,l){ce(ug,s._currentValue),s._currentValue=l}function Ji(i){i._currentValue=ug.current,ie(ug)}function cg(i,s,l){for(;i!==null;){var f=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,f!==null&&(f.childLanes|=s)):f!==null&&(f.childLanes&s)!==s&&(f.childLanes|=s),i===l)break;i=i.return}}function fg(i,s,l,f){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var b=g.dependencies;if(b!==null){var O=g.child;b=b.firstContext;e:for(;b!==null;){var D=b;b=g;for(var F=0;F<s.length;F++)if(D.context===s[F]){b.lanes|=l,D=b.alternate,D!==null&&(D.lanes|=l),cg(b.return,l,i),f||(O=null);break e}b=D.next}}else if(g.tag===18){if(O=g.return,O===null)throw Error(r(341));O.lanes|=l,b=O.alternate,b!==null&&(b.lanes|=l),cg(O,l,i),O=null}else O=g.child;if(O!==null)O.return=g;else for(O=g;O!==null;){if(O===i){O=null;break}if(g=O.sibling,g!==null){g.return=O.return,O=g;break}O=O.return}g=O}}function Ku(i,s,l,f){i=null;for(var g=s,b=!1;g!==null;){if(!b){if((g.flags&524288)!==0)b=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var O=g.alternate;if(O===null)throw Error(r(387));if(O=O.memoizedProps,O!==null){var D=g.type;rr(g.pendingProps.value,O.value)||(i!==null?i.push(D):i=[D])}}else if(g===Nt.current){if(O=g.alternate,O===null)throw Error(r(387));O.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(_c):i=[_c])}g=g.return}i!==null&&fg(s,i,l,f),s.flags|=262144}function vh(i){for(i=i.firstContext;i!==null;){if(!rr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Js(i){Zs=i,Zi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Dn(i){return X_(Zs,i)}function yh(i,s){return Zs===null&&Js(i),X_(i,s)}function X_(i,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},Zi===null){if(i===null)throw Error(r(308));Zi=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Zi=Zi.next=s;return l}var XM=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(l,f){i.push(f)}};this.abort=function(){s.aborted=!0,i.forEach(function(l){return l()})}},QM=t.unstable_scheduleCallback,WM=t.unstable_NormalPriority,Jt={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hg(){return{controller:new XM,data:new Map,refCount:0}}function Gu(i){i.refCount--,i.refCount===0&&QM(WM,function(){i.controller.abort()})}var Yu=null,dg=0,fl=0,hl=null;function ZM(i,s){if(Yu===null){var l=Yu=[];dg=0,fl=pv(),hl={status:"pending",value:void 0,then:function(f){l.push(f)}}}return dg++,s.then(Q_,Q_),s}function Q_(){if(--dg===0&&Yu!==null){hl!==null&&(hl.status="fulfilled");var i=Yu;Yu=null,fl=0,hl=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function JM(i,s){var l=[],f={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return i.then(function(){f.status="fulfilled",f.value=s;for(var g=0;g<l.length;g++)(0,l[g])(s)},function(g){for(f.status="rejected",f.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),f}var W_=X.S;X.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&ZM(i,s),W_!==null&&W_(i,s)};var eo=re(null);function mg(){var i=eo.current;return i!==null?i:bt.pooledCache}function bh(i,s){s===null?ce(eo,eo.current):ce(eo,s.pool)}function Z_(){var i=mg();return i===null?null:{parent:Jt._currentValue,pool:i}}var Xu=Error(r(460)),J_=Error(r(474)),xh=Error(r(542)),pg={then:function(){}};function ew(i){return i=i.status,i==="fulfilled"||i==="rejected"}function _h(){}function tw(i,s,l){switch(l=i[l],l===void 0?i.push(s):l!==s&&(s.then(_h,_h),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,rw(i),i;default:if(typeof s.status=="string")s.then(_h,_h);else{if(i=bt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(f){if(s.status==="pending"){var g=s;g.status="fulfilled",g.value=f}},function(f){if(s.status==="pending"){var g=s;g.status="rejected",g.reason=f}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,rw(i),i}throw Qu=s,Xu}}var Qu=null;function nw(){if(Qu===null)throw Error(r(459));var i=Qu;return Qu=null,i}function rw(i){if(i===Xu||i===xh)throw Error(r(483))}var Ma=!1;function gg(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vg(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ka(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Va(i,s,l){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(ot&2)!==0){var g=f.pending;return g===null?s.next=s:(s.next=g.next,g.next=s),f.pending=s,s=dh(i),$_(i,null,l),s}return hh(i,f,s,l),dh(i)}function Wu(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var f=s.lanes;f&=i.pendingLanes,l|=f,s.lanes=l,Au(i,l)}}function yg(i,s){var l=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,l===f)){var g=null,b=null;if(l=l.firstBaseUpdate,l!==null){do{var O={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};b===null?g=b=O:b=b.next=O,l=l.next}while(l!==null);b===null?g=b=s:b=b.next=s}else g=b=s;l={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:b,shared:f.shared,callbacks:f.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}var bg=!1;function Zu(){if(bg){var i=hl;if(i!==null)throw i}}function Ju(i,s,l,f){bg=!1;var g=i.updateQueue;Ma=!1;var b=g.firstBaseUpdate,O=g.lastBaseUpdate,D=g.shared.pending;if(D!==null){g.shared.pending=null;var F=D,W=F.next;F.next=null,O===null?b=W:O.next=W,O=F;var ae=i.alternate;ae!==null&&(ae=ae.updateQueue,D=ae.lastBaseUpdate,D!==O&&(D===null?ae.firstBaseUpdate=W:D.next=W,ae.lastBaseUpdate=F))}if(b!==null){var oe=g.baseState;O=0,ae=W=F=null,D=b;do{var Z=D.lane&-536870913,J=Z!==D.lane;if(J?(Qe&Z)===Z:(f&Z)===Z){Z!==0&&Z===fl&&(bg=!0),ae!==null&&(ae=ae.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var Ie=i,Ne=D;Z=s;var pt=l;switch(Ne.tag){case 1:if(Ie=Ne.payload,typeof Ie=="function"){oe=Ie.call(pt,oe,Z);break e}oe=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=Ne.payload,Z=typeof Ie=="function"?Ie.call(pt,oe,Z):Ie,Z==null)break e;oe=m({},oe,Z);break e;case 2:Ma=!0}}Z=D.callback,Z!==null&&(i.flags|=64,J&&(i.flags|=8192),J=g.callbacks,J===null?g.callbacks=[Z]:J.push(Z))}else J={lane:Z,tag:D.tag,payload:D.payload,callback:D.callback,next:null},ae===null?(W=ae=J,F=oe):ae=ae.next=J,O|=Z;if(D=D.next,D===null){if(D=g.shared.pending,D===null)break;J=D,D=J.next,J.next=null,g.lastBaseUpdate=J,g.shared.pending=null}}while(!0);ae===null&&(F=oe),g.baseState=F,g.firstBaseUpdate=W,g.lastBaseUpdate=ae,b===null&&(g.shared.lanes=0),Ha|=O,i.lanes=O,i.memoizedState=oe}}function iw(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function aw(i,s){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)iw(l[i],s)}var dl=re(null),wh=re(0);function sw(i,s){i=sa,ce(wh,i),ce(dl,s),sa=i|s.baseLanes}function xg(){ce(wh,sa),ce(dl,dl.current)}function _g(){sa=wh.current,ie(dl),ie(wh)}var La=0,ze=null,dt=null,$t=null,Eh=!1,ml=!1,to=!1,Sh=0,ec=0,pl=null,e4=0;function Lt(){throw Error(r(321))}function wg(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!rr(i[l],s[l]))return!1;return!0}function Eg(i,s,l,f,g,b){return La=b,ze=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,X.H=i===null||i.memoizedState===null?$w:Fw,to=!1,b=l(f,g),to=!1,ml&&(b=lw(s,l,f,g)),ow(i),b}function ow(i){X.H=Ph;var s=dt!==null&&dt.next!==null;if(La=0,$t=dt=ze=null,Eh=!1,ec=0,pl=null,s)throw Error(r(300));i===null||cn||(i=i.dependencies,i!==null&&vh(i)&&(cn=!0))}function lw(i,s,l,f){ze=i;var g=0;do{if(ml&&(pl=null),ec=0,ml=!1,25<=g)throw Error(r(301));if(g+=1,$t=dt=null,i.updateQueue!=null){var b=i.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}X.H=o4,b=s(l,f)}while(ml);return b}function t4(){var i=X.H,s=i.useState()[0];return s=typeof s.then=="function"?tc(s):s,i=i.useState()[0],(dt!==null?dt.memoizedState:null)!==i&&(ze.flags|=1024),s}function Sg(){var i=Sh!==0;return Sh=0,i}function Ag(i,s,l){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~l}function Tg(i){if(Eh){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Eh=!1}La=0,$t=dt=ze=null,ml=!1,ec=Sh=0,pl=null}function Hn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?ze.memoizedState=$t=i:$t=$t.next=i,$t}function Ft(){if(dt===null){var i=ze.alternate;i=i!==null?i.memoizedState:null}else i=dt.next;var s=$t===null?ze.memoizedState:$t.next;if(s!==null)$t=s,dt=i;else{if(i===null)throw ze.alternate===null?Error(r(467)):Error(r(310));dt=i,i={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},$t===null?ze.memoizedState=$t=i:$t=$t.next=i}return $t}function Og(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tc(i){var s=ec;return ec+=1,pl===null&&(pl=[]),i=tw(pl,i,s),s=ze,($t===null?s.memoizedState:$t.next)===null&&(s=s.alternate,X.H=s===null||s.memoizedState===null?$w:Fw),i}function Ah(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return tc(i);if(i.$$typeof===P)return Dn(i)}throw Error(r(438,String(i)))}function Cg(i){var s=null,l=ze.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var f=ze.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(s={data:f.data.map(function(g){return g.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=Og(),ze.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(i),f=0;f<i;f++)l[f]=$;return s.index++,l}function ea(i,s){return typeof s=="function"?s(i):s}function Th(i){var s=Ft();return jg(s,dt,i)}function jg(i,s,l){var f=i.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=l;var g=i.baseQueue,b=f.pending;if(b!==null){if(g!==null){var O=g.next;g.next=b.next,b.next=O}s.baseQueue=g=b,f.pending=null}if(b=i.baseState,g===null)i.memoizedState=b;else{s=g.next;var D=O=null,F=null,W=s,ae=!1;do{var oe=W.lane&-536870913;if(oe!==W.lane?(Qe&oe)===oe:(La&oe)===oe){var Z=W.revertLane;if(Z===0)F!==null&&(F=F.next={lane:0,revertLane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),oe===fl&&(ae=!0);else if((La&Z)===Z){W=W.next,Z===fl&&(ae=!0);continue}else oe={lane:0,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},F===null?(D=F=oe,O=b):F=F.next=oe,ze.lanes|=Z,Ha|=Z;oe=W.action,to&&l(b,oe),b=W.hasEagerState?W.eagerState:l(b,oe)}else Z={lane:oe,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},F===null?(D=F=Z,O=b):F=F.next=Z,ze.lanes|=oe,Ha|=oe;W=W.next}while(W!==null&&W!==s);if(F===null?O=b:F.next=D,!rr(b,i.memoizedState)&&(cn=!0,ae&&(l=hl,l!==null)))throw l;i.memoizedState=b,i.baseState=O,i.baseQueue=F,f.lastRenderedState=b}return g===null&&(f.lanes=0),[i.memoizedState,f.dispatch]}function Pg(i){var s=Ft(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var f=l.dispatch,g=l.pending,b=s.memoizedState;if(g!==null){l.pending=null;var O=g=g.next;do b=i(b,O.action),O=O.next;while(O!==g);rr(b,s.memoizedState)||(cn=!0),s.memoizedState=b,s.baseQueue===null&&(s.baseState=b),l.lastRenderedState=b}return[b,f]}function uw(i,s,l){var f=ze,g=Ft(),b=nt;if(b){if(l===void 0)throw Error(r(407));l=l()}else l=s();var O=!rr((dt||g).memoizedState,l);O&&(g.memoizedState=l,cn=!0),g=g.queue;var D=hw.bind(null,f,g,i);if(nc(2048,8,D,[i]),g.getSnapshot!==s||O||$t!==null&&$t.memoizedState.tag&1){if(f.flags|=2048,gl(9,Oh(),fw.bind(null,f,g,l,s),null),bt===null)throw Error(r(349));b||(La&124)!==0||cw(f,s,l)}return l}function cw(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=ze.updateQueue,s===null?(s=Og(),ze.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function fw(i,s,l,f){s.value=l,s.getSnapshot=f,dw(s)&&mw(i)}function hw(i,s,l){return l(function(){dw(s)&&mw(i)})}function dw(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!rr(i,l)}catch{return!0}}function mw(i){var s=ol(i,2);s!==null&&ur(s,i,2)}function Ng(i){var s=Hn();if(typeof i=="function"){var l=i;if(i=l(),to){tr(!0);try{l()}finally{tr(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ea,lastRenderedState:i},s}function pw(i,s,l,f){return i.baseState=l,jg(i,dt,typeof f=="function"?f:ea)}function n4(i,s,l,f,g){if(jh(i))throw Error(r(485));if(i=s.action,i!==null){var b={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){b.listeners.push(O)}};X.T!==null?l(!0):b.isTransition=!1,f(b),l=s.pending,l===null?(b.next=s.pending=b,gw(s,b)):(b.next=l.next,s.pending=l.next=b)}}function gw(i,s){var l=s.action,f=s.payload,g=i.state;if(s.isTransition){var b=X.T,O={};X.T=O;try{var D=l(g,f),F=X.S;F!==null&&F(O,D),vw(i,s,D)}catch(W){Dg(i,s,W)}finally{X.T=b}}else try{b=l(g,f),vw(i,s,b)}catch(W){Dg(i,s,W)}}function vw(i,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(f){yw(i,s,f)},function(f){return Dg(i,s,f)}):yw(i,s,l)}function yw(i,s,l){s.status="fulfilled",s.value=l,bw(s),i.state=l,s=i.pending,s!==null&&(l=s.next,l===s?i.pending=null:(l=l.next,s.next=l,gw(i,l)))}function Dg(i,s,l){var f=i.pending;if(i.pending=null,f!==null){f=f.next;do s.status="rejected",s.reason=l,bw(s),s=s.next;while(s!==f)}i.action=null}function bw(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function xw(i,s){return s}function _w(i,s){if(nt){var l=bt.formState;if(l!==null){e:{var f=ze;if(nt){if(Rt){t:{for(var g=Rt,b=bi;g.nodeType!==8;){if(!b){g=null;break t}if(g=Qr(g.nextSibling),g===null){g=null;break t}}b=g.data,g=b==="F!"||b==="F"?g:null}if(g){Rt=Qr(g.nextSibling),f=g.data==="F!";break e}}Ws(f)}f=!1}f&&(s=l[0])}}return l=Hn(),l.memoizedState=l.baseState=s,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xw,lastRenderedState:s},l.queue=f,l=Uw.bind(null,ze,f),f.dispatch=l,f=Ng(!1),b=Vg.bind(null,ze,!1,f.queue),f=Hn(),g={state:s,dispatch:null,action:i,pending:null},f.queue=g,l=n4.bind(null,ze,g,b,l),g.dispatch=l,f.memoizedState=i,[s,l,!1]}function ww(i){var s=Ft();return Ew(s,dt,i)}function Ew(i,s,l){if(s=jg(i,s,xw)[0],i=Th(ea)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var f=tc(s)}catch(O){throw O===Xu?xh:O}else f=s;s=Ft();var g=s.queue,b=g.dispatch;return l!==s.memoizedState&&(ze.flags|=2048,gl(9,Oh(),r4.bind(null,g,l),null)),[f,b,i]}function r4(i,s){i.action=s}function Sw(i){var s=Ft(),l=dt;if(l!==null)return Ew(s,l,i);Ft(),s=s.memoizedState,l=Ft();var f=l.queue.dispatch;return l.memoizedState=i,[s,f,!1]}function gl(i,s,l,f){return i={tag:i,create:l,deps:f,inst:s,next:null},s=ze.updateQueue,s===null&&(s=Og(),ze.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=i.next=i:(f=l.next,l.next=i,i.next=f,s.lastEffect=i),i}function Oh(){return{destroy:void 0,resource:void 0}}function Aw(){return Ft().memoizedState}function Ch(i,s,l,f){var g=Hn();f=f===void 0?null:f,ze.flags|=i,g.memoizedState=gl(1|s,Oh(),l,f)}function nc(i,s,l,f){var g=Ft();f=f===void 0?null:f;var b=g.memoizedState.inst;dt!==null&&f!==null&&wg(f,dt.memoizedState.deps)?g.memoizedState=gl(s,b,l,f):(ze.flags|=i,g.memoizedState=gl(1|s,b,l,f))}function Tw(i,s){Ch(8390656,8,i,s)}function Ow(i,s){nc(2048,8,i,s)}function Cw(i,s){return nc(4,2,i,s)}function jw(i,s){return nc(4,4,i,s)}function Pw(i,s){if(typeof s=="function"){i=i();var l=s(i);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function Nw(i,s,l){l=l!=null?l.concat([i]):null,nc(4,4,Pw.bind(null,s,i),l)}function Rg(){}function Dw(i,s){var l=Ft();s=s===void 0?null:s;var f=l.memoizedState;return s!==null&&wg(s,f[1])?f[0]:(l.memoizedState=[i,s],i)}function Rw(i,s){var l=Ft();s=s===void 0?null:s;var f=l.memoizedState;if(s!==null&&wg(s,f[1]))return f[0];if(f=i(),to){tr(!0);try{i()}finally{tr(!1)}}return l.memoizedState=[f,s],f}function Ig(i,s,l){return l===void 0||(La&1073741824)!==0?i.memoizedState=s:(i.memoizedState=l,i=kE(),ze.lanes|=i,Ha|=i,l)}function Iw(i,s,l,f){return rr(l,s)?l:dl.current!==null?(i=Ig(i,l,f),rr(i,s)||(cn=!0),i):(La&42)===0?(cn=!0,i.memoizedState=l):(i=kE(),ze.lanes|=i,Ha|=i,s)}function Mw(i,s,l,f,g){var b=ue.p;ue.p=b!==0&&8>b?b:8;var O=X.T,D={};X.T=D,Vg(i,!1,s,l);try{var F=g(),W=X.S;if(W!==null&&W(D,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var ae=JM(F,f);rc(i,s,ae,lr(i))}else rc(i,s,f,lr(i))}catch(oe){rc(i,s,{then:function(){},status:"rejected",reason:oe},lr())}finally{ue.p=b,X.T=O}}function i4(){}function Mg(i,s,l,f){if(i.tag!==5)throw Error(r(476));var g=kw(i).queue;Mw(i,g,s,ee,l===null?i4:function(){return Vw(i),l(f)})}function kw(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ea,lastRenderedState:ee},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ea,lastRenderedState:l},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function Vw(i){var s=kw(i).next.queue;rc(i,s,{},lr())}function kg(){return Dn(_c)}function Lw(){return Ft().memoizedState}function Bw(){return Ft().memoizedState}function a4(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var l=lr();i=ka(l);var f=Va(s,i,l);f!==null&&(ur(f,s,l),Wu(f,s,l)),s={cache:hg()},i.payload=s;return}s=s.return}}function s4(i,s,l){var f=lr();l={lane:f,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},jh(i)?zw(s,l):(l=ng(i,s,l,f),l!==null&&(ur(l,i,f),qw(l,s,f)))}function Uw(i,s,l){var f=lr();rc(i,s,l,f)}function rc(i,s,l,f){var g={lane:f,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(jh(i))zw(s,g);else{var b=i.alternate;if(i.lanes===0&&(b===null||b.lanes===0)&&(b=s.lastRenderedReducer,b!==null))try{var O=s.lastRenderedState,D=b(O,l);if(g.hasEagerState=!0,g.eagerState=D,rr(D,O))return hh(i,s,g,0),bt===null&&fh(),!1}catch{}finally{}if(l=ng(i,s,g,f),l!==null)return ur(l,i,f),qw(l,s,f),!0}return!1}function Vg(i,s,l,f){if(f={lane:2,revertLane:pv(),action:f,hasEagerState:!1,eagerState:null,next:null},jh(i)){if(s)throw Error(r(479))}else s=ng(i,l,f,2),s!==null&&ur(s,i,2)}function jh(i){var s=i.alternate;return i===ze||s!==null&&s===ze}function zw(i,s){ml=Eh=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function qw(i,s,l){if((l&4194048)!==0){var f=s.lanes;f&=i.pendingLanes,l|=f,s.lanes=l,Au(i,l)}}var Ph={readContext:Dn,use:Ah,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useLayoutEffect:Lt,useInsertionEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useSyncExternalStore:Lt,useId:Lt,useHostTransitionStatus:Lt,useFormState:Lt,useActionState:Lt,useOptimistic:Lt,useMemoCache:Lt,useCacheRefresh:Lt},$w={readContext:Dn,use:Ah,useCallback:function(i,s){return Hn().memoizedState=[i,s===void 0?null:s],i},useContext:Dn,useEffect:Tw,useImperativeHandle:function(i,s,l){l=l!=null?l.concat([i]):null,Ch(4194308,4,Pw.bind(null,s,i),l)},useLayoutEffect:function(i,s){return Ch(4194308,4,i,s)},useInsertionEffect:function(i,s){Ch(4,2,i,s)},useMemo:function(i,s){var l=Hn();s=s===void 0?null:s;var f=i();if(to){tr(!0);try{i()}finally{tr(!1)}}return l.memoizedState=[f,s],f},useReducer:function(i,s,l){var f=Hn();if(l!==void 0){var g=l(s);if(to){tr(!0);try{l(s)}finally{tr(!1)}}}else g=s;return f.memoizedState=f.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},f.queue=i,i=i.dispatch=s4.bind(null,ze,i),[f.memoizedState,i]},useRef:function(i){var s=Hn();return i={current:i},s.memoizedState=i},useState:function(i){i=Ng(i);var s=i.queue,l=Uw.bind(null,ze,s);return s.dispatch=l,[i.memoizedState,l]},useDebugValue:Rg,useDeferredValue:function(i,s){var l=Hn();return Ig(l,i,s)},useTransition:function(){var i=Ng(!1);return i=Mw.bind(null,ze,i.queue,!0,!1),Hn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,l){var f=ze,g=Hn();if(nt){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),bt===null)throw Error(r(349));(Qe&124)!==0||cw(f,s,l)}g.memoizedState=l;var b={value:l,getSnapshot:s};return g.queue=b,Tw(hw.bind(null,f,b,i),[i]),f.flags|=2048,gl(9,Oh(),fw.bind(null,f,b,l,s),null),l},useId:function(){var i=Hn(),s=bt.identifierPrefix;if(nt){var l=Wi,f=Qi;l=(f&~(1<<32-Nn(f)-1)).toString(32)+l,s="«"+s+"R"+l,l=Sh++,0<l&&(s+="H"+l.toString(32)),s+="»"}else l=e4++,s="«"+s+"r"+l.toString(32)+"»";return i.memoizedState=s},useHostTransitionStatus:kg,useFormState:_w,useActionState:_w,useOptimistic:function(i){var s=Hn();s.memoizedState=s.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=Vg.bind(null,ze,!0,l),l.dispatch=s,[i,s]},useMemoCache:Cg,useCacheRefresh:function(){return Hn().memoizedState=a4.bind(null,ze)}},Fw={readContext:Dn,use:Ah,useCallback:Dw,useContext:Dn,useEffect:Ow,useImperativeHandle:Nw,useInsertionEffect:Cw,useLayoutEffect:jw,useMemo:Rw,useReducer:Th,useRef:Aw,useState:function(){return Th(ea)},useDebugValue:Rg,useDeferredValue:function(i,s){var l=Ft();return Iw(l,dt.memoizedState,i,s)},useTransition:function(){var i=Th(ea)[0],s=Ft().memoizedState;return[typeof i=="boolean"?i:tc(i),s]},useSyncExternalStore:uw,useId:Lw,useHostTransitionStatus:kg,useFormState:ww,useActionState:ww,useOptimistic:function(i,s){var l=Ft();return pw(l,dt,i,s)},useMemoCache:Cg,useCacheRefresh:Bw},o4={readContext:Dn,use:Ah,useCallback:Dw,useContext:Dn,useEffect:Ow,useImperativeHandle:Nw,useInsertionEffect:Cw,useLayoutEffect:jw,useMemo:Rw,useReducer:Pg,useRef:Aw,useState:function(){return Pg(ea)},useDebugValue:Rg,useDeferredValue:function(i,s){var l=Ft();return dt===null?Ig(l,i,s):Iw(l,dt.memoizedState,i,s)},useTransition:function(){var i=Pg(ea)[0],s=Ft().memoizedState;return[typeof i=="boolean"?i:tc(i),s]},useSyncExternalStore:uw,useId:Lw,useHostTransitionStatus:kg,useFormState:Sw,useActionState:Sw,useOptimistic:function(i,s){var l=Ft();return dt!==null?pw(l,dt,i,s):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:Cg,useCacheRefresh:Bw},vl=null,ic=0;function Nh(i){var s=ic;return ic+=1,vl===null&&(vl=[]),tw(vl,i,s)}function ac(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Dh(i,s){throw s.$$typeof===v?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function Hw(i){var s=i._init;return s(i._payload)}function Kw(i){function s(G,K){if(i){var Q=G.deletions;Q===null?(G.deletions=[K],G.flags|=16):Q.push(K)}}function l(G,K){if(!i)return null;for(;K!==null;)s(G,K),K=K.sibling;return null}function f(G){for(var K=new Map;G!==null;)G.key!==null?K.set(G.key,G):K.set(G.index,G),G=G.sibling;return K}function g(G,K){return G=Xi(G,K),G.index=0,G.sibling=null,G}function b(G,K,Q){return G.index=Q,i?(Q=G.alternate,Q!==null?(Q=Q.index,Q<K?(G.flags|=67108866,K):Q):(G.flags|=67108866,K)):(G.flags|=1048576,K)}function O(G){return i&&G.alternate===null&&(G.flags|=67108866),G}function D(G,K,Q,se){return K===null||K.tag!==6?(K=ig(Q,G.mode,se),K.return=G,K):(K=g(K,Q),K.return=G,K)}function F(G,K,Q,se){var be=Q.type;return be===S?ae(G,K,Q.props.children,se,Q.key):K!==null&&(K.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===R&&Hw(be)===K.type)?(K=g(K,Q.props),ac(K,Q),K.return=G,K):(K=mh(Q.type,Q.key,Q.props,null,G.mode,se),ac(K,Q),K.return=G,K)}function W(G,K,Q,se){return K===null||K.tag!==4||K.stateNode.containerInfo!==Q.containerInfo||K.stateNode.implementation!==Q.implementation?(K=ag(Q,G.mode,se),K.return=G,K):(K=g(K,Q.children||[]),K.return=G,K)}function ae(G,K,Q,se,be){return K===null||K.tag!==7?(K=Gs(Q,G.mode,se,be),K.return=G,K):(K=g(K,Q),K.return=G,K)}function oe(G,K,Q){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=ig(""+K,G.mode,Q),K.return=G,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case y:return Q=mh(K.type,K.key,K.props,null,G.mode,Q),ac(Q,K),Q.return=G,Q;case _:return K=ag(K,G.mode,Q),K.return=G,K;case R:var se=K._init;return K=se(K._payload),oe(G,K,Q)}if(Se(K)||q(K))return K=Gs(K,G.mode,Q,null),K.return=G,K;if(typeof K.then=="function")return oe(G,Nh(K),Q);if(K.$$typeof===P)return oe(G,yh(G,K),Q);Dh(G,K)}return null}function Z(G,K,Q,se){var be=K!==null?K.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return be!==null?null:D(G,K,""+Q,se);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case y:return Q.key===be?F(G,K,Q,se):null;case _:return Q.key===be?W(G,K,Q,se):null;case R:return be=Q._init,Q=be(Q._payload),Z(G,K,Q,se)}if(Se(Q)||q(Q))return be!==null?null:ae(G,K,Q,se,null);if(typeof Q.then=="function")return Z(G,K,Nh(Q),se);if(Q.$$typeof===P)return Z(G,K,yh(G,Q),se);Dh(G,Q)}return null}function J(G,K,Q,se,be){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return G=G.get(Q)||null,D(K,G,""+se,be);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case y:return G=G.get(se.key===null?Q:se.key)||null,F(K,G,se,be);case _:return G=G.get(se.key===null?Q:se.key)||null,W(K,G,se,be);case R:var qe=se._init;return se=qe(se._payload),J(G,K,Q,se,be)}if(Se(se)||q(se))return G=G.get(Q)||null,ae(K,G,se,be,null);if(typeof se.then=="function")return J(G,K,Q,Nh(se),be);if(se.$$typeof===P)return J(G,K,Q,yh(K,se),be);Dh(K,se)}return null}function Ie(G,K,Q,se){for(var be=null,qe=null,we=K,De=K=0,hn=null;we!==null&&De<Q.length;De++){we.index>De?(hn=we,we=null):hn=we.sibling;var et=Z(G,we,Q[De],se);if(et===null){we===null&&(we=hn);break}i&&we&&et.alternate===null&&s(G,we),K=b(et,K,De),qe===null?be=et:qe.sibling=et,qe=et,we=hn}if(De===Q.length)return l(G,we),nt&&Xs(G,De),be;if(we===null){for(;De<Q.length;De++)we=oe(G,Q[De],se),we!==null&&(K=b(we,K,De),qe===null?be=we:qe.sibling=we,qe=we);return nt&&Xs(G,De),be}for(we=f(we);De<Q.length;De++)hn=J(we,G,De,Q[De],se),hn!==null&&(i&&hn.alternate!==null&&we.delete(hn.key===null?De:hn.key),K=b(hn,K,De),qe===null?be=hn:qe.sibling=hn,qe=hn);return i&&we.forEach(function(es){return s(G,es)}),nt&&Xs(G,De),be}function Ne(G,K,Q,se){if(Q==null)throw Error(r(151));for(var be=null,qe=null,we=K,De=K=0,hn=null,et=Q.next();we!==null&&!et.done;De++,et=Q.next()){we.index>De?(hn=we,we=null):hn=we.sibling;var es=Z(G,we,et.value,se);if(es===null){we===null&&(we=hn);break}i&&we&&es.alternate===null&&s(G,we),K=b(es,K,De),qe===null?be=es:qe.sibling=es,qe=es,we=hn}if(et.done)return l(G,we),nt&&Xs(G,De),be;if(we===null){for(;!et.done;De++,et=Q.next())et=oe(G,et.value,se),et!==null&&(K=b(et,K,De),qe===null?be=et:qe.sibling=et,qe=et);return nt&&Xs(G,De),be}for(we=f(we);!et.done;De++,et=Q.next())et=J(we,G,De,et.value,se),et!==null&&(i&&et.alternate!==null&&we.delete(et.key===null?De:et.key),K=b(et,K,De),qe===null?be=et:qe.sibling=et,qe=et);return i&&we.forEach(function(lk){return s(G,lk)}),nt&&Xs(G,De),be}function pt(G,K,Q,se){if(typeof Q=="object"&&Q!==null&&Q.type===S&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case y:e:{for(var be=Q.key;K!==null;){if(K.key===be){if(be=Q.type,be===S){if(K.tag===7){l(G,K.sibling),se=g(K,Q.props.children),se.return=G,G=se;break e}}else if(K.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===R&&Hw(be)===K.type){l(G,K.sibling),se=g(K,Q.props),ac(se,Q),se.return=G,G=se;break e}l(G,K);break}else s(G,K);K=K.sibling}Q.type===S?(se=Gs(Q.props.children,G.mode,se,Q.key),se.return=G,G=se):(se=mh(Q.type,Q.key,Q.props,null,G.mode,se),ac(se,Q),se.return=G,G=se)}return O(G);case _:e:{for(be=Q.key;K!==null;){if(K.key===be)if(K.tag===4&&K.stateNode.containerInfo===Q.containerInfo&&K.stateNode.implementation===Q.implementation){l(G,K.sibling),se=g(K,Q.children||[]),se.return=G,G=se;break e}else{l(G,K);break}else s(G,K);K=K.sibling}se=ag(Q,G.mode,se),se.return=G,G=se}return O(G);case R:return be=Q._init,Q=be(Q._payload),pt(G,K,Q,se)}if(Se(Q))return Ie(G,K,Q,se);if(q(Q)){if(be=q(Q),typeof be!="function")throw Error(r(150));return Q=be.call(Q),Ne(G,K,Q,se)}if(typeof Q.then=="function")return pt(G,K,Nh(Q),se);if(Q.$$typeof===P)return pt(G,K,yh(G,Q),se);Dh(G,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,K!==null&&K.tag===6?(l(G,K.sibling),se=g(K,Q),se.return=G,G=se):(l(G,K),se=ig(Q,G.mode,se),se.return=G,G=se),O(G)):l(G,K)}return function(G,K,Q,se){try{ic=0;var be=pt(G,K,Q,se);return vl=null,be}catch(we){if(we===Xu||we===xh)throw we;var qe=ir(29,we,null,G.mode);return qe.lanes=se,qe.return=G,qe}finally{}}}var yl=Kw(!0),Gw=Kw(!1),Pr=re(null),xi=null;function Ba(i){var s=i.alternate;ce(en,en.current&1),ce(Pr,i),xi===null&&(s===null||dl.current!==null||s.memoizedState!==null)&&(xi=i)}function Yw(i){if(i.tag===22){if(ce(en,en.current),ce(Pr,i),xi===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(xi=i)}}else Ua()}function Ua(){ce(en,en.current),ce(Pr,Pr.current)}function ta(i){ie(Pr),xi===i&&(xi=null),ie(en)}var en=re(0);function Rh(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Ov(l)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Lg(i,s,l,f){s=i.memoizedState,l=l(f,s),l=l==null?s:m({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Bg={enqueueSetState:function(i,s,l){i=i._reactInternals;var f=lr(),g=ka(f);g.payload=s,l!=null&&(g.callback=l),s=Va(i,g,f),s!==null&&(ur(s,i,f),Wu(s,i,f))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var f=lr(),g=ka(f);g.tag=1,g.payload=s,l!=null&&(g.callback=l),s=Va(i,g,f),s!==null&&(ur(s,i,f),Wu(s,i,f))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=lr(),f=ka(l);f.tag=2,s!=null&&(f.callback=s),s=Va(i,f,l),s!==null&&(ur(s,i,l),Wu(s,i,l))}};function Xw(i,s,l,f,g,b,O){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,b,O):s.prototype&&s.prototype.isPureReactComponent?!zu(l,f)||!zu(g,b):!0}function Qw(i,s,l,f){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,f),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,f),s.state!==i&&Bg.enqueueReplaceState(s,s.state,null)}function no(i,s){var l=s;if("ref"in s){l={};for(var f in s)f!=="ref"&&(l[f]=s[f])}if(i=i.defaultProps){l===s&&(l=m({},l));for(var g in i)l[g]===void 0&&(l[g]=i[g])}return l}var Ih=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function Ww(i){Ih(i)}function Zw(i){console.error(i)}function Jw(i){Ih(i)}function Mh(i,s){try{var l=i.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(f){setTimeout(function(){throw f})}}function eE(i,s,l){try{var f=i.onCaughtError;f(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Ug(i,s,l){return l=ka(l),l.tag=3,l.payload={element:null},l.callback=function(){Mh(i,s)},l}function tE(i){return i=ka(i),i.tag=3,i}function nE(i,s,l,f){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var b=f.value;i.payload=function(){return g(b)},i.callback=function(){eE(s,l,f)}}var O=l.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(i.callback=function(){eE(s,l,f),typeof g!="function"&&(Ka===null?Ka=new Set([this]):Ka.add(this));var D=f.stack;this.componentDidCatch(f.value,{componentStack:D!==null?D:""})})}function l4(i,s,l,f,g){if(l.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(s=l.alternate,s!==null&&Ku(s,l,g,!0),l=Pr.current,l!==null){switch(l.tag){case 13:return xi===null?cv():l.alternate===null&&It===0&&(It=3),l.flags&=-257,l.flags|=65536,l.lanes=g,f===pg?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([f]):s.add(f),hv(i,f,g)),!1;case 22:return l.flags|=65536,f===pg?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([f])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([f]):l.add(f)),hv(i,f,g)),!1}throw Error(r(435,l.tag))}return hv(i,f,g),cv(),!1}if(nt)return s=Pr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=g,f!==lg&&(i=Error(r(422),{cause:f}),Hu(Tr(i,l)))):(f!==lg&&(s=Error(r(423),{cause:f}),Hu(Tr(s,l))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,f=Tr(f,l),g=Ug(i.stateNode,f,g),yg(i,g),It!==4&&(It=2)),!1;var b=Error(r(520),{cause:f});if(b=Tr(b,l),hc===null?hc=[b]:hc.push(b),It!==4&&(It=2),s===null)return!0;f=Tr(f,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,i=g&-g,l.lanes|=i,i=Ug(l.stateNode,f,i),yg(l,i),!1;case 1:if(s=l.type,b=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ka===null||!Ka.has(b))))return l.flags|=65536,g&=-g,l.lanes|=g,g=tE(g),nE(g,i,l,f),yg(l,g),!1}l=l.return}while(l!==null);return!1}var rE=Error(r(461)),cn=!1;function _n(i,s,l,f){s.child=i===null?Gw(s,null,l,f):yl(s,i.child,l,f)}function iE(i,s,l,f,g){l=l.render;var b=s.ref;if("ref"in f){var O={};for(var D in f)D!=="ref"&&(O[D]=f[D])}else O=f;return Js(s),f=Eg(i,s,l,O,b,g),D=Sg(),i!==null&&!cn?(Ag(i,s,g),na(i,s,g)):(nt&&D&&sg(s),s.flags|=1,_n(i,s,f,g),s.child)}function aE(i,s,l,f,g){if(i===null){var b=l.type;return typeof b=="function"&&!rg(b)&&b.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=b,sE(i,s,b,f,g)):(i=mh(l.type,null,f,s,s.mode,g),i.ref=s.ref,i.return=s,s.child=i)}if(b=i.child,!Yg(i,g)){var O=b.memoizedProps;if(l=l.compare,l=l!==null?l:zu,l(O,f)&&i.ref===s.ref)return na(i,s,g)}return s.flags|=1,i=Xi(b,f),i.ref=s.ref,i.return=s,s.child=i}function sE(i,s,l,f,g){if(i!==null){var b=i.memoizedProps;if(zu(b,f)&&i.ref===s.ref)if(cn=!1,s.pendingProps=f=b,Yg(i,g))(i.flags&131072)!==0&&(cn=!0);else return s.lanes=i.lanes,na(i,s,g)}return zg(i,s,l,f,g)}function oE(i,s,l){var f=s.pendingProps,g=f.children,b=i!==null?i.memoizedState:null;if(f.mode==="hidden"){if((s.flags&128)!==0){if(f=b!==null?b.baseLanes|l:l,i!==null){for(g=s.child=i.child,b=0;g!==null;)b=b|g.lanes|g.childLanes,g=g.sibling;s.childLanes=b&~f}else s.childLanes=0,s.child=null;return lE(i,s,f,l)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&bh(s,b!==null?b.cachePool:null),b!==null?sw(s,b):xg(),Yw(s);else return s.lanes=s.childLanes=536870912,lE(i,s,b!==null?b.baseLanes|l:l,l)}else b!==null?(bh(s,b.cachePool),sw(s,b),Ua(),s.memoizedState=null):(i!==null&&bh(s,null),xg(),Ua());return _n(i,s,g,l),s.child}function lE(i,s,l,f){var g=mg();return g=g===null?null:{parent:Jt._currentValue,pool:g},s.memoizedState={baseLanes:l,cachePool:g},i!==null&&bh(s,null),xg(),Yw(s),i!==null&&Ku(i,s,f,!0),null}function kh(i,s){var l=s.ref;if(l===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(s.flags|=4194816)}}function zg(i,s,l,f,g){return Js(s),l=Eg(i,s,l,f,void 0,g),f=Sg(),i!==null&&!cn?(Ag(i,s,g),na(i,s,g)):(nt&&f&&sg(s),s.flags|=1,_n(i,s,l,g),s.child)}function uE(i,s,l,f,g,b){return Js(s),s.updateQueue=null,l=lw(s,f,l,g),ow(i),f=Sg(),i!==null&&!cn?(Ag(i,s,b),na(i,s,b)):(nt&&f&&sg(s),s.flags|=1,_n(i,s,l,b),s.child)}function cE(i,s,l,f,g){if(Js(s),s.stateNode===null){var b=ll,O=l.contextType;typeof O=="object"&&O!==null&&(b=Dn(O)),b=new l(f,b),s.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Bg,s.stateNode=b,b._reactInternals=s,b=s.stateNode,b.props=f,b.state=s.memoizedState,b.refs={},gg(s),O=l.contextType,b.context=typeof O=="object"&&O!==null?Dn(O):ll,b.state=s.memoizedState,O=l.getDerivedStateFromProps,typeof O=="function"&&(Lg(s,l,O,f),b.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(O=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),O!==b.state&&Bg.enqueueReplaceState(b,b.state,null),Ju(s,f,b,g),Zu(),b.state=s.memoizedState),typeof b.componentDidMount=="function"&&(s.flags|=4194308),f=!0}else if(i===null){b=s.stateNode;var D=s.memoizedProps,F=no(l,D);b.props=F;var W=b.context,ae=l.contextType;O=ll,typeof ae=="object"&&ae!==null&&(O=Dn(ae));var oe=l.getDerivedStateFromProps;ae=typeof oe=="function"||typeof b.getSnapshotBeforeUpdate=="function",D=s.pendingProps!==D,ae||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(D||W!==O)&&Qw(s,b,f,O),Ma=!1;var Z=s.memoizedState;b.state=Z,Ju(s,f,b,g),Zu(),W=s.memoizedState,D||Z!==W||Ma?(typeof oe=="function"&&(Lg(s,l,oe,f),W=s.memoizedState),(F=Ma||Xw(s,l,F,f,Z,W,O))?(ae||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(s.flags|=4194308)):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=f,s.memoizedState=W),b.props=f,b.state=W,b.context=O,f=F):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),f=!1)}else{b=s.stateNode,vg(i,s),O=s.memoizedProps,ae=no(l,O),b.props=ae,oe=s.pendingProps,Z=b.context,W=l.contextType,F=ll,typeof W=="object"&&W!==null&&(F=Dn(W)),D=l.getDerivedStateFromProps,(W=typeof D=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(O!==oe||Z!==F)&&Qw(s,b,f,F),Ma=!1,Z=s.memoizedState,b.state=Z,Ju(s,f,b,g),Zu();var J=s.memoizedState;O!==oe||Z!==J||Ma||i!==null&&i.dependencies!==null&&vh(i.dependencies)?(typeof D=="function"&&(Lg(s,l,D,f),J=s.memoizedState),(ae=Ma||Xw(s,l,ae,f,Z,J,F)||i!==null&&i.dependencies!==null&&vh(i.dependencies))?(W||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(f,J,F),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(f,J,F)),typeof b.componentDidUpdate=="function"&&(s.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof b.componentDidUpdate!="function"||O===i.memoizedProps&&Z===i.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||O===i.memoizedProps&&Z===i.memoizedState||(s.flags|=1024),s.memoizedProps=f,s.memoizedState=J),b.props=f,b.state=J,b.context=F,f=ae):(typeof b.componentDidUpdate!="function"||O===i.memoizedProps&&Z===i.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||O===i.memoizedProps&&Z===i.memoizedState||(s.flags|=1024),f=!1)}return b=f,kh(i,s),f=(s.flags&128)!==0,b||f?(b=s.stateNode,l=f&&typeof l.getDerivedStateFromError!="function"?null:b.render(),s.flags|=1,i!==null&&f?(s.child=yl(s,i.child,null,g),s.child=yl(s,null,l,g)):_n(i,s,l,g),s.memoizedState=b.state,i=s.child):i=na(i,s,g),i}function fE(i,s,l,f){return Fu(),s.flags|=256,_n(i,s,l,f),s.child}var qg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $g(i){return{baseLanes:i,cachePool:Z_()}}function Fg(i,s,l){return i=i!==null?i.childLanes&~l:0,s&&(i|=Nr),i}function hE(i,s,l){var f=s.pendingProps,g=!1,b=(s.flags&128)!==0,O;if((O=b)||(O=i!==null&&i.memoizedState===null?!1:(en.current&2)!==0),O&&(g=!0,s.flags&=-129),O=(s.flags&32)!==0,s.flags&=-33,i===null){if(nt){if(g?Ba(s):Ua(),nt){var D=Rt,F;if(F=D){e:{for(F=D,D=bi;F.nodeType!==8;){if(!D){D=null;break e}if(F=Qr(F.nextSibling),F===null){D=null;break e}}D=F}D!==null?(s.memoizedState={dehydrated:D,treeContext:Ys!==null?{id:Qi,overflow:Wi}:null,retryLane:536870912,hydrationErrors:null},F=ir(18,null,null,0),F.stateNode=D,F.return=s,s.child=F,$n=s,Rt=null,F=!0):F=!1}F||Ws(s)}if(D=s.memoizedState,D!==null&&(D=D.dehydrated,D!==null))return Ov(D)?s.lanes=32:s.lanes=536870912,null;ta(s)}return D=f.children,f=f.fallback,g?(Ua(),g=s.mode,D=Vh({mode:"hidden",children:D},g),f=Gs(f,g,l,null),D.return=s,f.return=s,D.sibling=f,s.child=D,g=s.child,g.memoizedState=$g(l),g.childLanes=Fg(i,O,l),s.memoizedState=qg,f):(Ba(s),Hg(s,D))}if(F=i.memoizedState,F!==null&&(D=F.dehydrated,D!==null)){if(b)s.flags&256?(Ba(s),s.flags&=-257,s=Kg(i,s,l)):s.memoizedState!==null?(Ua(),s.child=i.child,s.flags|=128,s=null):(Ua(),g=f.fallback,D=s.mode,f=Vh({mode:"visible",children:f.children},D),g=Gs(g,D,l,null),g.flags|=2,f.return=s,g.return=s,f.sibling=g,s.child=f,yl(s,i.child,null,l),f=s.child,f.memoizedState=$g(l),f.childLanes=Fg(i,O,l),s.memoizedState=qg,s=g);else if(Ba(s),Ov(D)){if(O=D.nextSibling&&D.nextSibling.dataset,O)var W=O.dgst;O=W,f=Error(r(419)),f.stack="",f.digest=O,Hu({value:f,source:null,stack:null}),s=Kg(i,s,l)}else if(cn||Ku(i,s,l,!1),O=(l&i.childLanes)!==0,cn||O){if(O=bt,O!==null&&(f=l&-l,f=(f&42)!==0?1:Oa(f),f=(f&(O.suspendedLanes|l))!==0?0:f,f!==0&&f!==F.retryLane))throw F.retryLane=f,ol(i,f),ur(O,i,f),rE;D.data==="$?"||cv(),s=Kg(i,s,l)}else D.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=F.treeContext,Rt=Qr(D.nextSibling),$n=s,nt=!0,Qs=null,bi=!1,i!==null&&(Cr[jr++]=Qi,Cr[jr++]=Wi,Cr[jr++]=Ys,Qi=i.id,Wi=i.overflow,Ys=s),s=Hg(s,f.children),s.flags|=4096);return s}return g?(Ua(),g=f.fallback,D=s.mode,F=i.child,W=F.sibling,f=Xi(F,{mode:"hidden",children:f.children}),f.subtreeFlags=F.subtreeFlags&65011712,W!==null?g=Xi(W,g):(g=Gs(g,D,l,null),g.flags|=2),g.return=s,f.return=s,f.sibling=g,s.child=f,f=g,g=s.child,D=i.child.memoizedState,D===null?D=$g(l):(F=D.cachePool,F!==null?(W=Jt._currentValue,F=F.parent!==W?{parent:W,pool:W}:F):F=Z_(),D={baseLanes:D.baseLanes|l,cachePool:F}),g.memoizedState=D,g.childLanes=Fg(i,O,l),s.memoizedState=qg,f):(Ba(s),l=i.child,i=l.sibling,l=Xi(l,{mode:"visible",children:f.children}),l.return=s,l.sibling=null,i!==null&&(O=s.deletions,O===null?(s.deletions=[i],s.flags|=16):O.push(i)),s.child=l,s.memoizedState=null,l)}function Hg(i,s){return s=Vh({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Vh(i,s){return i=ir(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Kg(i,s,l){return yl(s,i.child,null,l),i=Hg(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function dE(i,s,l){i.lanes|=s;var f=i.alternate;f!==null&&(f.lanes|=s),cg(i.return,s,l)}function Gg(i,s,l,f,g){var b=i.memoizedState;b===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:f,tail:l,tailMode:g}:(b.isBackwards=s,b.rendering=null,b.renderingStartTime=0,b.last=f,b.tail=l,b.tailMode=g)}function mE(i,s,l){var f=s.pendingProps,g=f.revealOrder,b=f.tail;if(_n(i,s,f.children,l),f=en.current,(f&2)!==0)f=f&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&dE(i,l,s);else if(i.tag===19)dE(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}switch(ce(en,f),g){case"forwards":for(l=s.child,g=null;l!==null;)i=l.alternate,i!==null&&Rh(i)===null&&(g=l),l=l.sibling;l=g,l===null?(g=s.child,s.child=null):(g=l.sibling,l.sibling=null),Gg(s,!1,g,l,b);break;case"backwards":for(l=null,g=s.child,s.child=null;g!==null;){if(i=g.alternate,i!==null&&Rh(i)===null){s.child=g;break}i=g.sibling,g.sibling=l,l=g,g=i}Gg(s,!0,l,null,b);break;case"together":Gg(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function na(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),Ha|=s.lanes,(l&s.childLanes)===0)if(i!==null){if(Ku(i,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,l=Xi(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=Xi(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function Yg(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&vh(i)))}function u4(i,s,l){switch(s.tag){case 3:Je(s,s.stateNode.containerInfo),Ia(s,Jt,i.memoizedState.cache),Fu();break;case 27:case 5:Me(s);break;case 4:Je(s,s.stateNode.containerInfo);break;case 10:Ia(s,s.type,s.memoizedProps.value);break;case 13:var f=s.memoizedState;if(f!==null)return f.dehydrated!==null?(Ba(s),s.flags|=128,null):(l&s.child.childLanes)!==0?hE(i,s,l):(Ba(s),i=na(i,s,l),i!==null?i.sibling:null);Ba(s);break;case 19:var g=(i.flags&128)!==0;if(f=(l&s.childLanes)!==0,f||(Ku(i,s,l,!1),f=(l&s.childLanes)!==0),g){if(f)return mE(i,s,l);s.flags|=128}if(g=s.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ce(en,en.current),f)break;return null;case 22:case 23:return s.lanes=0,oE(i,s,l);case 24:Ia(s,Jt,i.memoizedState.cache)}return na(i,s,l)}function pE(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps)cn=!0;else{if(!Yg(i,l)&&(s.flags&128)===0)return cn=!1,u4(i,s,l);cn=(i.flags&131072)!==0}else cn=!1,nt&&(s.flags&1048576)!==0&&H_(s,gh,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var f=s.elementType,g=f._init;if(f=g(f._payload),s.type=f,typeof f=="function")rg(f)?(i=no(f,i),s.tag=1,s=cE(null,s,f,i,l)):(s.tag=0,s=zg(null,s,f,i,l));else{if(f!=null){if(g=f.$$typeof,g===U){s.tag=11,s=iE(null,s,f,i,l);break e}else if(g===N){s.tag=14,s=aE(null,s,f,i,l);break e}}throw s=Ce(f)||f,Error(r(306,s,""))}}return s;case 0:return zg(i,s,s.type,s.pendingProps,l);case 1:return f=s.type,g=no(f,s.pendingProps),cE(i,s,f,g,l);case 3:e:{if(Je(s,s.stateNode.containerInfo),i===null)throw Error(r(387));f=s.pendingProps;var b=s.memoizedState;g=b.element,vg(i,s),Ju(s,f,null,l);var O=s.memoizedState;if(f=O.cache,Ia(s,Jt,f),f!==b.cache&&fg(s,[Jt],l,!0),Zu(),f=O.element,b.isDehydrated)if(b={element:f,isDehydrated:!1,cache:O.cache},s.updateQueue.baseState=b,s.memoizedState=b,s.flags&256){s=fE(i,s,f,l);break e}else if(f!==g){g=Tr(Error(r(424)),s),Hu(g),s=fE(i,s,f,l);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Rt=Qr(i.firstChild),$n=s,nt=!0,Qs=null,bi=!0,l=Gw(s,null,f,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Fu(),f===g){s=na(i,s,l);break e}_n(i,s,f,l)}s=s.child}return s;case 26:return kh(i,s),i===null?(l=bS(s.type,null,s.pendingProps,null))?s.memoizedState=l:nt||(l=s.type,i=s.pendingProps,f=Wh(Pe.current).createElement(l),f[Qt]=s,f[zt]=i,En(f,l,i),Vt(f),s.stateNode=f):s.memoizedState=bS(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Me(s),i===null&&nt&&(f=s.stateNode=gS(s.type,s.pendingProps,Pe.current),$n=s,bi=!0,g=Rt,Xa(s.type)?(Cv=g,Rt=Qr(f.firstChild)):Rt=g),_n(i,s,s.pendingProps.children,l),kh(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&nt&&((g=f=Rt)&&(f=V4(f,s.type,s.pendingProps,bi),f!==null?(s.stateNode=f,$n=s,Rt=Qr(f.firstChild),bi=!1,g=!0):g=!1),g||Ws(s)),Me(s),g=s.type,b=s.pendingProps,O=i!==null?i.memoizedProps:null,f=b.children,Sv(g,b)?f=null:O!==null&&Sv(g,O)&&(s.flags|=32),s.memoizedState!==null&&(g=Eg(i,s,t4,null,null,l),_c._currentValue=g),kh(i,s),_n(i,s,f,l),s.child;case 6:return i===null&&nt&&((i=l=Rt)&&(l=L4(l,s.pendingProps,bi),l!==null?(s.stateNode=l,$n=s,Rt=null,i=!0):i=!1),i||Ws(s)),null;case 13:return hE(i,s,l);case 4:return Je(s,s.stateNode.containerInfo),f=s.pendingProps,i===null?s.child=yl(s,null,f,l):_n(i,s,f,l),s.child;case 11:return iE(i,s,s.type,s.pendingProps,l);case 7:return _n(i,s,s.pendingProps,l),s.child;case 8:return _n(i,s,s.pendingProps.children,l),s.child;case 12:return _n(i,s,s.pendingProps.children,l),s.child;case 10:return f=s.pendingProps,Ia(s,s.type,f.value),_n(i,s,f.children,l),s.child;case 9:return g=s.type._context,f=s.pendingProps.children,Js(s),g=Dn(g),f=f(g),s.flags|=1,_n(i,s,f,l),s.child;case 14:return aE(i,s,s.type,s.pendingProps,l);case 15:return sE(i,s,s.type,s.pendingProps,l);case 19:return mE(i,s,l);case 31:return f=s.pendingProps,l=s.mode,f={mode:f.mode,children:f.children},i===null?(l=Vh(f,l),l.ref=s.ref,s.child=l,l.return=s,s=l):(l=Xi(i.child,f),l.ref=s.ref,s.child=l,l.return=s,s=l),s;case 22:return oE(i,s,l);case 24:return Js(s),f=Dn(Jt),i===null?(g=mg(),g===null&&(g=bt,b=hg(),g.pooledCache=b,b.refCount++,b!==null&&(g.pooledCacheLanes|=l),g=b),s.memoizedState={parent:f,cache:g},gg(s),Ia(s,Jt,g)):((i.lanes&l)!==0&&(vg(i,s),Ju(s,null,null,l),Zu()),g=i.memoizedState,b=s.memoizedState,g.parent!==f?(g={parent:f,cache:f},s.memoizedState=g,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=g),Ia(s,Jt,f)):(f=b.cache,Ia(s,Jt,f),f!==g.cache&&fg(s,[Jt],l,!0))),_n(i,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function ra(i){i.flags|=4}function gE(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!SS(s)){if(s=Pr.current,s!==null&&((Qe&4194048)===Qe?xi!==null:(Qe&62914560)!==Qe&&(Qe&536870912)===0||s!==xi))throw Qu=pg,J_;i.flags|=8192}}function Lh(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Eu():536870912,i.lanes|=s,wl|=s)}function sc(i,s){if(!nt)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function Ct(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,f=0;if(s)for(var g=i.child;g!==null;)l|=g.lanes|g.childLanes,f|=g.subtreeFlags&65011712,f|=g.flags&65011712,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)l|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=f,i.childLanes=l,s}function c4(i,s,l){var f=s.pendingProps;switch(og(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(s),null;case 1:return Ct(s),null;case 3:return l=s.stateNode,f=null,i!==null&&(f=i.memoizedState.cache),s.memoizedState.cache!==f&&(s.flags|=2048),Ji(Jt),pe(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&($u(s)?ra(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Y_())),Ct(s),null;case 26:return l=s.memoizedState,i===null?(ra(s),l!==null?(Ct(s),gE(s,l)):(Ct(s),s.flags&=-16777217)):l?l!==i.memoizedState?(ra(s),Ct(s),gE(s,l)):(Ct(s),s.flags&=-16777217):(i.memoizedProps!==f&&ra(s),Ct(s),s.flags&=-16777217),null;case 27:Ve(s),l=Pe.current;var g=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==f&&ra(s);else{if(!f){if(s.stateNode===null)throw Error(r(166));return Ct(s),null}i=ge.current,$u(s)?K_(s):(i=gS(g,f,l),s.stateNode=i,ra(s))}return Ct(s),null;case 5:if(Ve(s),l=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==f&&ra(s);else{if(!f){if(s.stateNode===null)throw Error(r(166));return Ct(s),null}if(i=ge.current,$u(s))K_(s);else{switch(g=Wh(Pe.current),i){case 1:i=g.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=g.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=g.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof f.is=="string"?g.createElement("select",{is:f.is}):g.createElement("select"),f.multiple?i.multiple=!0:f.size&&(i.size=f.size);break;default:i=typeof f.is=="string"?g.createElement(l,{is:f.is}):g.createElement(l)}}i[Qt]=s,i[zt]=f;e:for(g=s.child;g!==null;){if(g.tag===5||g.tag===6)i.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===s)break e;for(;g.sibling===null;){if(g.return===null||g.return===s)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}s.stateNode=i;e:switch(En(i,l,f),l){case"button":case"input":case"select":case"textarea":i=!!f.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&ra(s)}}return Ct(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==f&&ra(s);else{if(typeof f!="string"&&s.stateNode===null)throw Error(r(166));if(i=Pe.current,$u(s)){if(i=s.stateNode,l=s.memoizedProps,f=null,g=$n,g!==null)switch(g.tag){case 27:case 5:f=g.memoizedProps}i[Qt]=s,i=!!(i.nodeValue===l||f!==null&&f.suppressHydrationWarning===!0||uS(i.nodeValue,l)),i||Ws(s)}else i=Wh(i).createTextNode(f),i[Qt]=s,s.stateNode=i}return Ct(s),null;case 13:if(f=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=$u(s),f!==null&&f.dehydrated!==null){if(i===null){if(!g)throw Error(r(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[Qt]=s}else Fu(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ct(s),g=!1}else g=Y_(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return s.flags&256?(ta(s),s):(ta(s),null)}if(ta(s),(s.flags&128)!==0)return s.lanes=l,s;if(l=f!==null,i=i!==null&&i.memoizedState!==null,l){f=s.child,g=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(g=f.alternate.memoizedState.cachePool.pool);var b=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(b=f.memoizedState.cachePool.pool),b!==g&&(f.flags|=2048)}return l!==i&&l&&(s.child.flags|=8192),Lh(s,s.updateQueue),Ct(s),null;case 4:return pe(),i===null&&bv(s.stateNode.containerInfo),Ct(s),null;case 10:return Ji(s.type),Ct(s),null;case 19:if(ie(en),g=s.memoizedState,g===null)return Ct(s),null;if(f=(s.flags&128)!==0,b=g.rendering,b===null)if(f)sc(g,!1);else{if(It!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(b=Rh(i),b!==null){for(s.flags|=128,sc(g,!1),i=b.updateQueue,s.updateQueue=i,Lh(s,i),s.subtreeFlags=0,i=l,l=s.child;l!==null;)F_(l,i),l=l.sibling;return ce(en,en.current&1|2),s.child}i=i.sibling}g.tail!==null&&ft()>zh&&(s.flags|=128,f=!0,sc(g,!1),s.lanes=4194304)}else{if(!f)if(i=Rh(b),i!==null){if(s.flags|=128,f=!0,i=i.updateQueue,s.updateQueue=i,Lh(s,i),sc(g,!0),g.tail===null&&g.tailMode==="hidden"&&!b.alternate&&!nt)return Ct(s),null}else 2*ft()-g.renderingStartTime>zh&&l!==536870912&&(s.flags|=128,f=!0,sc(g,!1),s.lanes=4194304);g.isBackwards?(b.sibling=s.child,s.child=b):(i=g.last,i!==null?i.sibling=b:s.child=b,g.last=b)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=ft(),s.sibling=null,i=en.current,ce(en,f?i&1|2:i&1),s):(Ct(s),null);case 22:case 23:return ta(s),_g(),f=s.memoizedState!==null,i!==null?i.memoizedState!==null!==f&&(s.flags|=8192):f&&(s.flags|=8192),f?(l&536870912)!==0&&(s.flags&128)===0&&(Ct(s),s.subtreeFlags&6&&(s.flags|=8192)):Ct(s),l=s.updateQueue,l!==null&&Lh(s,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),f=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),f!==l&&(s.flags|=2048),i!==null&&ie(eo),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Ji(Jt),Ct(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function f4(i,s){switch(og(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Ji(Jt),pe(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Ve(s),null;case 13:if(ta(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Fu()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return ie(en),null;case 4:return pe(),null;case 10:return Ji(s.type),null;case 22:case 23:return ta(s),_g(),i!==null&&ie(eo),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Ji(Jt),null;case 25:return null;default:return null}}function vE(i,s){switch(og(s),s.tag){case 3:Ji(Jt),pe();break;case 26:case 27:case 5:Ve(s);break;case 4:pe();break;case 13:ta(s);break;case 19:ie(en);break;case 10:Ji(s.type);break;case 22:case 23:ta(s),_g(),i!==null&&ie(eo);break;case 24:Ji(Jt)}}function oc(i,s){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var g=f.next;l=g;do{if((l.tag&i)===i){f=void 0;var b=l.create,O=l.inst;f=b(),O.destroy=f}l=l.next}while(l!==g)}}catch(D){vt(s,s.return,D)}}function za(i,s,l){try{var f=s.updateQueue,g=f!==null?f.lastEffect:null;if(g!==null){var b=g.next;f=b;do{if((f.tag&i)===i){var O=f.inst,D=O.destroy;if(D!==void 0){O.destroy=void 0,g=s;var F=l,W=D;try{W()}catch(ae){vt(g,F,ae)}}}f=f.next}while(f!==b)}}catch(ae){vt(s,s.return,ae)}}function yE(i){var s=i.updateQueue;if(s!==null){var l=i.stateNode;try{aw(s,l)}catch(f){vt(i,i.return,f)}}}function bE(i,s,l){l.props=no(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(f){vt(i,s,f)}}function lc(i,s){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var f=i.stateNode;break;case 30:f=i.stateNode;break;default:f=i.stateNode}typeof l=="function"?i.refCleanup=l(f):l.current=f}}catch(g){vt(i,s,g)}}function _i(i,s){var l=i.ref,f=i.refCleanup;if(l!==null)if(typeof f=="function")try{f()}catch(g){vt(i,s,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){vt(i,s,g)}else l.current=null}function xE(i){var s=i.type,l=i.memoizedProps,f=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&f.focus();break e;case"img":l.src?f.src=l.src:l.srcSet&&(f.srcset=l.srcSet)}}catch(g){vt(i,i.return,g)}}function Xg(i,s,l){try{var f=i.stateNode;D4(f,i.type,l,s),f[zt]=s}catch(g){vt(i,i.return,g)}}function _E(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Xa(i.type)||i.tag===4}function Qg(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||_E(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Xa(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Wg(i,s,l){var f=i.tag;if(f===5||f===6)i=i.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(i),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Qh));else if(f!==4&&(f===27&&Xa(i.type)&&(l=i.stateNode,s=null),i=i.child,i!==null))for(Wg(i,s,l),i=i.sibling;i!==null;)Wg(i,s,l),i=i.sibling}function Bh(i,s,l){var f=i.tag;if(f===5||f===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(f!==4&&(f===27&&Xa(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(Bh(i,s,l),i=i.sibling;i!==null;)Bh(i,s,l),i=i.sibling}function wE(i){var s=i.stateNode,l=i.memoizedProps;try{for(var f=i.type,g=s.attributes;g.length;)s.removeAttributeNode(g[0]);En(s,f,l),s[Qt]=i,s[zt]=l}catch(b){vt(i,i.return,b)}}var ia=!1,Bt=!1,Zg=!1,EE=typeof WeakSet=="function"?WeakSet:Set,fn=null;function h4(i,s){if(i=i.containerInfo,wv=rd,i=I_(i),Qp(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var f=l.getSelection&&l.getSelection();if(f&&f.rangeCount!==0){l=f.anchorNode;var g=f.anchorOffset,b=f.focusNode;f=f.focusOffset;try{l.nodeType,b.nodeType}catch{l=null;break e}var O=0,D=-1,F=-1,W=0,ae=0,oe=i,Z=null;t:for(;;){for(var J;oe!==l||g!==0&&oe.nodeType!==3||(D=O+g),oe!==b||f!==0&&oe.nodeType!==3||(F=O+f),oe.nodeType===3&&(O+=oe.nodeValue.length),(J=oe.firstChild)!==null;)Z=oe,oe=J;for(;;){if(oe===i)break t;if(Z===l&&++W===g&&(D=O),Z===b&&++ae===f&&(F=O),(J=oe.nextSibling)!==null)break;oe=Z,Z=oe.parentNode}oe=J}l=D===-1||F===-1?null:{start:D,end:F}}else l=null}l=l||{start:0,end:0}}else l=null;for(Ev={focusedElem:i,selectionRange:l},rd=!1,fn=s;fn!==null;)if(s=fn,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,fn=i;else for(;fn!==null;){switch(s=fn,b=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&b!==null){i=void 0,l=s,g=b.memoizedProps,b=b.memoizedState,f=l.stateNode;try{var Ie=no(l.type,g,l.elementType===l.type);i=f.getSnapshotBeforeUpdate(Ie,b),f.__reactInternalSnapshotBeforeUpdate=i}catch(Ne){vt(l,l.return,Ne)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,l=i.nodeType,l===9)Tv(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Tv(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,fn=i;break}fn=s.return}}function SE(i,s,l){var f=l.flags;switch(l.tag){case 0:case 11:case 15:qa(i,l),f&4&&oc(5,l);break;case 1:if(qa(i,l),f&4)if(i=l.stateNode,s===null)try{i.componentDidMount()}catch(O){vt(l,l.return,O)}else{var g=no(l.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(g,s,i.__reactInternalSnapshotBeforeUpdate)}catch(O){vt(l,l.return,O)}}f&64&&yE(l),f&512&&lc(l,l.return);break;case 3:if(qa(i,l),f&64&&(i=l.updateQueue,i!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{aw(i,s)}catch(O){vt(l,l.return,O)}}break;case 27:s===null&&f&4&&wE(l);case 26:case 5:qa(i,l),s===null&&f&4&&xE(l),f&512&&lc(l,l.return);break;case 12:qa(i,l);break;case 13:qa(i,l),f&4&&OE(i,l),f&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=_4.bind(null,l),B4(i,l))));break;case 22:if(f=l.memoizedState!==null||ia,!f){s=s!==null&&s.memoizedState!==null||Bt,g=ia;var b=Bt;ia=f,(Bt=s)&&!b?$a(i,l,(l.subtreeFlags&8772)!==0):qa(i,l),ia=g,Bt=b}break;case 30:break;default:qa(i,l)}}function AE(i){var s=i.alternate;s!==null&&(i.alternate=null,AE(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Pa(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Tt=null,Kn=!1;function aa(i,s,l){for(l=l.child;l!==null;)TE(i,s,l),l=l.sibling}function TE(i,s,l){if(st&&typeof st.onCommitFiberUnmount=="function")try{st.onCommitFiberUnmount(Dt,l)}catch{}switch(l.tag){case 26:Bt||_i(l,s),aa(i,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Bt||_i(l,s);var f=Tt,g=Kn;Xa(l.type)&&(Tt=l.stateNode,Kn=!1),aa(i,s,l),vc(l.stateNode),Tt=f,Kn=g;break;case 5:Bt||_i(l,s);case 6:if(f=Tt,g=Kn,Tt=null,aa(i,s,l),Tt=f,Kn=g,Tt!==null)if(Kn)try{(Tt.nodeType===9?Tt.body:Tt.nodeName==="HTML"?Tt.ownerDocument.body:Tt).removeChild(l.stateNode)}catch(b){vt(l,s,b)}else try{Tt.removeChild(l.stateNode)}catch(b){vt(l,s,b)}break;case 18:Tt!==null&&(Kn?(i=Tt,mS(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),Ac(i)):mS(Tt,l.stateNode));break;case 4:f=Tt,g=Kn,Tt=l.stateNode.containerInfo,Kn=!0,aa(i,s,l),Tt=f,Kn=g;break;case 0:case 11:case 14:case 15:Bt||za(2,l,s),Bt||za(4,l,s),aa(i,s,l);break;case 1:Bt||(_i(l,s),f=l.stateNode,typeof f.componentWillUnmount=="function"&&bE(l,s,f)),aa(i,s,l);break;case 21:aa(i,s,l);break;case 22:Bt=(f=Bt)||l.memoizedState!==null,aa(i,s,l),Bt=f;break;default:aa(i,s,l)}}function OE(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Ac(i)}catch(l){vt(s,s.return,l)}}function d4(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new EE),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new EE),s;default:throw Error(r(435,i.tag))}}function Jg(i,s){var l=d4(i);s.forEach(function(f){var g=w4.bind(null,i,f);l.has(f)||(l.add(f),f.then(g,g))})}function ar(i,s){var l=s.deletions;if(l!==null)for(var f=0;f<l.length;f++){var g=l[f],b=i,O=s,D=O;e:for(;D!==null;){switch(D.tag){case 27:if(Xa(D.type)){Tt=D.stateNode,Kn=!1;break e}break;case 5:Tt=D.stateNode,Kn=!1;break e;case 3:case 4:Tt=D.stateNode.containerInfo,Kn=!0;break e}D=D.return}if(Tt===null)throw Error(r(160));TE(b,O,g),Tt=null,Kn=!1,b=g.alternate,b!==null&&(b.return=null),g.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)CE(s,i),s=s.sibling}var Xr=null;function CE(i,s){var l=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:ar(s,i),sr(i),f&4&&(za(3,i,i.return),oc(3,i),za(5,i,i.return));break;case 1:ar(s,i),sr(i),f&512&&(Bt||l===null||_i(l,l.return)),f&64&&ia&&(i=i.updateQueue,i!==null&&(f=i.callbacks,f!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?f:l.concat(f))));break;case 26:var g=Xr;if(ar(s,i),sr(i),f&512&&(Bt||l===null||_i(l,l.return)),f&4){var b=l!==null?l.memoizedState:null;if(f=i.memoizedState,l===null)if(f===null)if(i.stateNode===null){e:{f=i.type,l=i.memoizedProps,g=g.ownerDocument||g;t:switch(f){case"title":b=g.getElementsByTagName("title")[0],(!b||b[Ns]||b[Qt]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=g.createElement(f),g.head.insertBefore(b,g.querySelector("head > title"))),En(b,f,l),b[Qt]=i,Vt(b),f=b;break e;case"link":var O=wS("link","href",g).get(f+(l.href||""));if(O){for(var D=0;D<O.length;D++)if(b=O[D],b.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&b.getAttribute("rel")===(l.rel==null?null:l.rel)&&b.getAttribute("title")===(l.title==null?null:l.title)&&b.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){O.splice(D,1);break t}}b=g.createElement(f),En(b,f,l),g.head.appendChild(b);break;case"meta":if(O=wS("meta","content",g).get(f+(l.content||""))){for(D=0;D<O.length;D++)if(b=O[D],b.getAttribute("content")===(l.content==null?null:""+l.content)&&b.getAttribute("name")===(l.name==null?null:l.name)&&b.getAttribute("property")===(l.property==null?null:l.property)&&b.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&b.getAttribute("charset")===(l.charSet==null?null:l.charSet)){O.splice(D,1);break t}}b=g.createElement(f),En(b,f,l),g.head.appendChild(b);break;default:throw Error(r(468,f))}b[Qt]=i,Vt(b),f=b}i.stateNode=f}else ES(g,i.type,i.stateNode);else i.stateNode=_S(g,f,i.memoizedProps);else b!==f?(b===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):b.count--,f===null?ES(g,i.type,i.stateNode):_S(g,f,i.memoizedProps)):f===null&&i.stateNode!==null&&Xg(i,i.memoizedProps,l.memoizedProps)}break;case 27:ar(s,i),sr(i),f&512&&(Bt||l===null||_i(l,l.return)),l!==null&&f&4&&Xg(i,i.memoizedProps,l.memoizedProps);break;case 5:if(ar(s,i),sr(i),f&512&&(Bt||l===null||_i(l,l.return)),i.flags&32){g=i.stateNode;try{wr(g,"")}catch(J){vt(i,i.return,J)}}f&4&&i.stateNode!=null&&(g=i.memoizedProps,Xg(i,g,l!==null?l.memoizedProps:g)),f&1024&&(Zg=!0);break;case 6:if(ar(s,i),sr(i),f&4){if(i.stateNode===null)throw Error(r(162));f=i.memoizedProps,l=i.stateNode;try{l.nodeValue=f}catch(J){vt(i,i.return,J)}}break;case 3:if(ed=null,g=Xr,Xr=Zh(s.containerInfo),ar(s,i),Xr=g,sr(i),f&4&&l!==null&&l.memoizedState.isDehydrated)try{Ac(s.containerInfo)}catch(J){vt(i,i.return,J)}Zg&&(Zg=!1,jE(i));break;case 4:f=Xr,Xr=Zh(i.stateNode.containerInfo),ar(s,i),sr(i),Xr=f;break;case 12:ar(s,i),sr(i);break;case 13:ar(s,i),sr(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(av=ft()),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,Jg(i,f)));break;case 22:g=i.memoizedState!==null;var F=l!==null&&l.memoizedState!==null,W=ia,ae=Bt;if(ia=W||g,Bt=ae||F,ar(s,i),Bt=ae,ia=W,sr(i),f&8192)e:for(s=i.stateNode,s._visibility=g?s._visibility&-2:s._visibility|1,g&&(l===null||F||ia||Bt||ro(i)),l=null,s=i;;){if(s.tag===5||s.tag===26){if(l===null){F=l=s;try{if(b=F.stateNode,g)O=b.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{D=F.stateNode;var oe=F.memoizedProps.style,Z=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;D.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(J){vt(F,F.return,J)}}}else if(s.tag===6){if(l===null){F=s;try{F.stateNode.nodeValue=g?"":F.memoizedProps}catch(J){vt(F,F.return,J)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}f&4&&(f=i.updateQueue,f!==null&&(l=f.retryQueue,l!==null&&(f.retryQueue=null,Jg(i,l))));break;case 19:ar(s,i),sr(i),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,Jg(i,f)));break;case 30:break;case 21:break;default:ar(s,i),sr(i)}}function sr(i){var s=i.flags;if(s&2){try{for(var l,f=i.return;f!==null;){if(_E(f)){l=f;break}f=f.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var g=l.stateNode,b=Qg(i);Bh(i,b,g);break;case 5:var O=l.stateNode;l.flags&32&&(wr(O,""),l.flags&=-33);var D=Qg(i);Bh(i,D,O);break;case 3:case 4:var F=l.stateNode.containerInfo,W=Qg(i);Wg(i,W,F);break;default:throw Error(r(161))}}catch(ae){vt(i,i.return,ae)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function jE(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;jE(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function qa(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)SE(i,s.alternate,s),s=s.sibling}function ro(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:za(4,s,s.return),ro(s);break;case 1:_i(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&bE(s,s.return,l),ro(s);break;case 27:vc(s.stateNode);case 26:case 5:_i(s,s.return),ro(s);break;case 22:s.memoizedState===null&&ro(s);break;case 30:ro(s);break;default:ro(s)}i=i.sibling}}function $a(i,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var f=s.alternate,g=i,b=s,O=b.flags;switch(b.tag){case 0:case 11:case 15:$a(g,b,l),oc(4,b);break;case 1:if($a(g,b,l),f=b,g=f.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(W){vt(f,f.return,W)}if(f=b,g=f.updateQueue,g!==null){var D=f.stateNode;try{var F=g.shared.hiddenCallbacks;if(F!==null)for(g.shared.hiddenCallbacks=null,g=0;g<F.length;g++)iw(F[g],D)}catch(W){vt(f,f.return,W)}}l&&O&64&&yE(b),lc(b,b.return);break;case 27:wE(b);case 26:case 5:$a(g,b,l),l&&f===null&&O&4&&xE(b),lc(b,b.return);break;case 12:$a(g,b,l);break;case 13:$a(g,b,l),l&&O&4&&OE(g,b);break;case 22:b.memoizedState===null&&$a(g,b,l),lc(b,b.return);break;case 30:break;default:$a(g,b,l)}s=s.sibling}}function ev(i,s){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&Gu(l))}function tv(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Gu(i))}function wi(i,s,l,f){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)PE(i,s,l,f),s=s.sibling}function PE(i,s,l,f){var g=s.flags;switch(s.tag){case 0:case 11:case 15:wi(i,s,l,f),g&2048&&oc(9,s);break;case 1:wi(i,s,l,f);break;case 3:wi(i,s,l,f),g&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Gu(i)));break;case 12:if(g&2048){wi(i,s,l,f),i=s.stateNode;try{var b=s.memoizedProps,O=b.id,D=b.onPostCommit;typeof D=="function"&&D(O,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(F){vt(s,s.return,F)}}else wi(i,s,l,f);break;case 13:wi(i,s,l,f);break;case 23:break;case 22:b=s.stateNode,O=s.alternate,s.memoizedState!==null?b._visibility&2?wi(i,s,l,f):uc(i,s):b._visibility&2?wi(i,s,l,f):(b._visibility|=2,bl(i,s,l,f,(s.subtreeFlags&10256)!==0)),g&2048&&ev(O,s);break;case 24:wi(i,s,l,f),g&2048&&tv(s.alternate,s);break;default:wi(i,s,l,f)}}function bl(i,s,l,f,g){for(g=g&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var b=i,O=s,D=l,F=f,W=O.flags;switch(O.tag){case 0:case 11:case 15:bl(b,O,D,F,g),oc(8,O);break;case 23:break;case 22:var ae=O.stateNode;O.memoizedState!==null?ae._visibility&2?bl(b,O,D,F,g):uc(b,O):(ae._visibility|=2,bl(b,O,D,F,g)),g&&W&2048&&ev(O.alternate,O);break;case 24:bl(b,O,D,F,g),g&&W&2048&&tv(O.alternate,O);break;default:bl(b,O,D,F,g)}s=s.sibling}}function uc(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=i,f=s,g=f.flags;switch(f.tag){case 22:uc(l,f),g&2048&&ev(f.alternate,f);break;case 24:uc(l,f),g&2048&&tv(f.alternate,f);break;default:uc(l,f)}s=s.sibling}}var cc=8192;function xl(i){if(i.subtreeFlags&cc)for(i=i.child;i!==null;)NE(i),i=i.sibling}function NE(i){switch(i.tag){case 26:xl(i),i.flags&cc&&i.memoizedState!==null&&Z4(Xr,i.memoizedState,i.memoizedProps);break;case 5:xl(i);break;case 3:case 4:var s=Xr;Xr=Zh(i.stateNode.containerInfo),xl(i),Xr=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=cc,cc=16777216,xl(i),cc=s):xl(i));break;default:xl(i)}}function DE(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function fc(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var f=s[l];fn=f,IE(f,i)}DE(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)RE(i),i=i.sibling}function RE(i){switch(i.tag){case 0:case 11:case 15:fc(i),i.flags&2048&&za(9,i,i.return);break;case 3:fc(i);break;case 12:fc(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Uh(i)):fc(i);break;default:fc(i)}}function Uh(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var f=s[l];fn=f,IE(f,i)}DE(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:za(8,s,s.return),Uh(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,Uh(s));break;default:Uh(s)}i=i.sibling}}function IE(i,s){for(;fn!==null;){var l=fn;switch(l.tag){case 0:case 11:case 15:za(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var f=l.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Gu(l.memoizedState.cache)}if(f=l.child,f!==null)f.return=l,fn=f;else e:for(l=i;fn!==null;){f=fn;var g=f.sibling,b=f.return;if(AE(f),f===l){fn=null;break e}if(g!==null){g.return=b,fn=g;break e}fn=b}}}var m4={getCacheForType:function(i){var s=Dn(Jt),l=s.data.get(i);return l===void 0&&(l=i(),s.data.set(i,l)),l}},p4=typeof WeakMap=="function"?WeakMap:Map,ot=0,bt=null,$e=null,Qe=0,lt=0,or=null,Fa=!1,_l=!1,nv=!1,sa=0,It=0,Ha=0,io=0,rv=0,Nr=0,wl=0,hc=null,Gn=null,iv=!1,av=0,zh=1/0,qh=null,Ka=null,wn=0,Ga=null,El=null,Sl=0,sv=0,ov=null,ME=null,dc=0,lv=null;function lr(){if((ot&2)!==0&&Qe!==0)return Qe&-Qe;if(X.T!==null){var i=fl;return i!==0?i:pv()}return Ca()}function kE(){Nr===0&&(Nr=(Qe&536870912)===0||nt?wu():536870912);var i=Pr.current;return i!==null&&(i.flags|=32),Nr}function ur(i,s,l){(i===bt&&(lt===2||lt===9)||i.cancelPendingCommit!==null)&&(Al(i,0),Ya(i,Qe,Nr,!1)),Li(i,l),((ot&2)===0||i!==bt)&&(i===bt&&((ot&2)===0&&(io|=l),It===4&&Ya(i,Qe,Nr,!1)),Ei(i))}function VE(i,s,l){if((ot&6)!==0)throw Error(r(327));var f=!l&&(s&124)===0&&(s&i.expiredLanes)===0||Ps(i,s),g=f?y4(i,s):fv(i,s,!0),b=f;do{if(g===0){_l&&!f&&Ya(i,s,0,!1);break}else{if(l=i.current.alternate,b&&!g4(l)){g=fv(i,s,!1),b=!1;continue}if(g===2){if(b=s,i.errorRecoveryDisabledLanes&b)var O=0;else O=i.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){s=O;e:{var D=i;g=hc;var F=D.current.memoizedState.isDehydrated;if(F&&(Al(D,O).flags|=256),O=fv(D,O,!1),O!==2){if(nv&&!F){D.errorRecoveryDisabledLanes|=b,io|=b,g=4;break e}b=Gn,Gn=g,b!==null&&(Gn===null?Gn=b:Gn.push.apply(Gn,b))}g=O}if(b=!1,g!==2)continue}}if(g===1){Al(i,0),Ya(i,s,0,!0);break}e:{switch(f=i,b=g,b){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Ya(f,s,Nr,!Fa);break e;case 2:Gn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(g=av+300-ft(),10<g)){if(Ya(f,s,Nr,!Fa),qo(f,0,!0)!==0)break e;f.timeoutHandle=hS(LE.bind(null,f,l,Gn,qh,iv,s,Nr,io,wl,Fa,b,2,-0,0),g);break e}LE(f,l,Gn,qh,iv,s,Nr,io,wl,Fa,b,0,-0,0)}}break}while(!0);Ei(i)}function LE(i,s,l,f,g,b,O,D,F,W,ae,oe,Z,J){if(i.timeoutHandle=-1,oe=s.subtreeFlags,(oe&8192||(oe&16785408)===16785408)&&(xc={stylesheets:null,count:0,unsuspend:W4},NE(s),oe=J4(),oe!==null)){i.cancelPendingCommit=oe(HE.bind(null,i,s,b,l,f,g,O,D,F,ae,1,Z,J)),Ya(i,b,O,!W);return}HE(i,s,b,l,f,g,O,D,F)}function g4(i){for(var s=i;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var f=0;f<l.length;f++){var g=l[f],b=g.getSnapshot;g=g.value;try{if(!rr(b(),g))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ya(i,s,l,f){s&=~rv,s&=~io,i.suspendedLanes|=s,i.pingedLanes&=~s,f&&(i.warmLanes|=s),f=i.expirationTimes;for(var g=s;0<g;){var b=31-Nn(g),O=1<<b;f[b]=-1,g&=~O}l!==0&&li(i,l,s)}function $h(){return(ot&6)===0?(mc(0),!1):!0}function uv(){if($e!==null){if(lt===0)var i=$e.return;else i=$e,Zi=Zs=null,Tg(i),vl=null,ic=0,i=$e;for(;i!==null;)vE(i.alternate,i),i=i.return;$e=null}}function Al(i,s){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,I4(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),uv(),bt=i,$e=l=Xi(i.current,null),Qe=s,lt=0,or=null,Fa=!1,_l=Ps(i,s),nv=!1,wl=Nr=rv=io=Ha=It=0,Gn=hc=null,iv=!1,(s&8)!==0&&(s|=s&32);var f=i.entangledLanes;if(f!==0)for(i=i.entanglements,f&=s;0<f;){var g=31-Nn(f),b=1<<g;s|=i[g],f&=~b}return sa=s,fh(),l}function BE(i,s){ze=null,X.H=Ph,s===Xu||s===xh?(s=nw(),lt=3):s===J_?(s=nw(),lt=4):lt=s===rE?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,or=s,$e===null&&(It=1,Mh(i,Tr(s,i.current)))}function UE(){var i=X.H;return X.H=Ph,i===null?Ph:i}function zE(){var i=X.A;return X.A=m4,i}function cv(){It=4,Fa||(Qe&4194048)!==Qe&&Pr.current!==null||(_l=!0),(Ha&134217727)===0&&(io&134217727)===0||bt===null||Ya(bt,Qe,Nr,!1)}function fv(i,s,l){var f=ot;ot|=2;var g=UE(),b=zE();(bt!==i||Qe!==s)&&(qh=null,Al(i,s)),s=!1;var O=It;e:do try{if(lt!==0&&$e!==null){var D=$e,F=or;switch(lt){case 8:uv(),O=6;break e;case 3:case 2:case 9:case 6:Pr.current===null&&(s=!0);var W=lt;if(lt=0,or=null,Tl(i,D,F,W),l&&_l){O=0;break e}break;default:W=lt,lt=0,or=null,Tl(i,D,F,W)}}v4(),O=It;break}catch(ae){BE(i,ae)}while(!0);return s&&i.shellSuspendCounter++,Zi=Zs=null,ot=f,X.H=g,X.A=b,$e===null&&(bt=null,Qe=0,fh()),O}function v4(){for(;$e!==null;)qE($e)}function y4(i,s){var l=ot;ot|=2;var f=UE(),g=zE();bt!==i||Qe!==s?(qh=null,zh=ft()+500,Al(i,s)):_l=Ps(i,s);e:do try{if(lt!==0&&$e!==null){s=$e;var b=or;t:switch(lt){case 1:lt=0,or=null,Tl(i,s,b,1);break;case 2:case 9:if(ew(b)){lt=0,or=null,$E(s);break}s=function(){lt!==2&&lt!==9||bt!==i||(lt=7),Ei(i)},b.then(s,s);break e;case 3:lt=7;break e;case 4:lt=5;break e;case 7:ew(b)?(lt=0,or=null,$E(s)):(lt=0,or=null,Tl(i,s,b,7));break;case 5:var O=null;switch($e.tag){case 26:O=$e.memoizedState;case 5:case 27:var D=$e;if(!O||SS(O)){lt=0,or=null;var F=D.sibling;if(F!==null)$e=F;else{var W=D.return;W!==null?($e=W,Fh(W)):$e=null}break t}}lt=0,or=null,Tl(i,s,b,5);break;case 6:lt=0,or=null,Tl(i,s,b,6);break;case 8:uv(),It=6;break e;default:throw Error(r(462))}}b4();break}catch(ae){BE(i,ae)}while(!0);return Zi=Zs=null,X.H=f,X.A=g,ot=l,$e!==null?0:(bt=null,Qe=0,fh(),It)}function b4(){for(;$e!==null&&!Ge();)qE($e)}function qE(i){var s=pE(i.alternate,i,sa);i.memoizedProps=i.pendingProps,s===null?Fh(i):$e=s}function $E(i){var s=i,l=s.alternate;switch(s.tag){case 15:case 0:s=uE(l,s,s.pendingProps,s.type,void 0,Qe);break;case 11:s=uE(l,s,s.pendingProps,s.type.render,s.ref,Qe);break;case 5:Tg(s);default:vE(l,s),s=$e=F_(s,sa),s=pE(l,s,sa)}i.memoizedProps=i.pendingProps,s===null?Fh(i):$e=s}function Tl(i,s,l,f){Zi=Zs=null,Tg(s),vl=null,ic=0;var g=s.return;try{if(l4(i,g,s,l,Qe)){It=1,Mh(i,Tr(l,i.current)),$e=null;return}}catch(b){if(g!==null)throw $e=g,b;It=1,Mh(i,Tr(l,i.current)),$e=null;return}s.flags&32768?(nt||f===1?i=!0:_l||(Qe&536870912)!==0?i=!1:(Fa=i=!0,(f===2||f===9||f===3||f===6)&&(f=Pr.current,f!==null&&f.tag===13&&(f.flags|=16384))),FE(s,i)):Fh(s)}function Fh(i){var s=i;do{if((s.flags&32768)!==0){FE(s,Fa);return}i=s.return;var l=c4(s.alternate,s,sa);if(l!==null){$e=l;return}if(s=s.sibling,s!==null){$e=s;return}$e=s=i}while(s!==null);It===0&&(It=5)}function FE(i,s){do{var l=f4(i.alternate,i);if(l!==null){l.flags&=32767,$e=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(i=i.sibling,i!==null)){$e=i;return}$e=i=l}while(i!==null);It=6,$e=null}function HE(i,s,l,f,g,b,O,D,F){i.cancelPendingCommit=null;do Hh();while(wn!==0);if((ot&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(b=s.lanes|s.childLanes,b|=tg,Su(i,l,b,O,D,F),i===bt&&($e=bt=null,Qe=0),El=s,Ga=i,Sl=l,sv=b,ov=g,ME=f,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,E4(Fr,function(){return QE(),null})):(i.callbackNode=null,i.callbackPriority=0),f=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||f){f=X.T,X.T=null,g=ue.p,ue.p=2,O=ot,ot|=4;try{h4(i,s,l)}finally{ot=O,ue.p=g,X.T=f}}wn=1,KE(),GE(),YE()}}function KE(){if(wn===1){wn=0;var i=Ga,s=El,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=X.T,X.T=null;var f=ue.p;ue.p=2;var g=ot;ot|=4;try{CE(s,i);var b=Ev,O=I_(i.containerInfo),D=b.focusedElem,F=b.selectionRange;if(O!==D&&D&&D.ownerDocument&&R_(D.ownerDocument.documentElement,D)){if(F!==null&&Qp(D)){var W=F.start,ae=F.end;if(ae===void 0&&(ae=W),"selectionStart"in D)D.selectionStart=W,D.selectionEnd=Math.min(ae,D.value.length);else{var oe=D.ownerDocument||document,Z=oe&&oe.defaultView||window;if(Z.getSelection){var J=Z.getSelection(),Ie=D.textContent.length,Ne=Math.min(F.start,Ie),pt=F.end===void 0?Ne:Math.min(F.end,Ie);!J.extend&&Ne>pt&&(O=pt,pt=Ne,Ne=O);var G=D_(D,Ne),K=D_(D,pt);if(G&&K&&(J.rangeCount!==1||J.anchorNode!==G.node||J.anchorOffset!==G.offset||J.focusNode!==K.node||J.focusOffset!==K.offset)){var Q=oe.createRange();Q.setStart(G.node,G.offset),J.removeAllRanges(),Ne>pt?(J.addRange(Q),J.extend(K.node,K.offset)):(Q.setEnd(K.node,K.offset),J.addRange(Q))}}}}for(oe=[],J=D;J=J.parentNode;)J.nodeType===1&&oe.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<oe.length;D++){var se=oe[D];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}rd=!!wv,Ev=wv=null}finally{ot=g,ue.p=f,X.T=l}}i.current=s,wn=2}}function GE(){if(wn===2){wn=0;var i=Ga,s=El,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=X.T,X.T=null;var f=ue.p;ue.p=2;var g=ot;ot|=4;try{SE(i,s.alternate,s)}finally{ot=g,ue.p=f,X.T=l}}wn=3}}function YE(){if(wn===4||wn===3){wn=0,St();var i=Ga,s=El,l=Sl,f=ME;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?wn=5:(wn=0,El=Ga=null,XE(i,i.pendingLanes));var g=i.pendingLanes;if(g===0&&(Ka=null),$o(l),s=s.stateNode,st&&typeof st.onCommitFiberRoot=="function")try{st.onCommitFiberRoot(Dt,s,void 0,(s.current.flags&128)===128)}catch{}if(f!==null){s=X.T,g=ue.p,ue.p=2,X.T=null;try{for(var b=i.onRecoverableError,O=0;O<f.length;O++){var D=f[O];b(D.value,{componentStack:D.stack})}}finally{X.T=s,ue.p=g}}(Sl&3)!==0&&Hh(),Ei(i),g=i.pendingLanes,(l&4194090)!==0&&(g&42)!==0?i===lv?dc++:(dc=0,lv=i):dc=0,mc(0)}}function XE(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Gu(s)))}function Hh(i){return KE(),GE(),YE(),QE()}function QE(){if(wn!==5)return!1;var i=Ga,s=sv;sv=0;var l=$o(Sl),f=X.T,g=ue.p;try{ue.p=32>l?32:l,X.T=null,l=ov,ov=null;var b=Ga,O=Sl;if(wn=0,El=Ga=null,Sl=0,(ot&6)!==0)throw Error(r(331));var D=ot;if(ot|=4,RE(b.current),PE(b,b.current,O,l),ot=D,mc(0,!1),st&&typeof st.onPostCommitFiberRoot=="function")try{st.onPostCommitFiberRoot(Dt,b)}catch{}return!0}finally{ue.p=g,X.T=f,XE(i,s)}}function WE(i,s,l){s=Tr(l,s),s=Ug(i.stateNode,s,2),i=Va(i,s,2),i!==null&&(Li(i,2),Ei(i))}function vt(i,s,l){if(i.tag===3)WE(i,i,l);else for(;s!==null;){if(s.tag===3){WE(s,i,l);break}else if(s.tag===1){var f=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Ka===null||!Ka.has(f))){i=Tr(l,i),l=tE(2),f=Va(s,l,2),f!==null&&(nE(l,f,s,i),Li(f,2),Ei(f));break}}s=s.return}}function hv(i,s,l){var f=i.pingCache;if(f===null){f=i.pingCache=new p4;var g=new Set;f.set(s,g)}else g=f.get(s),g===void 0&&(g=new Set,f.set(s,g));g.has(l)||(nv=!0,g.add(l),i=x4.bind(null,i,s,l),s.then(i,i))}function x4(i,s,l){var f=i.pingCache;f!==null&&f.delete(s),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,bt===i&&(Qe&l)===l&&(It===4||It===3&&(Qe&62914560)===Qe&&300>ft()-av?(ot&2)===0&&Al(i,0):rv|=l,wl===Qe&&(wl=0)),Ei(i)}function ZE(i,s){s===0&&(s=Eu()),i=ol(i,s),i!==null&&(Li(i,s),Ei(i))}function _4(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),ZE(i,l)}function w4(i,s){var l=0;switch(i.tag){case 13:var f=i.stateNode,g=i.memoizedState;g!==null&&(l=g.retryLane);break;case 19:f=i.stateNode;break;case 22:f=i.stateNode._retryCache;break;default:throw Error(r(314))}f!==null&&f.delete(s),ZE(i,l)}function E4(i,s){return _e(i,s)}var Kh=null,Ol=null,dv=!1,Gh=!1,mv=!1,ao=0;function Ei(i){i!==Ol&&i.next===null&&(Ol===null?Kh=Ol=i:Ol=Ol.next=i),Gh=!0,dv||(dv=!0,A4())}function mc(i,s){if(!mv&&Gh){mv=!0;do for(var l=!1,f=Kh;f!==null;){if(i!==0){var g=f.pendingLanes;if(g===0)var b=0;else{var O=f.suspendedLanes,D=f.pingedLanes;b=(1<<31-Nn(42|i)+1)-1,b&=g&~(O&~D),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(l=!0,nS(f,b))}else b=Qe,b=qo(f,f===bt?b:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(b&3)===0||Ps(f,b)||(l=!0,nS(f,b));f=f.next}while(l);mv=!1}}function S4(){JE()}function JE(){Gh=dv=!1;var i=0;ao!==0&&(R4()&&(i=ao),ao=0);for(var s=ft(),l=null,f=Kh;f!==null;){var g=f.next,b=eS(f,s);b===0?(f.next=null,l===null?Kh=g:l.next=g,g===null&&(Ol=l)):(l=f,(i!==0||(b&3)!==0)&&(Gh=!0)),f=g}mc(i)}function eS(i,s){for(var l=i.suspendedLanes,f=i.pingedLanes,g=i.expirationTimes,b=i.pendingLanes&-62914561;0<b;){var O=31-Nn(b),D=1<<O,F=g[O];F===-1?((D&l)===0||(D&f)!==0)&&(g[O]=_u(D,s)):F<=s&&(i.expiredLanes|=D),b&=~D}if(s=bt,l=Qe,l=qo(i,i===s?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f=i.callbackNode,l===0||i===s&&(lt===2||lt===9)||i.cancelPendingCommit!==null)return f!==null&&f!==null&&Ae(f),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||Ps(i,l)){if(s=l&-l,s===i.callbackPriority)return s;switch(f!==null&&Ae(f),$o(l)){case 2:case 8:l=ki;break;case 32:l=Fr;break;case 268435456:l=Pn;break;default:l=Fr}return f=tS.bind(null,i),l=_e(l,f),i.callbackPriority=s,i.callbackNode=l,s}return f!==null&&f!==null&&Ae(f),i.callbackPriority=2,i.callbackNode=null,2}function tS(i,s){if(wn!==0&&wn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Hh()&&i.callbackNode!==l)return null;var f=Qe;return f=qo(i,i===bt?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f===0?null:(VE(i,f,s),eS(i,ft()),i.callbackNode!=null&&i.callbackNode===l?tS.bind(null,i):null)}function nS(i,s){if(Hh())return null;VE(i,s,!0)}function A4(){M4(function(){(ot&6)!==0?_e(As,S4):JE()})}function pv(){return ao===0&&(ao=wu()),ao}function rS(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Xo(""+i)}function iS(i,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,i.id&&l.setAttribute("form",i.id),s.parentNode.insertBefore(l,s),i=new FormData(i),l.parentNode.removeChild(l),i}function T4(i,s,l,f,g){if(s==="submit"&&l&&l.stateNode===g){var b=rS((g[zt]||null).action),O=f.submitter;O&&(s=(s=O[zt]||null)?rS(s.formAction):O.getAttribute("formAction"),s!==null&&(b=s,O=null));var D=new Qo("action","action",null,f,g);i.push({event:D,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(ao!==0){var F=O?iS(g,O):new FormData(g);Mg(l,{pending:!0,data:F,method:g.method,action:b},null,F)}}else typeof b=="function"&&(D.preventDefault(),F=O?iS(g,O):new FormData(g),Mg(l,{pending:!0,data:F,method:g.method,action:b},b,F))},currentTarget:g}]})}}for(var gv=0;gv<eg.length;gv++){var vv=eg[gv],O4=vv.toLowerCase(),C4=vv[0].toUpperCase()+vv.slice(1);Yr(O4,"on"+C4)}Yr(V_,"onAnimationEnd"),Yr(L_,"onAnimationIteration"),Yr(B_,"onAnimationStart"),Yr("dblclick","onDoubleClick"),Yr("focusin","onFocus"),Yr("focusout","onBlur"),Yr(HM,"onTransitionRun"),Yr(KM,"onTransitionStart"),Yr(GM,"onTransitionCancel"),Yr(U_,"onTransitionEnd"),Ui("onMouseEnter",["mouseout","mouseover"]),Ui("onMouseLeave",["mouseout","mouseover"]),Ui("onPointerEnter",["pointerout","pointerover"]),Ui("onPointerLeave",["pointerout","pointerover"]),Kr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Kr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Kr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Kr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Kr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Kr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),j4=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pc));function aS(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var f=i[l],g=f.event;f=f.listeners;e:{var b=void 0;if(s)for(var O=f.length-1;0<=O;O--){var D=f[O],F=D.instance,W=D.currentTarget;if(D=D.listener,F!==b&&g.isPropagationStopped())break e;b=D,g.currentTarget=W;try{b(g)}catch(ae){Ih(ae)}g.currentTarget=null,b=F}else for(O=0;O<f.length;O++){if(D=f[O],F=D.instance,W=D.currentTarget,D=D.listener,F!==b&&g.isPropagationStopped())break e;b=D,g.currentTarget=W;try{b(g)}catch(ae){Ih(ae)}g.currentTarget=null,b=F}}}}function Fe(i,s){var l=s[Tu];l===void 0&&(l=s[Tu]=new Set);var f=i+"__bubble";l.has(f)||(sS(s,i,2,!1),l.add(f))}function yv(i,s,l){var f=0;s&&(f|=4),sS(l,i,f,s)}var Yh="_reactListening"+Math.random().toString(36).slice(2);function bv(i){if(!i[Yh]){i[Yh]=!0,Ou.forEach(function(l){l!=="selectionchange"&&(j4.has(l)||yv(l,!1,i),yv(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Yh]||(s[Yh]=!0,yv("selectionchange",!1,s))}}function sS(i,s,l,f){switch(PS(s)){case 2:var g=nk;break;case 8:g=rk;break;default:g=Rv}l=g.bind(null,s,l,i),g=void 0,!Sr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(g=!0),f?g!==void 0?i.addEventListener(s,l,{capture:!0,passive:g}):i.addEventListener(s,l,!0):g!==void 0?i.addEventListener(s,l,{passive:g}):i.addEventListener(s,l,!1)}function xv(i,s,l,f,g){var b=f;if((s&1)===0&&(s&2)===0&&f!==null)e:for(;;){if(f===null)return;var O=f.tag;if(O===3||O===4){var D=f.stateNode.containerInfo;if(D===g)break;if(O===4)for(O=f.return;O!==null;){var F=O.tag;if((F===3||F===4)&&O.stateNode.containerInfo===g)return;O=O.return}for(;D!==null;){if(O=Bi(D),O===null)return;if(F=O.tag,F===5||F===6||F===26||F===27){f=b=O;continue e}D=D.parentNode}}f=f.return}Qf(function(){var W=b,ae=Er(l),oe=[];e:{var Z=z_.get(i);if(Z!==void 0){var J=Qo,Ie=i;switch(i){case"keypress":if(mi(l)===0)break e;case"keydown":case"keyup":J=nl;break;case"focusin":Ie="focus",J=Jo;break;case"focusout":Ie="blur",J=Jo;break;case"beforeblur":case"afterblur":J=Jo;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=Ar;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=Kp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=ih;break;case V_:case L_:case B_:J=el;break;case U_:J=sh;break;case"scroll":case"scrollend":J=Wf;break;case"wheel":J=rl;break;case"copy":case"cut":case"paste":J=tl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=Bu;break;case"toggle":case"beforetoggle":J=lh}var Ne=(s&4)!==0,pt=!Ne&&(i==="scroll"||i==="scrollend"),G=Ne?Z!==null?Z+"Capture":null:Z;Ne=[];for(var K=W,Q;K!==null;){var se=K;if(Q=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||Q===null||G===null||(se=Ls(K,G),se!=null&&Ne.push(gc(K,se,Q))),pt)break;K=K.return}0<Ne.length&&(Z=new J(Z,Ie,null,l,ae),oe.push({event:Z,listeners:Ne}))}}if((s&7)===0){e:{if(Z=i==="mouseover"||i==="pointerover",J=i==="mouseout"||i==="pointerout",Z&&l!==$i&&(Ie=l.relatedTarget||l.fromElement)&&(Bi(Ie)||Ie[_r]))break e;if((J||Z)&&(Z=ae.window===ae?ae:(Z=ae.ownerDocument)?Z.defaultView||Z.parentWindow:window,J?(Ie=l.relatedTarget||l.toElement,J=W,Ie=Ie?Bi(Ie):null,Ie!==null&&(pt=o(Ie),Ne=Ie.tag,Ie!==pt||Ne!==5&&Ne!==27&&Ne!==6)&&(Ie=null)):(J=null,Ie=W),J!==Ie)){if(Ne=Ar,se="onMouseLeave",G="onMouseEnter",K="mouse",(i==="pointerout"||i==="pointerover")&&(Ne=Bu,se="onPointerLeave",G="onPointerEnter",K="pointer"),pt=J==null?Z:ci(J),Q=Ie==null?Z:ci(Ie),Z=new Ne(se,K+"leave",J,l,ae),Z.target=pt,Z.relatedTarget=Q,se=null,Bi(ae)===W&&(Ne=new Ne(G,K+"enter",Ie,l,ae),Ne.target=Q,Ne.relatedTarget=pt,se=Ne),pt=se,J&&Ie)t:{for(Ne=J,G=Ie,K=0,Q=Ne;Q;Q=Cl(Q))K++;for(Q=0,se=G;se;se=Cl(se))Q++;for(;0<K-Q;)Ne=Cl(Ne),K--;for(;0<Q-K;)G=Cl(G),Q--;for(;K--;){if(Ne===G||G!==null&&Ne===G.alternate)break t;Ne=Cl(Ne),G=Cl(G)}Ne=null}else Ne=null;J!==null&&oS(oe,Z,J,Ne,!1),Ie!==null&&pt!==null&&oS(oe,pt,Ie,Ne,!0)}}e:{if(Z=W?ci(W):window,J=Z.nodeName&&Z.nodeName.toLowerCase(),J==="select"||J==="input"&&Z.type==="file")var be=T_;else if(Zt(Z))if(O_)be=qM;else{be=UM;var qe=BM}else J=Z.nodeName,!J||J.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?W&&Du(W.elementType)&&(be=T_):be=zM;if(be&&(be=be(i,W))){Yi(oe,be,l,ae);break e}qe&&qe(i,Z,W),i==="focusout"&&W&&Z.type==="number"&&W.memoizedProps.value!=null&&Da(Z,"number",Z.value)}switch(qe=W?ci(W):window,i){case"focusin":(Zt(qe)||qe.contentEditable==="true")&&(il=qe,Wp=W,qu=null);break;case"focusout":qu=Wp=il=null;break;case"mousedown":Zp=!0;break;case"contextmenu":case"mouseup":case"dragend":Zp=!1,M_(oe,l,ae);break;case"selectionchange":if(FM)break;case"keydown":case"keyup":M_(oe,l,ae)}var we;if(vi)e:{switch(i){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else Ye?te(i,l)&&(De="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(De="onCompositionStart");De&&(T&&l.locale!=="ko"&&(Ye||De!=="onCompositionStart"?De==="onCompositionEnd"&&Ye&&(we=Iu()):(di=ae,Ra="value"in di?di.value:di.textContent,Ye=!0)),qe=Xh(W,De),0<qe.length&&(De=new Vu(De,i,null,l,ae),oe.push({event:De,listeners:qe}),we?De.data=we:(we=me(l),we!==null&&(De.data=we)))),(we=w?Wt(i,l):Xe(i,l))&&(De=Xh(W,"onBeforeInput"),0<De.length&&(qe=new Vu("onBeforeInput","beforeinput",null,l,ae),oe.push({event:qe,listeners:De}),qe.data=we)),T4(oe,i,W,l,ae)}aS(oe,s)})}function gc(i,s,l){return{instance:i,listener:s,currentTarget:l}}function Xh(i,s){for(var l=s+"Capture",f=[];i!==null;){var g=i,b=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||b===null||(g=Ls(i,l),g!=null&&f.unshift(gc(i,g,b)),g=Ls(i,s),g!=null&&f.push(gc(i,g,b))),i.tag===3)return f;i=i.return}return[]}function Cl(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function oS(i,s,l,f,g){for(var b=s._reactName,O=[];l!==null&&l!==f;){var D=l,F=D.alternate,W=D.stateNode;if(D=D.tag,F!==null&&F===f)break;D!==5&&D!==26&&D!==27||W===null||(F=W,g?(W=Ls(l,b),W!=null&&O.unshift(gc(l,W,F))):g||(W=Ls(l,b),W!=null&&O.push(gc(l,W,F)))),l=l.return}O.length!==0&&i.push({event:s,listeners:O})}var P4=/\r\n?/g,N4=/\u0000|\uFFFD/g;function lS(i){return(typeof i=="string"?i:""+i).replace(P4,`
`).replace(N4,"")}function uS(i,s){return s=lS(s),lS(i)===s}function Qh(){}function mt(i,s,l,f,g,b){switch(l){case"children":typeof f=="string"?s==="body"||s==="textarea"&&f===""||wr(i,f):(typeof f=="number"||typeof f=="bigint")&&s!=="body"&&wr(i,""+f);break;case"className":fi(i,"class",f);break;case"tabIndex":fi(i,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":fi(i,l,f);break;case"style":Nu(i,f,b);break;case"data":if(s!=="object"){fi(i,"data",f);break}case"src":case"href":if(f===""&&(s!=="a"||l!=="href")){i.removeAttribute(l);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(l);break}f=Xo(""+f),i.setAttribute(l,f);break;case"action":case"formAction":if(typeof f=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(l==="formAction"?(s!=="input"&&mt(i,s,"name",g.name,g,null),mt(i,s,"formEncType",g.formEncType,g,null),mt(i,s,"formMethod",g.formMethod,g,null),mt(i,s,"formTarget",g.formTarget,g,null)):(mt(i,s,"encType",g.encType,g,null),mt(i,s,"method",g.method,g,null),mt(i,s,"target",g.target,g,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(l);break}f=Xo(""+f),i.setAttribute(l,f);break;case"onClick":f!=null&&(i.onclick=Qh);break;case"onScroll":f!=null&&Fe("scroll",i);break;case"onScrollEnd":f!=null&&Fe("scrollend",i);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(l=f.__html,l!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":i.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){i.removeAttribute("xlink:href");break}l=Xo(""+f),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(l,""+f):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":f===!0?i.setAttribute(l,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(l,f):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?i.setAttribute(l,f):i.removeAttribute(l);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?i.removeAttribute(l):i.setAttribute(l,f);break;case"popover":Fe("beforetoggle",i),Fe("toggle",i),Na(i,"popover",f);break;case"xlinkActuate":bn(i,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":bn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":bn(i,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":bn(i,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":bn(i,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":bn(i,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":bn(i,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":bn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":bn(i,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Na(i,"is",f);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Fp.get(l)||l,Na(i,l,f))}}function _v(i,s,l,f,g,b){switch(l){case"style":Nu(i,f,b);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(l=f.__html,l!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof f=="string"?wr(i,f):(typeof f=="number"||typeof f=="bigint")&&wr(i,""+f);break;case"onScroll":f!=null&&Fe("scroll",i);break;case"onScrollEnd":f!=null&&Fe("scrollend",i);break;case"onClick":f!=null&&(i.onclick=Qh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fo.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),s=l.slice(2,g?l.length-7:void 0),b=i[zt]||null,b=b!=null?b[l]:null,typeof b=="function"&&i.removeEventListener(s,b,g),typeof f=="function")){typeof b!="function"&&b!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(s,f,g);break e}l in i?i[l]=f:f===!0?i.setAttribute(l,""):Na(i,l,f)}}}function En(i,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fe("error",i),Fe("load",i);var f=!1,g=!1,b;for(b in l)if(l.hasOwnProperty(b)){var O=l[b];if(O!=null)switch(b){case"src":f=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:mt(i,s,b,O,l,null)}}g&&mt(i,s,"srcSet",l.srcSet,l,null),f&&mt(i,s,"src",l.src,l,null);return;case"input":Fe("invalid",i);var D=b=O=g=null,F=null,W=null;for(f in l)if(l.hasOwnProperty(f)){var ae=l[f];if(ae!=null)switch(f){case"name":g=ae;break;case"type":O=ae;break;case"checked":F=ae;break;case"defaultChecked":W=ae;break;case"value":b=ae;break;case"defaultValue":D=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,s));break;default:mt(i,s,f,ae,l,null)}}Ms(i,b,D,F,W,O,g,!1),Yo(i);return;case"select":Fe("invalid",i),f=O=b=null;for(g in l)if(l.hasOwnProperty(g)&&(D=l[g],D!=null))switch(g){case"value":b=D;break;case"defaultValue":O=D;break;case"multiple":f=D;default:mt(i,s,g,D,l,null)}s=b,l=O,i.multiple=!!f,s!=null?qi(i,!!f,s,!1):l!=null&&qi(i,!!f,l,!0);return;case"textarea":Fe("invalid",i),b=g=f=null;for(O in l)if(l.hasOwnProperty(O)&&(D=l[O],D!=null))switch(O){case"value":f=D;break;case"defaultValue":g=D;break;case"children":b=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(91));break;default:mt(i,s,O,D,l,null)}ks(i,f,g,b),Yo(i);return;case"option":for(F in l)if(l.hasOwnProperty(F)&&(f=l[F],f!=null))switch(F){case"selected":i.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:mt(i,s,F,f,l,null)}return;case"dialog":Fe("beforetoggle",i),Fe("toggle",i),Fe("cancel",i),Fe("close",i);break;case"iframe":case"object":Fe("load",i);break;case"video":case"audio":for(f=0;f<pc.length;f++)Fe(pc[f],i);break;case"image":Fe("error",i),Fe("load",i);break;case"details":Fe("toggle",i);break;case"embed":case"source":case"link":Fe("error",i),Fe("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in l)if(l.hasOwnProperty(W)&&(f=l[W],f!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:mt(i,s,W,f,l,null)}return;default:if(Du(s)){for(ae in l)l.hasOwnProperty(ae)&&(f=l[ae],f!==void 0&&_v(i,s,ae,f,l,void 0));return}}for(D in l)l.hasOwnProperty(D)&&(f=l[D],f!=null&&mt(i,s,D,f,l,null))}function D4(i,s,l,f){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,b=null,O=null,D=null,F=null,W=null,ae=null;for(J in l){var oe=l[J];if(l.hasOwnProperty(J)&&oe!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":F=oe;default:f.hasOwnProperty(J)||mt(i,s,J,null,f,oe)}}for(var Z in f){var J=f[Z];if(oe=l[Z],f.hasOwnProperty(Z)&&(J!=null||oe!=null))switch(Z){case"type":b=J;break;case"name":g=J;break;case"checked":W=J;break;case"defaultChecked":ae=J;break;case"value":O=J;break;case"defaultValue":D=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,s));break;default:J!==oe&&mt(i,s,Z,J,f,oe)}}nr(i,O,D,F,W,ae,b,g);return;case"select":J=O=D=Z=null;for(b in l)if(F=l[b],l.hasOwnProperty(b)&&F!=null)switch(b){case"value":break;case"multiple":J=F;default:f.hasOwnProperty(b)||mt(i,s,b,null,f,F)}for(g in f)if(b=f[g],F=l[g],f.hasOwnProperty(g)&&(b!=null||F!=null))switch(g){case"value":Z=b;break;case"defaultValue":D=b;break;case"multiple":O=b;default:b!==F&&mt(i,s,g,b,f,F)}s=D,l=O,f=J,Z!=null?qi(i,!!l,Z,!1):!!f!=!!l&&(s!=null?qi(i,!!l,s,!0):qi(i,!!l,l?[]:"",!1));return;case"textarea":J=Z=null;for(D in l)if(g=l[D],l.hasOwnProperty(D)&&g!=null&&!f.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:mt(i,s,D,null,f,g)}for(O in f)if(g=f[O],b=l[O],f.hasOwnProperty(O)&&(g!=null||b!=null))switch(O){case"value":Z=g;break;case"defaultValue":J=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==b&&mt(i,s,O,g,f,b)}ht(i,Z,J);return;case"option":for(var Ie in l)if(Z=l[Ie],l.hasOwnProperty(Ie)&&Z!=null&&!f.hasOwnProperty(Ie))switch(Ie){case"selected":i.selected=!1;break;default:mt(i,s,Ie,null,f,Z)}for(F in f)if(Z=f[F],J=l[F],f.hasOwnProperty(F)&&Z!==J&&(Z!=null||J!=null))switch(F){case"selected":i.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:mt(i,s,F,Z,f,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in l)Z=l[Ne],l.hasOwnProperty(Ne)&&Z!=null&&!f.hasOwnProperty(Ne)&&mt(i,s,Ne,null,f,Z);for(W in f)if(Z=f[W],J=l[W],f.hasOwnProperty(W)&&Z!==J&&(Z!=null||J!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,s));break;default:mt(i,s,W,Z,f,J)}return;default:if(Du(s)){for(var pt in l)Z=l[pt],l.hasOwnProperty(pt)&&Z!==void 0&&!f.hasOwnProperty(pt)&&_v(i,s,pt,void 0,f,Z);for(ae in f)Z=f[ae],J=l[ae],!f.hasOwnProperty(ae)||Z===J||Z===void 0&&J===void 0||_v(i,s,ae,Z,f,J);return}}for(var G in l)Z=l[G],l.hasOwnProperty(G)&&Z!=null&&!f.hasOwnProperty(G)&&mt(i,s,G,null,f,Z);for(oe in f)Z=f[oe],J=l[oe],!f.hasOwnProperty(oe)||Z===J||Z==null&&J==null||mt(i,s,oe,Z,f,J)}var wv=null,Ev=null;function Wh(i){return i.nodeType===9?i:i.ownerDocument}function cS(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fS(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Sv(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Av=null;function R4(){var i=window.event;return i&&i.type==="popstate"?i===Av?!1:(Av=i,!0):(Av=null,!1)}var hS=typeof setTimeout=="function"?setTimeout:void 0,I4=typeof clearTimeout=="function"?clearTimeout:void 0,dS=typeof Promise=="function"?Promise:void 0,M4=typeof queueMicrotask=="function"?queueMicrotask:typeof dS<"u"?function(i){return dS.resolve(null).then(i).catch(k4)}:hS;function k4(i){setTimeout(function(){throw i})}function Xa(i){return i==="head"}function mS(i,s){var l=s,f=0,g=0;do{var b=l.nextSibling;if(i.removeChild(l),b&&b.nodeType===8)if(l=b.data,l==="/$"){if(0<f&&8>f){l=f;var O=i.ownerDocument;if(l&1&&vc(O.documentElement),l&2&&vc(O.body),l&4)for(l=O.head,vc(l),O=l.firstChild;O;){var D=O.nextSibling,F=O.nodeName;O[Ns]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&O.rel.toLowerCase()==="stylesheet"||l.removeChild(O),O=D}}if(g===0){i.removeChild(b),Ac(s);return}g--}else l==="$"||l==="$?"||l==="$!"?g++:f=l.charCodeAt(0)-48;else f=0;l=b}while(l);Ac(s)}function Tv(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Tv(l),Pa(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function V4(i,s,l,f){for(;i.nodeType===1;){var g=l;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!f&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(f){if(!i[Ns])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(b=i.getAttribute("rel"),b==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(b!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(b=i.getAttribute("src"),(b!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&b&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var b=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===b)return i}else return i;if(i=Qr(i.nextSibling),i===null)break}return null}function L4(i,s,l){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Qr(i.nextSibling),i===null))return null;return i}function Ov(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function B4(i,s){var l=i.ownerDocument;if(i.data!=="$?"||l.readyState==="complete")s();else{var f=function(){s(),l.removeEventListener("DOMContentLoaded",f)};l.addEventListener("DOMContentLoaded",f),i._reactRetry=f}}function Qr(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var Cv=null;function pS(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return i;s--}else l==="/$"&&s++}i=i.previousSibling}return null}function gS(i,s,l){switch(s=Wh(l),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function vc(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Pa(i)}var Dr=new Map,vS=new Set;function Zh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var oa=ue.d;ue.d={f:U4,r:z4,D:q4,C:$4,L:F4,m:H4,X:G4,S:K4,M:Y4};function U4(){var i=oa.f(),s=$h();return i||s}function z4(i){var s=ui(i);s!==null&&s.tag===5&&s.type==="form"?Vw(s):oa.r(i)}var jl=typeof document>"u"?null:document;function yS(i,s,l){var f=jl;if(f&&typeof s=="string"&&s){var g=qt(s);g='link[rel="'+i+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),vS.has(g)||(vS.add(g),i={rel:i,crossOrigin:l,href:s},f.querySelector(g)===null&&(s=f.createElement("link"),En(s,"link",i),Vt(s),f.head.appendChild(s)))}}function q4(i){oa.D(i),yS("dns-prefetch",i,null)}function $4(i,s){oa.C(i,s),yS("preconnect",i,s)}function F4(i,s,l){oa.L(i,s,l);var f=jl;if(f&&i&&s){var g='link[rel="preload"][as="'+qt(s)+'"]';s==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+qt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+qt(l.imageSizes)+'"]')):g+='[href="'+qt(i)+'"]';var b=g;switch(s){case"style":b=Pl(i);break;case"script":b=Nl(i)}Dr.has(b)||(i=m({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:i,as:s},l),Dr.set(b,i),f.querySelector(g)!==null||s==="style"&&f.querySelector(yc(b))||s==="script"&&f.querySelector(bc(b))||(s=f.createElement("link"),En(s,"link",i),Vt(s),f.head.appendChild(s)))}}function H4(i,s){oa.m(i,s);var l=jl;if(l&&i){var f=s&&typeof s.as=="string"?s.as:"script",g='link[rel="modulepreload"][as="'+qt(f)+'"][href="'+qt(i)+'"]',b=g;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Nl(i)}if(!Dr.has(b)&&(i=m({rel:"modulepreload",href:i},s),Dr.set(b,i),l.querySelector(g)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(bc(b)))return}f=l.createElement("link"),En(f,"link",i),Vt(f),l.head.appendChild(f)}}}function K4(i,s,l){oa.S(i,s,l);var f=jl;if(f&&i){var g=Un(f).hoistableStyles,b=Pl(i);s=s||"default";var O=g.get(b);if(!O){var D={loading:0,preload:null};if(O=f.querySelector(yc(b)))D.loading=5;else{i=m({rel:"stylesheet",href:i,"data-precedence":s},l),(l=Dr.get(b))&&jv(i,l);var F=O=f.createElement("link");Vt(F),En(F,"link",i),F._p=new Promise(function(W,ae){F.onload=W,F.onerror=ae}),F.addEventListener("load",function(){D.loading|=1}),F.addEventListener("error",function(){D.loading|=2}),D.loading|=4,Jh(O,s,f)}O={type:"stylesheet",instance:O,count:1,state:D},g.set(b,O)}}}function G4(i,s){oa.X(i,s);var l=jl;if(l&&i){var f=Un(l).hoistableScripts,g=Nl(i),b=f.get(g);b||(b=l.querySelector(bc(g)),b||(i=m({src:i,async:!0},s),(s=Dr.get(g))&&Pv(i,s),b=l.createElement("script"),Vt(b),En(b,"link",i),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(g,b))}}function Y4(i,s){oa.M(i,s);var l=jl;if(l&&i){var f=Un(l).hoistableScripts,g=Nl(i),b=f.get(g);b||(b=l.querySelector(bc(g)),b||(i=m({src:i,async:!0,type:"module"},s),(s=Dr.get(g))&&Pv(i,s),b=l.createElement("script"),Vt(b),En(b,"link",i),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(g,b))}}function bS(i,s,l,f){var g=(g=Pe.current)?Zh(g):null;if(!g)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=Pl(l.href),l=Un(g).hoistableStyles,f=l.get(s),f||(f={type:"style",instance:null,count:0,state:null},l.set(s,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=Pl(l.href);var b=Un(g).hoistableStyles,O=b.get(i);if(O||(g=g.ownerDocument||g,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(i,O),(b=g.querySelector(yc(i)))&&!b._p&&(O.instance=b,O.state.loading=5),Dr.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Dr.set(i,l),b||X4(g,i,l,O.state))),s&&f===null)throw Error(r(528,""));return O}if(s&&f!==null)throw Error(r(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Nl(l),l=Un(g).hoistableScripts,f=l.get(s),f||(f={type:"script",instance:null,count:0,state:null},l.set(s,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Pl(i){return'href="'+qt(i)+'"'}function yc(i){return'link[rel="stylesheet"]['+i+"]"}function xS(i){return m({},i,{"data-precedence":i.precedence,precedence:null})}function X4(i,s,l,f){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?f.loading=1:(s=i.createElement("link"),f.preload=s,s.addEventListener("load",function(){return f.loading|=1}),s.addEventListener("error",function(){return f.loading|=2}),En(s,"link",l),Vt(s),i.head.appendChild(s))}function Nl(i){return'[src="'+qt(i)+'"]'}function bc(i){return"script[async]"+i}function _S(i,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var f=i.querySelector('style[data-href~="'+qt(l.href)+'"]');if(f)return s.instance=f,Vt(f),f;var g=m({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return f=(i.ownerDocument||i).createElement("style"),Vt(f),En(f,"style",g),Jh(f,l.precedence,i),s.instance=f;case"stylesheet":g=Pl(l.href);var b=i.querySelector(yc(g));if(b)return s.state.loading|=4,s.instance=b,Vt(b),b;f=xS(l),(g=Dr.get(g))&&jv(f,g),b=(i.ownerDocument||i).createElement("link"),Vt(b);var O=b;return O._p=new Promise(function(D,F){O.onload=D,O.onerror=F}),En(b,"link",f),s.state.loading|=4,Jh(b,l.precedence,i),s.instance=b;case"script":return b=Nl(l.src),(g=i.querySelector(bc(b)))?(s.instance=g,Vt(g),g):(f=l,(g=Dr.get(b))&&(f=m({},l),Pv(f,g)),i=i.ownerDocument||i,g=i.createElement("script"),Vt(g),En(g,"link",f),i.head.appendChild(g),s.instance=g);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(f=s.instance,s.state.loading|=4,Jh(f,l.precedence,i));return s.instance}function Jh(i,s,l){for(var f=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=f.length?f[f.length-1]:null,b=g,O=0;O<f.length;O++){var D=f[O];if(D.dataset.precedence===s)b=D;else if(b!==g)break}b?b.parentNode.insertBefore(i,b.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(i,s.firstChild))}function jv(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Pv(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var ed=null;function wS(i,s,l){if(ed===null){var f=new Map,g=ed=new Map;g.set(l,f)}else g=ed,f=g.get(l),f||(f=new Map,g.set(l,f));if(f.has(i))return f;for(f.set(i,null),l=l.getElementsByTagName(i),g=0;g<l.length;g++){var b=l[g];if(!(b[Ns]||b[Qt]||i==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var O=b.getAttribute(s)||"";O=i+O;var D=f.get(O);D?D.push(b):f.set(O,[b])}}return f}function ES(i,s,l){i=i.ownerDocument||i,i.head.insertBefore(l,s==="title"?i.querySelector("head > title"):null)}function Q4(i,s,l){if(l===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function SS(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var xc=null;function W4(){}function Z4(i,s,l){if(xc===null)throw Error(r(475));var f=xc;if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var g=Pl(l.href),b=i.querySelector(yc(g));if(b){i=b._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(f.count++,f=td.bind(f),i.then(f,f)),s.state.loading|=4,s.instance=b,Vt(b);return}b=i.ownerDocument||i,l=xS(l),(g=Dr.get(g))&&jv(l,g),b=b.createElement("link"),Vt(b);var O=b;O._p=new Promise(function(D,F){O.onload=D,O.onerror=F}),En(b,"link",l),s.instance=b}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(f.count++,s=td.bind(f),i.addEventListener("load",s),i.addEventListener("error",s))}}function J4(){if(xc===null)throw Error(r(475));var i=xc;return i.stylesheets&&i.count===0&&Nv(i,i.stylesheets),0<i.count?function(s){var l=setTimeout(function(){if(i.stylesheets&&Nv(i,i.stylesheets),i.unsuspend){var f=i.unsuspend;i.unsuspend=null,f()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(l)}}:null}function td(){if(this.count--,this.count===0){if(this.stylesheets)Nv(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var nd=null;function Nv(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,nd=new Map,s.forEach(ek,i),nd=null,td.call(i))}function ek(i,s){if(!(s.state.loading&4)){var l=nd.get(i);if(l)var f=l.get(null);else{l=new Map,nd.set(i,l);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<g.length;b++){var O=g[b];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(l.set(O.dataset.precedence,O),f=O)}f&&l.set(null,f)}g=s.instance,O=g.getAttribute("data-precedence"),b=l.get(O)||f,b===f&&l.set(null,g),l.set(O,g),this.count++,f=td.bind(this),g.addEventListener("load",f),g.addEventListener("error",f),b?b.parentNode.insertBefore(g,b.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),s.state.loading|=4}}var _c={$$typeof:P,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function tk(i,s,l,f,g,b,O,D){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vi(0),this.hiddenUpdates=Vi(null),this.identifierPrefix=f,this.onUncaughtError=g,this.onCaughtError=b,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function AS(i,s,l,f,g,b,O,D,F,W,ae,oe){return i=new tk(i,s,l,O,D,F,W,oe),s=1,b===!0&&(s|=24),b=ir(3,null,null,s),i.current=b,b.stateNode=i,s=hg(),s.refCount++,i.pooledCache=s,s.refCount++,b.memoizedState={element:f,isDehydrated:l,cache:s},gg(b),i}function TS(i){return i?(i=ll,i):ll}function OS(i,s,l,f,g,b){g=TS(g),f.context===null?f.context=g:f.pendingContext=g,f=ka(s),f.payload={element:l},b=b===void 0?null:b,b!==null&&(f.callback=b),l=Va(i,f,s),l!==null&&(ur(l,i,s),Wu(l,i,s))}function CS(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function Dv(i,s){CS(i,s),(i=i.alternate)&&CS(i,s)}function jS(i){if(i.tag===13){var s=ol(i,67108864);s!==null&&ur(s,i,67108864),Dv(i,67108864)}}var rd=!0;function nk(i,s,l,f){var g=X.T;X.T=null;var b=ue.p;try{ue.p=2,Rv(i,s,l,f)}finally{ue.p=b,X.T=g}}function rk(i,s,l,f){var g=X.T;X.T=null;var b=ue.p;try{ue.p=8,Rv(i,s,l,f)}finally{ue.p=b,X.T=g}}function Rv(i,s,l,f){if(rd){var g=Iv(f);if(g===null)xv(i,s,f,id,l),NS(i,f);else if(ak(g,i,s,l,f))f.stopPropagation();else if(NS(i,f),s&4&&-1<ik.indexOf(i)){for(;g!==null;){var b=ui(g);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var O=Hr(b.pendingLanes);if(O!==0){var D=b;for(D.pendingLanes|=2,D.entangledLanes|=2;O;){var F=1<<31-Nn(O);D.entanglements[1]|=F,O&=~F}Ei(b),(ot&6)===0&&(zh=ft()+500,mc(0))}}break;case 13:D=ol(b,2),D!==null&&ur(D,b,2),$h(),Dv(b,2)}if(b=Iv(f),b===null&&xv(i,s,f,id,l),b===g)break;g=b}g!==null&&f.stopPropagation()}else xv(i,s,f,null,l)}}function Iv(i){return i=Er(i),Mv(i)}var id=null;function Mv(i){if(id=null,i=Bi(i),i!==null){var s=o(i);if(s===null)i=null;else{var l=s.tag;if(l===13){if(i=u(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return id=i,null}function PS(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(oi()){case As:return 2;case ki:return 8;case Fr:case Ts:return 32;case Pn:return 268435456;default:return 32}default:return 32}}var kv=!1,Qa=null,Wa=null,Za=null,wc=new Map,Ec=new Map,Ja=[],ik="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function NS(i,s){switch(i){case"focusin":case"focusout":Qa=null;break;case"dragenter":case"dragleave":Wa=null;break;case"mouseover":case"mouseout":Za=null;break;case"pointerover":case"pointerout":wc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ec.delete(s.pointerId)}}function Sc(i,s,l,f,g,b){return i===null||i.nativeEvent!==b?(i={blockedOn:s,domEventName:l,eventSystemFlags:f,nativeEvent:b,targetContainers:[g]},s!==null&&(s=ui(s),s!==null&&jS(s)),i):(i.eventSystemFlags|=f,s=i.targetContainers,g!==null&&s.indexOf(g)===-1&&s.push(g),i)}function ak(i,s,l,f,g){switch(s){case"focusin":return Qa=Sc(Qa,i,s,l,f,g),!0;case"dragenter":return Wa=Sc(Wa,i,s,l,f,g),!0;case"mouseover":return Za=Sc(Za,i,s,l,f,g),!0;case"pointerover":var b=g.pointerId;return wc.set(b,Sc(wc.get(b)||null,i,s,l,f,g)),!0;case"gotpointercapture":return b=g.pointerId,Ec.set(b,Sc(Ec.get(b)||null,i,s,l,f,g)),!0}return!1}function DS(i){var s=Bi(i.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=u(l),s!==null){i.blockedOn=s,$f(i.priority,function(){if(l.tag===13){var f=lr();f=Oa(f);var g=ol(l,f);g!==null&&ur(g,l,f),Dv(l,f)}});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function ad(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=Iv(i.nativeEvent);if(l===null){l=i.nativeEvent;var f=new l.constructor(l.type,l);$i=f,l.target.dispatchEvent(f),$i=null}else return s=ui(l),s!==null&&jS(s),i.blockedOn=l,!1;s.shift()}return!0}function RS(i,s,l){ad(i)&&l.delete(s)}function sk(){kv=!1,Qa!==null&&ad(Qa)&&(Qa=null),Wa!==null&&ad(Wa)&&(Wa=null),Za!==null&&ad(Za)&&(Za=null),wc.forEach(RS),Ec.forEach(RS)}function sd(i,s){i.blockedOn===s&&(i.blockedOn=null,kv||(kv=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,sk)))}var od=null;function IS(i){od!==i&&(od=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){od===i&&(od=null);for(var s=0;s<i.length;s+=3){var l=i[s],f=i[s+1],g=i[s+2];if(typeof f!="function"){if(Mv(f||l)===null)continue;break}var b=ui(l);b!==null&&(i.splice(s,3),s-=3,Mg(b,{pending:!0,data:g,method:l.method,action:f},f,g))}}))}function Ac(i){function s(F){return sd(F,i)}Qa!==null&&sd(Qa,i),Wa!==null&&sd(Wa,i),Za!==null&&sd(Za,i),wc.forEach(s),Ec.forEach(s);for(var l=0;l<Ja.length;l++){var f=Ja[l];f.blockedOn===i&&(f.blockedOn=null)}for(;0<Ja.length&&(l=Ja[0],l.blockedOn===null);)DS(l),l.blockedOn===null&&Ja.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(f=0;f<l.length;f+=3){var g=l[f],b=l[f+1],O=g[zt]||null;if(typeof b=="function")O||IS(l);else if(O){var D=null;if(b&&b.hasAttribute("formAction")){if(g=b,O=b[zt]||null)D=O.formAction;else if(Mv(g)!==null)continue}else D=O.action;typeof D=="function"?l[f+1]=D:(l.splice(f,3),f-=3),IS(l)}}}function Vv(i){this._internalRoot=i}ld.prototype.render=Vv.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var l=s.current,f=lr();OS(l,f,i,s,null,null)},ld.prototype.unmount=Vv.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;OS(i.current,2,null,i,null,null),$h(),s[_r]=null}};function ld(i){this._internalRoot=i}ld.prototype.unstable_scheduleHydration=function(i){if(i){var s=Ca();i={blockedOn:null,target:i,priority:s};for(var l=0;l<Ja.length&&s!==0&&s<Ja[l].priority;l++);Ja.splice(l,0,i),l===0&&DS(i)}};var MS=e.version;if(MS!=="19.1.1")throw Error(r(527,MS,"19.1.1"));ue.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=h(s),i=i!==null?d(i):null,i=i===null?null:i.stateNode,i};var ok={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ud=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ud.isDisabled&&ud.supportsFiber)try{Dt=ud.inject(ok),st=ud}catch{}}return Oc.createRoot=function(i,s){if(!a(i))throw Error(r(299));var l=!1,f="",g=Ww,b=Zw,O=Jw,D=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(b=s.onCaughtError),s.onRecoverableError!==void 0&&(O=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(D=s.unstable_transitionCallbacks)),s=AS(i,1,!1,null,null,l,f,g,b,O,D,null),i[_r]=s.current,bv(i),new Vv(s)},Oc.hydrateRoot=function(i,s,l){if(!a(i))throw Error(r(299));var f=!1,g="",b=Ww,O=Zw,D=Jw,F=null,W=null;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(O=l.onCaughtError),l.onRecoverableError!==void 0&&(D=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(F=l.unstable_transitionCallbacks),l.formState!==void 0&&(W=l.formState)),s=AS(i,1,!0,s,l??null,f,g,b,O,D,F,W),s.context=TS(null),l=s.current,f=lr(),f=Oa(f),g=ka(f),g.callback=null,Va(l,g,f),l=f,s.current.lanes=l,Li(s,l),Ei(s),i[_r]=s.current,bv(i),new ld(s)},Oc.version="19.1.1",Oc}var HS;function xk(){if(HS)return zv.exports;HS=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),zv.exports=bk(),zv.exports}var _k=xk();const wk=ii(_k);var Be=(t=>(t[t.Dashboard=0]="Dashboard",t[t.Products=1]="Products",t[t.Pos=2]="Pos",t[t.Customers=3]="Customers",t[t.Invoices=4]="Invoices",t[t.Settings=5]="Settings",t))(Be||{}),so=(t=>(t.Cash="نقدي",t.Credit="آجل",t.Partial="جزئي",t))(so||{});const Ek=({className:t})=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[x.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),x.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),oj=({className:t})=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[x.jsx("path",{d:"M16.5 9.4a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0Z"}),x.jsx("path",{d:"M19 13.6a8.9 8.9 0 0 1-14 0"}),x.jsx("path",{d:"m8 21 1.7-1.7"}),x.jsx("path",{d:"m14.3 19.3 1.7 1.7"}),x.jsx("path",{d:"M12 13a7.3 7.3 0 0 0-4.3 1.3"}),x.jsx("path",{d:"M12 13h0"}),x.jsx("path",{d:"M16.3 14.3A7.3 7.3 0 0 0 12 13"})]}),Sk=({className:t})=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[x.jsx("circle",{cx:"8",cy:"21",r:"1"}),x.jsx("circle",{cx:"19",cy:"21",r:"1"}),x.jsx("path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.16"})]}),Ak=({className:t})=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[x.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),x.jsx("circle",{cx:"9",cy:"7",r:"4"}),x.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),x.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),Tk=({className:t})=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[x.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 0 2l-.15.08a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.38a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1 0-2l.15-.08a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),x.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),Ok=({className:t})=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[x.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),x.jsx("polyline",{points:"16 17 21 12 16 7"}),x.jsx("line",{x1:"21",x2:"9",y1:"12",y2:"12"})]}),$m=({className:t})=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[x.jsx("circle",{cx:"11",cy:"11",r:"8"}),x.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),Wc=({className:t})=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[x.jsx("path",{d:"M3 5v14"}),x.jsx("path",{d:"M8 5v14"}),x.jsx("path",{d:"M12 5v14"}),x.jsx("path",{d:"M17 5v14"}),x.jsx("path",{d:"M21 5v14"})]}),fo=({className:t})=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[x.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),x.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),Fm=({className:t})=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[x.jsx("polyline",{points:"3 6 5 6 21 6"}),x.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),x.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),x.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),Ck=({className:t})=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[x.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),x.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),x.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]}),a1=({className:t})=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[x.jsx("circle",{cx:"12",cy:"12",r:"10"}),x.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),x.jsx("line",{x1:"8",y1:"12",x2:"16",y2:"12"})]}),wf=({className:t})=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[x.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),x.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),s1=({className:t})=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[x.jsx("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),x.jsx("polyline",{points:"14 2 14 8 20 8"}),x.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),x.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),x.jsx("line",{x1:"10",y1:"9",x2:"8",y2:"9"})]}),$0=({className:t})=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[x.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),x.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),lj=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:x.jsx("path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2z"})}),jk=({className:t})=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[x.jsx("path",{d:"M16.5 9.4a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0Z"}),x.jsx("path",{d:"M19 13.6a8.9 8.9 0 0 1-14 0"}),x.jsx("path",{d:"m8 21 1.7-1.7"}),x.jsx("path",{d:"m14.3 19.3 1.7 1.7"}),x.jsx("path",{d:"M12 13a7.3 7.3 0 0 0-4.3 1.3"}),x.jsx("path",{d:"M12 13h0"}),x.jsx("path",{d:"M16.3 14.3A7.3 7.3 0 0 0 12 13"})]}),uj=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:x.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})}),Pk=({className:t})=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[x.jsx("path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"}),x.jsx("circle",{cx:"12",cy:"13",r:"3"})]}),cj=({className:t})=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[x.jsx("rect",{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"}),x.jsx("path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"})]}),Dl=({icon:t,label:e,page:n,activePage:r,setPage:a})=>x.jsxs("button",{onClick:()=>a(n),className:`w-full flex items-center justify-center lg:justify-start p-3 my-1 rounded-lg transition-colors duration-200 ${r===n?"bg-blue-500 text-white":"text-gray-600 hover:bg-blue-100 hover:text-blue-600"}`,title:e,children:[t,x.jsx("span",{className:"ms-4 hidden lg:inline",children:e})]}),Nk=({onLogout:t})=>{const{page:e,setPage:n,currentUser:r,settings:a}=si(),o="./",u=c=>{var h;return(r==null?void 0:r.id)==="u1"?!0:((h=r==null?void 0:r.permissions)==null?void 0:h[c])===!0};return x.jsxs("div",{className:"fixed top-0 right-0 h-full bg-white shadow-lg w-20 lg:w-64 flex flex-col transition-all duration-300 z-40",children:[x.jsx("div",{className:"flex items-center justify-center h-20 border-b",children:x.jsx("h1",{className:"text-2xl font-bold text-blue-600 hidden lg:inline",children:a.systemName||"نظامي"})}),x.jsxs("nav",{className:"flex-grow px-2 py-4",children:[u(Be.Dashboard)&&x.jsx(Dl,{icon:x.jsx(Ek,{className:"h-6 w-6 sidebar-icon"}),label:"الرئيسية",page:Be.Dashboard,activePage:e,setPage:n}),u(Be.Products)&&x.jsx(Dl,{icon:x.jsx(cj,{className:"h-6 w-6 sidebar-icon"}),label:"إدارة المنتجات",page:Be.Products,activePage:e,setPage:n}),u(Be.Pos)&&x.jsx(Dl,{icon:x.jsx(Sk,{className:"h-6 w-6 sidebar-icon"}),label:"نقطة البيع",page:Be.Pos,activePage:e,setPage:n}),u(Be.Customers)&&x.jsx(Dl,{icon:x.jsx(Ak,{className:"h-6 w-6 sidebar-icon"}),label:"إدارة العملاء",page:Be.Customers,activePage:e,setPage:n}),u(Be.Invoices)&&x.jsx(Dl,{icon:x.jsx(s1,{className:"h-6 w-6 sidebar-icon"}),label:"الفواتير",page:Be.Invoices,activePage:e,setPage:n}),u(Be.Settings)&&x.jsx(Dl,{icon:x.jsx(Tk,{className:"h-6 w-6 sidebar-icon"}),label:"الإعدادات",page:Be.Settings,activePage:e,setPage:n})]}),x.jsxs("div",{className:"px-4 py-4 border-t",children:[x.jsxs("div",{className:"hidden lg:block text-center text-xs text-black",children:[x.jsx("img",{src:`${o}YSK-SALES.png`,alt:"YSK SALES Logo",className:"h-10 w-10 mx-auto mb-2"}),x.jsx("p",{children:"Developed by: Sameh reda"}),x.jsx("p",{children:"للدعم الفني والمبيعات"}),x.jsxs("div",{className:"flex justify-center items-center my-2",children:[x.jsx("img",{src:`${o}mobile.png`,alt:"Phone",className:"h-4 w-4 ml-2"}),x.jsx("a",{href:"tel:01023160657",children:"01023160657"})]}),x.jsxs("div",{className:"flex justify-center items-center my-2",children:[x.jsx("img",{src:`${o}whatsapp.png`,alt:"Whatsapp",className:"h-4 w-4 ml-2"}),x.jsx("a",{href:"https://wa.me/201023160657",target:"_blank",children:"01023160657"})]}),x.jsxs("div",{className:"flex justify-center items-center my-2",children:[x.jsx("img",{src:`${o}web-domain.png`,alt:"Website",className:"h-4 w-4 ml-2"}),x.jsx("a",{href:"https://doc-digital.online",target:"_blank",children:"doc-digital.online"})]}),x.jsxs("div",{className:"flex justify-center items-center my-2",children:[x.jsx("img",{src:`${o}gmail.png`,alt:"Email",className:"h-4 w-4 ml-2"}),x.jsx("a",{href:"mailto:same7redaa@gmail.com",children:"same7redaa@gmail.com"})]})]}),x.jsx("div",{className:"text-center lg:text-right mb-2 mt-4",children:x.jsxs("p",{className:"text-sm font-semibold text-gray-700 hidden lg:block",children:["مرحباً، ",r==null?void 0:r.name]})}),x.jsxs("button",{onClick:t,className:"w-full flex items-center justify-center lg:justify-start p-3 my-1 rounded-lg text-gray-600 hover:bg-red-100 hover:text-red-600 transition-colors duration-200",title:"تسجيل الخروج",children:[x.jsx(Ok,{className:"h-6 w-6 sidebar-icon"}),x.jsx("span",{className:"ms-4 hidden lg:inline",children:"تسجيل الخروج"})]})]})]})},Dk=({children:t,onLogout:e})=>x.jsxs("div",{className:"flex",children:[x.jsx(Nk,{onLogout:e}),x.jsx("main",{className:"flex-1 mr-20 lg:mr-64 bg-gray-50 min-h-screen",children:x.jsx("div",{className:"p-8",children:t})})]}),KS=()=>{const{users:t,setCurrentUser:e,addNotification:n}=si(),[r,a]=C.useState(""),[o,u]=C.useState(""),[c,h]=C.useState(!!localStorage.getItem("rememberedUsername")),[d,m]=C.useState(""),v="./";C.useEffect(()=>{const _=localStorage.getItem("rememberedUsername");_&&(a(_),h(!0))},[]);const y=_=>{_.preventDefault();const S=t.find(E=>E.name===r&&(E.password||"")===o);S?S.status==="نشط"?(e(S),n(`مرحباً بك مجدداً، ${S.name}`),c?localStorage.setItem("rememberedUsername",r):localStorage.removeItem("rememberedUsername")):m("هذا الحساب غير نشط."):m("اسم المستخدم أو كلمة المرور غير صحيحة.")};return x.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:x.jsxs("div",{className:"w-full max-w-md p-8 space-y-8 bg-white rounded-xl shadow-lg",children:[x.jsxs("div",{className:"text-center",children:[x.jsx("img",{src:`${v}YSK-SALES.png`,alt:"YSK SALES Logo",className:"mx-auto h-24 w-24"}),x.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"تسجيل الدخول"}),x.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"مرحباً بك مجدداً! الرجاء إدخال بياناتك."})]}),x.jsxs("form",{className:"mt-8 space-y-6",onSubmit:y,children:[x.jsxs("div",{className:"rounded-md shadow-sm space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 text-right mb-1",children:"اسم المستخدم"}),x.jsx("input",{id:"username",name:"username",type:"text",value:r,onChange:_=>{a(_.target.value),m("")},required:!0,className:"appearance-none relative block w-full px-3 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"اسم المستخدم"})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"password-input",className:"block text-sm font-medium text-gray-700 text-right mb-1",children:"كلمة المرور"}),x.jsx("input",{id:"password-input",name:"password",type:"password",value:o,onChange:_=>{u(_.target.value),m("")},required:!0,className:"appearance-none relative block w-full px-3 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"كلمة المرور"})]})]}),x.jsx("div",{className:"flex items-center justify-between",children:x.jsxs("div",{className:"flex items-center",children:[x.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",checked:c,onChange:_=>h(_.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded cursor-pointer"}),x.jsx("label",{htmlFor:"remember-me",className:"ms-2 block text-sm text-gray-900 cursor-pointer",children:"تذكر اسم المستخدم"})]})}),d&&x.jsx("p",{className:"text-red-500 text-sm text-center",children:d}),x.jsx("div",{children:x.jsx("button",{type:"submit",className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:"تسجيل الدخول"})})]})]})})},Rk=({onActivate:t})=>{const[e,n]=C.useState(""),[r,a]=C.useState(""),o="YSKAB-CDEF0-10274-HIJKL-MNOP1",u=c=>{c.preventDefault(),e.trim()===o?t():a("الرقم التسلسلي غير صحيح. الرجاء المحاولة مرة أخرى.")};return x.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:x.jsxs("div",{className:"w-full max-w-md p-8 space-y-6 bg-white rounded-xl shadow-lg",children:[x.jsxs("div",{className:"flex flex-col items-center",children:[x.jsx(oj,{className:"h-16 w-16 text-blue-600 mb-4"}),x.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"تفعيل النظام"}),x.jsx("p",{className:"mt-2 text-gray-600",children:"الرجاء إدخال الرقم التسلسلي لتفعيل البرنامج."})]}),x.jsxs("form",{onSubmit:u,className:"space-y-6",children:[x.jsxs("div",{children:[x.jsx("label",{htmlFor:"serial",className:"block text-sm font-medium text-gray-700 text-right mb-1",children:"الرقم التسلسلي"}),x.jsx("input",{id:"serial",name:"serial",type:"text",value:e,onChange:c=>{n(c.target.value.toUpperCase()),a("")},className:"mt-1 block w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-center tracking-widest",placeholder:"XXXXX-XXXXX-XXXXX-XXXXX-XXXXX"})]}),r&&x.jsx("p",{className:"text-red-500 text-sm text-center",children:r}),x.jsx("div",{children:x.jsx("button",{type:"submit",className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:"تفعيل"})})]})]})})};function fj(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=fj(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ct(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=fj(t))&&(r&&(r+=" "),r+=e);return r}var Hv={},Kv={},GS;function Ik(){return GS||(GS=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(Kv)),Kv}var Gv={},YS;function hj(){return YS||(YS=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(Gv)),Gv}var Yv={},XS;function dj(){return XS||(XS=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(Yv)),Yv}var Xv={},QS;function o1(){return QS||(QS=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){const r=[],a=n.length;if(a===0)return r;let o=0,u="",c="",h=!1;for(n.charCodeAt(0)===46&&(r.push(""),o++);o<a;){const d=n[o];c?d==="\\"&&o+1<a?(o++,u+=n[o]):d===c?c="":u+=d:h?d==='"'||d==="'"?c=d:d==="]"?(h=!1,r.push(u),u=""):u+=d:d==="["?(h=!0,u&&(r.push(u),u="")):d==="."?u&&(r.push(u),u=""):u+=d,o++}return u&&r.push(u),r}t.toPath=e})(Xv)),Xv}var WS;function l1(){return WS||(WS=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ik(),n=hj(),r=dj(),a=o1();function o(c,h,d){if(c==null)return d;switch(typeof h){case"string":{if(e.isUnsafeProperty(h))return d;const m=c[h];return m===void 0?n.isDeepKey(h)?o(c,a.toPath(h),d):d:m}case"number":case"symbol":{typeof h=="number"&&(h=r.toKey(h));const m=c[h];return m===void 0?d:m}default:{if(Array.isArray(h))return u(c,h,d);if(Object.is(h==null?void 0:h.valueOf(),-0)?h="-0":h=String(h),e.isUnsafeProperty(h))return d;const m=c[h];return m===void 0?d:m}}}function u(c,h,d){if(h.length===0)return d;let m=c;for(let v=0;v<h.length;v++){if(m==null||e.isUnsafeProperty(h[v]))return d;m=m[h[v]]}return m===void 0?d:m}t.get=o})(Hv)),Hv}var Qv,ZS;function Mk(){return ZS||(ZS=1,Qv=l1().get),Qv}var kk=Mk();const Ao=ii(kk);var Wv={exports:{}},gt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JS;function Vk(){if(JS)return gt;JS=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),_=Symbol.for("react.client.reference");function S(E){if(typeof E=="object"&&E!==null){var A=E.$$typeof;switch(A){case t:switch(E=E.type,E){case n:case a:case r:case h:case d:case y:return E;default:switch(E=E&&E.$$typeof,E){case u:case c:case v:case m:return E;case o:return E;default:return A}}case e:return A}}}return gt.ContextConsumer=o,gt.ContextProvider=u,gt.Element=t,gt.ForwardRef=c,gt.Fragment=n,gt.Lazy=v,gt.Memo=m,gt.Portal=e,gt.Profiler=a,gt.StrictMode=r,gt.Suspense=h,gt.SuspenseList=d,gt.isContextConsumer=function(E){return S(E)===o},gt.isContextProvider=function(E){return S(E)===u},gt.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===t},gt.isForwardRef=function(E){return S(E)===c},gt.isFragment=function(E){return S(E)===n},gt.isLazy=function(E){return S(E)===v},gt.isMemo=function(E){return S(E)===m},gt.isPortal=function(E){return S(E)===e},gt.isProfiler=function(E){return S(E)===a},gt.isStrictMode=function(E){return S(E)===r},gt.isSuspense=function(E){return S(E)===h},gt.isSuspenseList=function(E){return S(E)===d},gt.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===n||E===a||E===r||E===h||E===d||typeof E=="object"&&E!==null&&(E.$$typeof===v||E.$$typeof===m||E.$$typeof===u||E.$$typeof===o||E.$$typeof===c||E.$$typeof===_||E.getModuleId!==void 0)},gt.typeOf=S,gt}var eA;function Lk(){return eA||(eA=1,Wv.exports=Vk()),Wv.exports}var Bk=Lk(),Qn=t=>t===0?0:t>0?1:-1,gr=t=>typeof t=="number"&&t!=+t,ho=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,xe=t=>(typeof t=="number"||t instanceof Number)&&!gr(t),Ni=t=>xe(t)||typeof t=="string",Uk=0,Zc=t=>{var e=++Uk;return"".concat(t||"").concat(e)},ni=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!xe(e)&&typeof e!="string")return r;var o;if(ho(e)){if(n==null)return r;var u=e.indexOf("%");o=n*parseFloat(e.slice(0,u))/100}else o=+e;return gr(o)&&(o=r),a&&n!=null&&o>n&&(o=n),o},mj=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function Wr(t,e,n){return xe(t)&&xe(e)?t+n*(e-t):e}function pj(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Ao(r,e))===n)}var Et=t=>t===null||typeof t>"u",Ef=t=>Et(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),zk=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function u1(t){if(typeof t!="string")return!1;var e=zk;return e.includes(t)}var qk=["viewBox","children"],tA=["points","pathLength"],Zv={svg:qk,polygon:tA,polyline:tA},c1=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(C.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(a=>{u1(a)&&(r[a]=(o=>n[a](n,o)))}),r},$k=(t,e,n)=>r=>(t(e,n,r),null),Hm=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(a=>{var o=t[a];u1(a)&&typeof o=="function"&&(r||(r={}),r[a]=$k(o,e,n))}),r},Fk=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function gj(t){if(typeof t!="string")return!1;var e=Fk;return e.includes(t)}function Io(t){var e=Object.entries(t).filter(n=>{var[r]=n;return gj(r)});return Object.fromEntries(e)}var nA=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",rA=null,Jv=null,vj=t=>{if(t===rA&&Array.isArray(Jv))return Jv;var e=[];return C.Children.forEach(t,n=>{Et(n)||(Bk.isFragment(n)?e=e.concat(vj(n.props.children)):e.push(n))}),Jv=e,rA=t,e};function f1(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(a=>nA(a)):r=[nA(e)],vj(t).forEach(a=>{var o=Ao(a,"type.displayName")||Ao(a,"type.name");r.indexOf(o)!==-1&&n.push(a)}),n}var yj=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,Hk=(t,e,n,r)=>{var a;if(typeof e=="symbol"||typeof e=="number")return!0;var o=(a=r&&(Zv==null?void 0:Zv[r]))!==null&&a!==void 0?a:[],u=e.startsWith("data-"),c=typeof t!="function"&&(!!r&&o.includes(e)||gj(e)),h=!!n&&u1(e);return u||c||h},kt=(t,e,n)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(C.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var a={};return Object.keys(r).forEach(o=>{var u;Hk((u=r)===null||u===void 0?void 0:u[o],o,e,n)&&(a[o]=r[o])}),a},Kk=["children","width","height","viewBox","className","style","title","desc"];function F0(){return F0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},F0.apply(null,arguments)}function Gk(t,e){if(t==null)return{};var n,r,a=Yk(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Yk(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var h1=C.forwardRef((t,e)=>{var{children:n,width:r,height:a,viewBox:o,className:u,style:c,title:h,desc:d}=t,m=Gk(t,Kk),v=o||{width:r,height:a,x:0,y:0},y=ct("recharts-surface",u);return C.createElement("svg",F0({},kt(m,!0,"svg"),{className:y,width:r,height:a,style:c,viewBox:"".concat(v.x," ").concat(v.y," ").concat(v.width," ").concat(v.height),ref:e}),C.createElement("title",null,h),C.createElement("desc",null,d),n)}),Xk=["children","className"];function H0(){return H0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},H0.apply(null,arguments)}function Qk(t,e){if(t==null)return{};var n,r,a=Wk(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Wk(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ri=C.forwardRef((t,e)=>{var{children:n,className:r}=t,a=Qk(t,Xk),o=ct("recharts-layer",r);return C.createElement("g",H0({className:o},kt(a,!0),{ref:e}),n)}),bj=sj(),xj=C.createContext(null),Zk=()=>C.useContext(xj);function xt(t){return function(){return t}}const _j=Math.cos,Bd=Math.sin,ai=Math.sqrt,Ud=Math.PI,Km=2*Ud,K0=Math.PI,G0=2*K0,oo=1e-6,Jk=G0-oo;function wj(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function e3(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return wj;const n=10**e;return function(r){this._+=r[0];for(let a=1,o=r.length;a<o;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class t3{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?wj:e3(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,a){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(e,n,r,a,o,u){this._append`C${+e},${+n},${+r},${+a},${this._x1=+o},${this._y1=+u}`}arcTo(e,n,r,a,o){if(e=+e,n=+n,r=+r,a=+a,o=+o,o<0)throw new Error(`negative radius: ${o}`);let u=this._x1,c=this._y1,h=r-e,d=a-n,m=u-e,v=c-n,y=m*m+v*v;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(y>oo)if(!(Math.abs(v*h-d*m)>oo)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let _=r-u,S=a-c,E=h*h+d*d,A=_*_+S*S,j=Math.sqrt(E),I=Math.sqrt(y),P=o*Math.tan((K0-Math.acos((E+y-A)/(2*j*I)))/2),U=P/I,B=P/j;Math.abs(U-1)>oo&&this._append`L${e+U*m},${n+U*v}`,this._append`A${o},${o},0,0,${+(v*_>m*S)},${this._x1=e+B*h},${this._y1=n+B*d}`}}arc(e,n,r,a,o,u){if(e=+e,n=+n,r=+r,u=!!u,r<0)throw new Error(`negative radius: ${r}`);let c=r*Math.cos(a),h=r*Math.sin(a),d=e+c,m=n+h,v=1^u,y=u?a-o:o-a;this._x1===null?this._append`M${d},${m}`:(Math.abs(this._x1-d)>oo||Math.abs(this._y1-m)>oo)&&this._append`L${d},${m}`,r&&(y<0&&(y=y%G0+G0),y>Jk?this._append`A${r},${r},0,1,${v},${e-c},${n-h}A${r},${r},0,1,${v},${this._x1=d},${this._y1=m}`:y>oo&&this._append`A${r},${r},0,${+(y>=K0)},${v},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function d1(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new t3(e)}function m1(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Ej(t){this._context=t}Ej.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Gm(t){return new Ej(t)}function Sj(t){return t[0]}function Aj(t){return t[1]}function Tj(t,e){var n=xt(!0),r=null,a=Gm,o=null,u=d1(c);t=typeof t=="function"?t:t===void 0?Sj:xt(t),e=typeof e=="function"?e:e===void 0?Aj:xt(e);function c(h){var d,m=(h=m1(h)).length,v,y=!1,_;for(r==null&&(o=a(_=u())),d=0;d<=m;++d)!(d<m&&n(v=h[d],d,h))===y&&((y=!y)?o.lineStart():o.lineEnd()),y&&o.point(+t(v,d,h),+e(v,d,h));if(_)return o=null,_+""||null}return c.x=function(h){return arguments.length?(t=typeof h=="function"?h:xt(+h),c):t},c.y=function(h){return arguments.length?(e=typeof h=="function"?h:xt(+h),c):e},c.defined=function(h){return arguments.length?(n=typeof h=="function"?h:xt(!!h),c):n},c.curve=function(h){return arguments.length?(a=h,r!=null&&(o=a(r)),c):a},c.context=function(h){return arguments.length?(h==null?r=o=null:o=a(r=h),c):r},c}function cd(t,e,n){var r=null,a=xt(!0),o=null,u=Gm,c=null,h=d1(d);t=typeof t=="function"?t:t===void 0?Sj:xt(+t),e=typeof e=="function"?e:xt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?Aj:xt(+n);function d(v){var y,_,S,E=(v=m1(v)).length,A,j=!1,I,P=new Array(E),U=new Array(E);for(o==null&&(c=u(I=h())),y=0;y<=E;++y){if(!(y<E&&a(A=v[y],y,v))===j)if(j=!j)_=y,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),S=y-1;S>=_;--S)c.point(P[S],U[S]);c.lineEnd(),c.areaEnd()}j&&(P[y]=+t(A,y,v),U[y]=+e(A,y,v),c.point(r?+r(A,y,v):P[y],n?+n(A,y,v):U[y]))}if(I)return c=null,I+""||null}function m(){return Tj().defined(a).curve(u).context(o)}return d.x=function(v){return arguments.length?(t=typeof v=="function"?v:xt(+v),r=null,d):t},d.x0=function(v){return arguments.length?(t=typeof v=="function"?v:xt(+v),d):t},d.x1=function(v){return arguments.length?(r=v==null?null:typeof v=="function"?v:xt(+v),d):r},d.y=function(v){return arguments.length?(e=typeof v=="function"?v:xt(+v),n=null,d):e},d.y0=function(v){return arguments.length?(e=typeof v=="function"?v:xt(+v),d):e},d.y1=function(v){return arguments.length?(n=v==null?null:typeof v=="function"?v:xt(+v),d):n},d.lineX0=d.lineY0=function(){return m().x(t).y(e)},d.lineY1=function(){return m().x(t).y(n)},d.lineX1=function(){return m().x(r).y(e)},d.defined=function(v){return arguments.length?(a=typeof v=="function"?v:xt(!!v),d):a},d.curve=function(v){return arguments.length?(u=v,o!=null&&(c=u(o)),d):u},d.context=function(v){return arguments.length?(v==null?o=c=null:c=u(o=v),d):o},d}class Oj{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function n3(t){return new Oj(t,!0)}function r3(t){return new Oj(t,!1)}const p1={draw(t,e){const n=ai(e/Ud);t.moveTo(n,0),t.arc(0,0,n,0,Km)}},i3={draw(t,e){const n=ai(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},Cj=ai(1/3),a3=Cj*2,s3={draw(t,e){const n=ai(e/a3),r=n*Cj;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},o3={draw(t,e){const n=ai(e),r=-n/2;t.rect(r,r,n,n)}},l3=.8908130915292852,jj=Bd(Ud/10)/Bd(7*Ud/10),u3=Bd(Km/10)*jj,c3=-_j(Km/10)*jj,f3={draw(t,e){const n=ai(e*l3),r=u3*n,a=c3*n;t.moveTo(0,-n),t.lineTo(r,a);for(let o=1;o<5;++o){const u=Km*o/5,c=_j(u),h=Bd(u);t.lineTo(h*n,-c*n),t.lineTo(c*r-h*a,h*r+c*a)}t.closePath()}},ey=ai(3),h3={draw(t,e){const n=-ai(e/(ey*3));t.moveTo(0,n*2),t.lineTo(-ey*n,-n),t.lineTo(ey*n,-n),t.closePath()}},Rr=-.5,Ir=ai(3)/2,Y0=1/ai(12),d3=(Y0/2+1)*3,m3={draw(t,e){const n=ai(e/d3),r=n/2,a=n*Y0,o=r,u=n*Y0+n,c=-o,h=u;t.moveTo(r,a),t.lineTo(o,u),t.lineTo(c,h),t.lineTo(Rr*r-Ir*a,Ir*r+Rr*a),t.lineTo(Rr*o-Ir*u,Ir*o+Rr*u),t.lineTo(Rr*c-Ir*h,Ir*c+Rr*h),t.lineTo(Rr*r+Ir*a,Rr*a-Ir*r),t.lineTo(Rr*o+Ir*u,Rr*u-Ir*o),t.lineTo(Rr*c+Ir*h,Rr*h-Ir*c),t.closePath()}};function p3(t,e){let n=null,r=d1(a);t=typeof t=="function"?t:xt(t||p1),e=typeof e=="function"?e:xt(e===void 0?64:+e);function a(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return a.type=function(o){return arguments.length?(t=typeof o=="function"?o:xt(o),a):t},a.size=function(o){return arguments.length?(e=typeof o=="function"?o:xt(+o),a):e},a.context=function(o){return arguments.length?(n=o??null,a):n},a}function zd(){}function qd(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Pj(t){this._context=t}Pj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:qd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:qd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function g3(t){return new Pj(t)}function Nj(t){this._context=t}Nj.prototype={areaStart:zd,areaEnd:zd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:qd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function v3(t){return new Nj(t)}function Dj(t){this._context=t}Dj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:qd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function y3(t){return new Dj(t)}function Rj(t){this._context=t}Rj.prototype={areaStart:zd,areaEnd:zd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function b3(t){return new Rj(t)}function iA(t){return t<0?-1:1}function aA(t,e,n){var r=t._x1-t._x0,a=e-t._x1,o=(t._y1-t._y0)/(r||a<0&&-0),u=(n-t._y1)/(a||r<0&&-0),c=(o*a+u*r)/(r+a);return(iA(o)+iA(u))*Math.min(Math.abs(o),Math.abs(u),.5*Math.abs(c))||0}function sA(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function ty(t,e,n){var r=t._x0,a=t._y0,o=t._x1,u=t._y1,c=(o-r)/3;t._context.bezierCurveTo(r+c,a+c*e,o-c,u-c*n,o,u)}function $d(t){this._context=t}$d.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ty(this,this._t0,sA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,ty(this,sA(this,n=aA(this,t,e)),n);break;default:ty(this,this._t0,n=aA(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function Ij(t){this._context=new Mj(t)}(Ij.prototype=Object.create($d.prototype)).point=function(t,e){$d.prototype.point.call(this,e,t)};function Mj(t){this._context=t}Mj.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,a,o){this._context.bezierCurveTo(e,t,r,n,o,a)}};function x3(t){return new $d(t)}function _3(t){return new Ij(t)}function kj(t){this._context=t}kj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=oA(t),a=oA(e),o=0,u=1;u<n;++o,++u)this._context.bezierCurveTo(r[0][o],a[0][o],r[1][o],a[1][o],t[u],e[u]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function oA(t){var e,n=t.length-1,r,a=new Array(n),o=new Array(n),u=new Array(n);for(a[0]=0,o[0]=2,u[0]=t[0]+2*t[1],e=1;e<n-1;++e)a[e]=1,o[e]=4,u[e]=4*t[e]+2*t[e+1];for(a[n-1]=2,o[n-1]=7,u[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=a[e]/o[e-1],o[e]-=r,u[e]-=r*u[e-1];for(a[n-1]=u[n-1]/o[n-1],e=n-2;e>=0;--e)a[e]=(u[e]-a[e+1])/o[e];for(o[n-1]=(t[n]+a[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-a[e+1];return[a,o]}function w3(t){return new kj(t)}function Ym(t,e){this._context=t,this._t=e}Ym.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function E3(t){return new Ym(t,.5)}function S3(t){return new Ym(t,0)}function A3(t){return new Ym(t,1)}function Kl(t,e){if((u=t.length)>1)for(var n=1,r,a,o=t[e[0]],u,c=o.length;n<u;++n)for(a=o,o=t[e[n]],r=0;r<c;++r)o[r][1]+=o[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function X0(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function T3(t,e){return t[e]}function O3(t){const e=[];return e.key=t,e}function C3(){var t=xt([]),e=X0,n=Kl,r=T3;function a(o){var u=Array.from(t.apply(this,arguments),O3),c,h=u.length,d=-1,m;for(const v of o)for(c=0,++d;c<h;++c)(u[c][d]=[0,+r(v,u[c].key,d,o)]).data=v;for(c=0,m=m1(e(u));c<h;++c)u[m[c]].index=c;return n(u,m),u}return a.keys=function(o){return arguments.length?(t=typeof o=="function"?o:xt(Array.from(o)),a):t},a.value=function(o){return arguments.length?(r=typeof o=="function"?o:xt(+o),a):r},a.order=function(o){return arguments.length?(e=o==null?X0:typeof o=="function"?o:xt(Array.from(o)),a):e},a.offset=function(o){return arguments.length?(n=o??Kl,a):n},a}function j3(t,e){if((r=t.length)>0){for(var n,r,a=0,o=t[0].length,u;a<o;++a){for(u=n=0;n<r;++n)u+=t[n][a][1]||0;if(u)for(n=0;n<r;++n)t[n][a][1]/=u}Kl(t,e)}}function P3(t,e){if((a=t.length)>0){for(var n=0,r=t[e[0]],a,o=r.length;n<o;++n){for(var u=0,c=0;u<a;++u)c+=t[u][n][1]||0;r[n][1]+=r[n][0]=-c/2}Kl(t,e)}}function N3(t,e){if(!(!((u=t.length)>0)||!((o=(a=t[e[0]]).length)>0))){for(var n=0,r=1,a,o,u;r<o;++r){for(var c=0,h=0,d=0;c<u;++c){for(var m=t[e[c]],v=m[r][1]||0,y=m[r-1][1]||0,_=(v-y)/2,S=0;S<c;++S){var E=t[e[S]],A=E[r][1]||0,j=E[r-1][1]||0;_+=A-j}h+=v,d+=_*v}a[r-1][1]+=a[r-1][0]=n,h&&(n-=d/h)}a[r-1][1]+=a[r-1][0]=n,Kl(t,e)}}var D3=["type","size","sizeType"];function Q0(){return Q0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Q0.apply(null,arguments)}function lA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function uA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lA(Object(n),!0).forEach(function(r){R3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function R3(t,e,n){return(e=I3(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I3(t){var e=M3(t,"string");return typeof e=="symbol"?e:e+""}function M3(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function k3(t,e){if(t==null)return{};var n,r,a=V3(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function V3(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Vj={symbolCircle:p1,symbolCross:i3,symbolDiamond:s3,symbolSquare:o3,symbolStar:f3,symbolTriangle:h3,symbolWye:m3},L3=Math.PI/180,B3=t=>{var e="symbol".concat(Ef(t));return Vj[e]||p1},U3=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*L3;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},z3=(t,e)=>{Vj["symbol".concat(Ef(t))]=e},g1=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,a=k3(t,D3),o=uA(uA({},a),{},{type:e,size:n,sizeType:r}),u=()=>{var v=B3(e),y=p3().type(v).size(U3(n,r,e));return y()},{className:c,cx:h,cy:d}=o,m=kt(o,!0);return h===+h&&d===+d&&n===+n?C.createElement("path",Q0({},m,{className:ct("recharts-symbols",c),transform:"translate(".concat(h,", ").concat(d,")"),d:u()})):null};g1.registerSymbol=z3;function W0(){return W0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},W0.apply(null,arguments)}function cA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function q3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cA(Object(n),!0).forEach(function(r){v1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function v1(t,e,n){return(e=$3(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $3(t){var e=F3(t,"string");return typeof e=="symbol"?e:e+""}function F3(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mr=32;class y1 extends C.PureComponent{renderIcon(e,n){var{inactiveColor:r}=this.props,a=Mr/2,o=Mr/6,u=Mr/3,c=e.inactive?r:e.color,h=n??e.type;if(h==="none")return null;if(h==="plainline")return C.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:a,x2:Mr,y2:a,className:"recharts-legend-icon"});if(h==="line")return C.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(u,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*u,",").concat(a,`
            H`).concat(Mr,"M").concat(2*u,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(u,",").concat(a),className:"recharts-legend-icon"});if(h==="rect")return C.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Mr/8,"h").concat(Mr,"v").concat(Mr*3/4,"h").concat(-Mr,"z"),className:"recharts-legend-icon"});if(C.isValidElement(e.legendIcon)){var d=q3({},e);return delete d.legendIcon,C.cloneElement(e.legendIcon,d)}return C.createElement(g1,{fill:c,cx:a,cy:a,size:Mr,sizeType:"diameter",type:h})}renderItems(){var{payload:e,iconSize:n,layout:r,formatter:a,inactiveColor:o,iconType:u}=this.props,c={x:0,y:0,width:Mr,height:Mr},h={display:r==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((m,v)=>{var y=m.formatter||a,_=ct({"recharts-legend-item":!0,["legend-item-".concat(v)]:!0,inactive:m.inactive});if(m.type==="none")return null;var S=m.inactive?o:m.color,E=y?y(m.value,m,v):m.value;return C.createElement("li",W0({className:_,style:h,key:"legend-item-".concat(v)},Hm(this.props,m,v)),C.createElement(h1,{width:n,height:n,viewBox:c,style:d,"aria-label":"".concat(E," legend icon")},this.renderIcon(m,u)),C.createElement("span",{className:"recharts-legend-item-text",style:{color:S}},E))})}render(){var{payload:e,layout:n,align:r}=this.props;if(!e||!e.length)return null;var a={padding:0,margin:0,textAlign:n==="horizontal"?r:"left"};return C.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}v1(y1,"displayName","Legend");v1(y1,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var ny={},ry={},fA;function H3(){return fA||(fA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const a=new Map;for(let o=0;o<n.length;o++){const u=n[o],c=r(u);a.has(c)||a.set(c,u)}return Array.from(a.values())}t.uniqBy=e})(ry)),ry}var iy={},hA;function Lj(){return hA||(hA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(iy)),iy}var ay={},sy={},oy={},dA;function K3(){return dA||(dA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(oy)),oy}var mA;function b1(){return mA||(mA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=K3();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(sy)),sy}var ly={},pA;function G3(){return pA||(pA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(ly)),ly}var gA;function Y3(){return gA||(gA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=b1(),n=G3();function r(a){return n.isObjectLike(a)&&e.isArrayLike(a)}t.isArrayLikeObject=r})(ay)),ay}var uy={},cy={},vA;function X3(){return vA||(vA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=l1();function n(r){return function(a){return e.get(a,r)}}t.property=n})(cy)),cy}var fy={},hy={},dy={},my={},yA;function Bj(){return yA||(yA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(my)),my}var py={},bA;function Uj(){return bA||(bA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(py)),py}var gy={},xA;function x1(){return xA||(xA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(gy)),gy}var _A;function Q3(){return _A||(_A=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_1(),n=Bj(),r=Uj(),a=x1();function o(v,y,_){return typeof _!="function"?e.isMatch(v,y):u(v,y,function S(E,A,j,I,P,U){const B=_(E,A,j,I,P,U);return B!==void 0?!!B:u(E,A,S,U)},new Map)}function u(v,y,_,S){if(y===v)return!0;switch(typeof y){case"object":return c(v,y,_,S);case"function":return Object.keys(y).length>0?u(v,{...y},_,S):a.eq(v,y);default:return n.isObject(v)?typeof y=="string"?y==="":!0:a.eq(v,y)}}function c(v,y,_,S){if(y==null)return!0;if(Array.isArray(y))return d(v,y,_,S);if(y instanceof Map)return h(v,y,_,S);if(y instanceof Set)return m(v,y,_,S);const E=Object.keys(y);if(v==null)return E.length===0;if(E.length===0)return!0;if(S&&S.has(y))return S.get(y)===v;S&&S.set(y,v);try{for(let A=0;A<E.length;A++){const j=E[A];if(!r.isPrimitive(v)&&!(j in v)||y[j]===void 0&&v[j]!==void 0||y[j]===null&&v[j]!==null||!_(v[j],y[j],j,v,y,S))return!1}return!0}finally{S&&S.delete(y)}}function h(v,y,_,S){if(y.size===0)return!0;if(!(v instanceof Map))return!1;for(const[E,A]of y.entries()){const j=v.get(E);if(_(j,A,E,v,y,S)===!1)return!1}return!0}function d(v,y,_,S){if(y.length===0)return!0;if(!Array.isArray(v))return!1;const E=new Set;for(let A=0;A<y.length;A++){const j=y[A];let I=!1;for(let P=0;P<v.length;P++){if(E.has(P))continue;const U=v[P];let B=!1;if(_(U,j,A,v,y,S)&&(B=!0),B){E.add(P),I=!0;break}}if(!I)return!1}return!0}function m(v,y,_,S){return y.size===0?!0:v instanceof Set?d([...v],[...y],_,S):!1}t.isMatchWith=o,t.isSetMatch=m})(dy)),dy}var wA;function _1(){return wA||(wA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Q3();function n(r,a){return e.isMatchWith(r,a,()=>{})}t.isMatch=n})(hy)),hy}var vy={},yy={},by={},EA;function zj(){return EA||(EA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(by)),by}var xy={},SA;function w1(){return SA||(SA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(xy)),xy}var _y={},AA;function E1(){return AA||(AA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",a="[object Boolean]",o="[object Arguments]",u="[object Symbol]",c="[object Date]",h="[object Map]",d="[object Set]",m="[object Array]",v="[object Function]",y="[object ArrayBuffer]",_="[object Object]",S="[object Error]",E="[object DataView]",A="[object Uint8Array]",j="[object Uint8ClampedArray]",I="[object Uint16Array]",P="[object Uint32Array]",U="[object BigUint64Array]",B="[object Int8Array]",H="[object Int16Array]",N="[object Int32Array]",R="[object BigInt64Array]",k="[object Float32Array]",$="[object Float64Array]";t.argumentsTag=o,t.arrayBufferTag=y,t.arrayTag=m,t.bigInt64ArrayTag=R,t.bigUint64ArrayTag=U,t.booleanTag=a,t.dataViewTag=E,t.dateTag=c,t.errorTag=S,t.float32ArrayTag=k,t.float64ArrayTag=$,t.functionTag=v,t.int16ArrayTag=H,t.int32ArrayTag=N,t.int8ArrayTag=B,t.mapTag=h,t.numberTag=r,t.objectTag=_,t.regexpTag=e,t.setTag=d,t.stringTag=n,t.symbolTag=u,t.uint16ArrayTag=I,t.uint32ArrayTag=P,t.uint8ArrayTag=A,t.uint8ClampedArrayTag=j})(_y)),_y}var wy={},TA;function W3(){return TA||(TA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(wy)),wy}var OA;function qj(){return OA||(OA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=zj(),n=w1(),r=E1(),a=Uj(),o=W3();function u(m,v){return c(m,void 0,m,new Map,v)}function c(m,v,y,_=new Map,S=void 0){const E=S==null?void 0:S(m,v,y,_);if(E!==void 0)return E;if(a.isPrimitive(m))return m;if(_.has(m))return _.get(m);if(Array.isArray(m)){const A=new Array(m.length);_.set(m,A);for(let j=0;j<m.length;j++)A[j]=c(m[j],j,y,_,S);return Object.hasOwn(m,"index")&&(A.index=m.index),Object.hasOwn(m,"input")&&(A.input=m.input),A}if(m instanceof Date)return new Date(m.getTime());if(m instanceof RegExp){const A=new RegExp(m.source,m.flags);return A.lastIndex=m.lastIndex,A}if(m instanceof Map){const A=new Map;_.set(m,A);for(const[j,I]of m)A.set(j,c(I,j,y,_,S));return A}if(m instanceof Set){const A=new Set;_.set(m,A);for(const j of m)A.add(c(j,void 0,y,_,S));return A}if(typeof Buffer<"u"&&Buffer.isBuffer(m))return m.subarray();if(o.isTypedArray(m)){const A=new(Object.getPrototypeOf(m)).constructor(m.length);_.set(m,A);for(let j=0;j<m.length;j++)A[j]=c(m[j],j,y,_,S);return A}if(m instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&m instanceof SharedArrayBuffer)return m.slice(0);if(m instanceof DataView){const A=new DataView(m.buffer.slice(0),m.byteOffset,m.byteLength);return _.set(m,A),h(A,m,y,_,S),A}if(typeof File<"u"&&m instanceof File){const A=new File([m],m.name,{type:m.type});return _.set(m,A),h(A,m,y,_,S),A}if(m instanceof Blob){const A=new Blob([m],{type:m.type});return _.set(m,A),h(A,m,y,_,S),A}if(m instanceof Error){const A=new m.constructor;return _.set(m,A),A.message=m.message,A.name=m.name,A.stack=m.stack,A.cause=m.cause,h(A,m,y,_,S),A}if(typeof m=="object"&&d(m)){const A=Object.create(Object.getPrototypeOf(m));return _.set(m,A),h(A,m,y,_,S),A}return m}function h(m,v,y=m,_,S){const E=[...Object.keys(v),...e.getSymbols(v)];for(let A=0;A<E.length;A++){const j=E[A],I=Object.getOwnPropertyDescriptor(m,j);(I==null||I.writable)&&(m[j]=c(v[j],j,y,_,S))}}function d(m){switch(n.getTag(m)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=u,t.cloneDeepWithImpl=c,t.copyProperties=h})(yy)),yy}var CA;function Z3(){return CA||(CA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qj();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(vy)),vy}var jA;function J3(){return jA||(jA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_1(),n=Z3();function r(a){return a=n.cloneDeep(a),o=>e.isMatch(o,a)}t.matches=r})(fy)),fy}var Ey={},Sy={},Ay={},PA;function e6(){return PA||(PA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qj(),n=E1();function r(a,o){return e.cloneDeepWith(a,(u,c,h,d)=>{const m=o==null?void 0:o(u,c,h,d);if(m!==void 0)return m;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case n.numberTag:case n.stringTag:case n.booleanTag:{const v=new a.constructor(a==null?void 0:a.valueOf());return e.copyProperties(v,a),v}case n.argumentsTag:{const v={};return e.copyProperties(v,a),v.length=a.length,v[Symbol.iterator]=a[Symbol.iterator],v}default:return}})}t.cloneDeepWith=r})(Ay)),Ay}var NA;function t6(){return NA||(NA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=e6();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(Sy)),Sy}var Ty={},Oy={},DA;function $j(){return DA||(DA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,a=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<a;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(Oy)),Oy}var Cy={},RA;function n6(){return RA||(RA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=w1();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(Cy)),Cy}var IA;function r6(){return IA||(IA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hj(),n=$j(),r=n6(),a=o1();function o(u,c){let h;if(Array.isArray(c)?h=c:typeof c=="string"&&e.isDeepKey(c)&&(u==null?void 0:u[c])==null?h=a.toPath(c):h=[c],h.length===0)return!1;let d=u;for(let m=0;m<h.length;m++){const v=h[m];if((d==null||!Object.hasOwn(d,v))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(v)&&v<d.length))return!1;d=d[v]}return!0}t.has=o})(Ty)),Ty}var MA;function i6(){return MA||(MA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_1(),n=dj(),r=t6(),a=l1(),o=r6();function u(c,h){switch(typeof c){case"object":{Object.is(c==null?void 0:c.valueOf(),-0)&&(c="-0");break}case"number":{c=n.toKey(c);break}}return h=r.cloneDeep(h),function(d){const m=a.get(d,c);return m===void 0?o.has(d,c):h===void 0?m===void 0:e.isMatch(m,h)}}t.matchesProperty=u})(Ey)),Ey}var kA;function a6(){return kA||(kA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Lj(),n=X3(),r=J3(),a=i6();function o(u){if(u==null)return e.identity;switch(typeof u){case"function":return u;case"object":return Array.isArray(u)&&u.length===2?a.matchesProperty(u[0],u[1]):r.matches(u);case"string":case"symbol":case"number":return n.property(u)}}t.iteratee=o})(uy)),uy}var VA;function s6(){return VA||(VA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=H3(),n=Lj(),r=Y3(),a=a6();function o(u,c=n.identity){return r.isArrayLikeObject(u)?e.uniqBy(Array.from(u),a.iteratee(c)):[]}t.uniqBy=o})(ny)),ny}var jy,LA;function o6(){return LA||(LA=1,jy=s6().uniqBy),jy}var l6=o6();const BA=ii(l6);function Fj(t,e,n){return e===!0?BA(t,n):typeof e=="function"?BA(t,e):t}var Py={exports:{}},Ny={},Dy={exports:{}},Ry={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UA;function u6(){if(UA)return Ry;UA=1;var t=su();function e(v,y){return v===y&&(v!==0||1/v===1/y)||v!==v&&y!==y}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,a=t.useEffect,o=t.useLayoutEffect,u=t.useDebugValue;function c(v,y){var _=y(),S=r({inst:{value:_,getSnapshot:y}}),E=S[0].inst,A=S[1];return o(function(){E.value=_,E.getSnapshot=y,h(E)&&A({inst:E})},[v,_,y]),a(function(){return h(E)&&A({inst:E}),v(function(){h(E)&&A({inst:E})})},[v]),u(_),_}function h(v){var y=v.getSnapshot;v=v.value;try{var _=y();return!n(v,_)}catch{return!0}}function d(v,y){return y()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:c;return Ry.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,Ry}var zA;function c6(){return zA||(zA=1,Dy.exports=u6()),Dy.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qA;function f6(){if(qA)return Ny;qA=1;var t=su(),e=c6();function n(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}var r=typeof Object.is=="function"?Object.is:n,a=e.useSyncExternalStore,o=t.useRef,u=t.useEffect,c=t.useMemo,h=t.useDebugValue;return Ny.useSyncExternalStoreWithSelector=function(d,m,v,y,_){var S=o(null);if(S.current===null){var E={hasValue:!1,value:null};S.current=E}else E=S.current;S=c(function(){function j(H){if(!I){if(I=!0,P=H,H=y(H),_!==void 0&&E.hasValue){var N=E.value;if(_(N,H))return U=N}return U=H}if(N=U,r(P,H))return N;var R=y(H);return _!==void 0&&_(N,R)?(P=H,N):(P=H,U=R)}var I=!1,P,U,B=v===void 0?null:v;return[function(){return j(m())},B===null?void 0:function(){return j(B())}]},[m,v,y,_]);var A=a(d,S[0],S[1]);return u(function(){E.hasValue=!0,E.value=A},[A]),h(A),A},Ny}var $A;function h6(){return $A||($A=1,Py.exports=f6()),Py.exports}var d6=h6(),S1=C.createContext(null),m6=t=>t,Yt=()=>{var t=C.useContext(S1);return t?t.store.dispatch:m6},Dd=()=>{},p6=()=>Dd,g6=(t,e)=>t===e;function Ee(t){var e=C.useContext(S1);return d6.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:p6,e?e.store.getState:Dd,e?e.store.getState:Dd,e?t:Dd,g6)}function v6(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function y6(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function b6(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var FA=t=>Array.isArray(t)?t:[t];function x6(t){const e=Array.isArray(t[0])?t[0]:t;return b6(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function _6(t,e){const n=[],{length:r}=t;for(let a=0;a<r;a++)n.push(t[a].apply(null,e));return n}var w6=class{constructor(t){this.value=t}deref(){return this.value}},E6=typeof WeakRef<"u"?WeakRef:w6,S6=0,HA=1;function fd(){return{s:S6,v:void 0,o:null,p:null}}function Hj(t,e={}){let n=fd();const{resultEqualityCheck:r}=e;let a,o=0;function u(){var v;let c=n;const{length:h}=arguments;for(let y=0,_=h;y<_;y++){const S=arguments[y];if(typeof S=="function"||typeof S=="object"&&S!==null){let E=c.o;E===null&&(c.o=E=new WeakMap);const A=E.get(S);A===void 0?(c=fd(),E.set(S,c)):c=A}else{let E=c.p;E===null&&(c.p=E=new Map);const A=E.get(S);A===void 0?(c=fd(),E.set(S,c)):c=A}}const d=c;let m;if(c.s===HA)m=c.v;else if(m=t.apply(null,arguments),o++,r){const y=((v=a==null?void 0:a.deref)==null?void 0:v.call(a))??a;y!=null&&r(y,m)&&(m=y,o!==0&&o--),a=typeof m=="object"&&m!==null||typeof m=="function"?new E6(m):m}return d.s=HA,d.v=m,m}return u.clearCache=()=>{n=fd(),u.resetResultsCount()},u.resultsCount=()=>o,u.resetResultsCount=()=>{o=0},u}function A6(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...a)=>{let o=0,u=0,c,h={},d=a.pop();typeof d=="object"&&(h=d,d=a.pop()),v6(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const m={...n,...h},{memoize:v,memoizeOptions:y=[],argsMemoize:_=Hj,argsMemoizeOptions:S=[]}=m,E=FA(y),A=FA(S),j=x6(a),I=v(function(){return o++,d.apply(null,arguments)},...E),P=_(function(){u++;const B=_6(j,arguments);return c=I.apply(null,B),c},...A);return Object.assign(P,{resultFunc:d,memoizedResultFunc:I,dependencies:j,dependencyRecomputations:()=>u,resetDependencyRecomputations:()=>{u=0},lastResult:()=>c,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:v,argsMemoize:_})};return Object.assign(r,{withTypes:()=>r}),r}var ne=A6(Hj),T6=Object.assign((t,e=ne)=>{y6(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(o=>t[o]);return e(r,(...o)=>o.reduce((u,c,h)=>(u[n[h]]=c,u),{}))},{withTypes:()=>T6}),Iy={},My={},ky={},KA;function O6(){return KA||(KA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,a,o)=>{if(r!==a){const u=e(r),c=e(a);if(u===c&&u===0){if(r<a)return o==="desc"?1:-1;if(r>a)return o==="desc"?-1:1}return o==="desc"?c-u:u-c}return 0};t.compareValues=n})(ky)),ky}var Vy={},Ly={},GA;function Kj(){return GA||(GA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(Ly)),Ly}var YA;function C6(){return YA||(YA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Kj(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function a(o,u){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||e.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||u!=null&&Object.hasOwn(u,o)}t.isKey=a})(Vy)),Vy}var XA;function j6(){return XA||(XA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=O6(),n=C6(),r=o1();function a(o,u,c,h){if(o==null)return[];c=h?void 0:c,Array.isArray(o)||(o=Object.values(o)),Array.isArray(u)||(u=u==null?[null]:[u]),u.length===0&&(u=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(_=>String(_));const d=(_,S)=>{let E=_;for(let A=0;A<S.length&&E!=null;++A)E=E[S[A]];return E},m=(_,S)=>S==null||_==null?S:typeof _=="object"&&"key"in _?Object.hasOwn(S,_.key)?S[_.key]:d(S,_.path):typeof _=="function"?_(S):Array.isArray(_)?d(S,_):typeof S=="object"?S[_]:S,v=u.map(_=>(Array.isArray(_)&&_.length===1&&(_=_[0]),_==null||typeof _=="function"||Array.isArray(_)||n.isKey(_)?_:{key:_,path:r.toPath(_)}));return o.map(_=>({original:_,criteria:v.map(S=>m(S,_))})).slice().sort((_,S)=>{for(let E=0;E<v.length;E++){const A=e.compareValues(_.criteria[E],S.criteria[E],c[E]);if(A!==0)return A}return 0}).map(_=>_.original)}t.orderBy=a})(My)),My}var By={},QA;function P6(){return QA||(QA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const a=[],o=Math.floor(r),u=(c,h)=>{for(let d=0;d<c.length;d++){const m=c[d];Array.isArray(m)&&h<o?u(m,h+1):a.push(m)}};return u(n,0),a}t.flatten=e})(By)),By}var Uy={},WA;function Gj(){return WA||(WA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$j(),n=b1(),r=Bj(),a=x1();function o(u,c,h){return r.isObject(h)&&(typeof c=="number"&&n.isArrayLike(h)&&e.isIndex(c)&&c<h.length||typeof c=="string"&&c in h)?a.eq(h[c],u):!1}t.isIterateeCall=o})(Uy)),Uy}var ZA;function N6(){return ZA||(ZA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=j6(),n=P6(),r=Gj();function a(o,...u){const c=u.length;return c>1&&r.isIterateeCall(o,u[0],u[1])?u=[]:c>2&&r.isIterateeCall(u[0],u[1],u[2])&&(u=[u[0]]),e.orderBy(o,n.flatten(u),["asc"])}t.sortBy=a})(Iy)),Iy}var zy,JA;function D6(){return JA||(JA=1,zy=N6().sortBy),zy}var R6=D6();const Xm=ii(R6);var Yj=t=>t.legend.settings,I6=t=>t.legend.size,M6=t=>t.legend.payload,k6=ne([M6,Yj],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?Xm(r,n):r});function V6(){return Ee(k6)}var hd=1;function Xj(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=C.useState({height:0,left:0,top:0,width:0}),r=C.useCallback(a=>{if(a!=null){var o=a.getBoundingClientRect(),u={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(u.height-e.height)>hd||Math.abs(u.left-e.left)>hd||Math.abs(u.top-e.top)>hd||Math.abs(u.width-e.width)>hd)&&n({height:u.height,left:u.left,top:u.top,width:u.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function Sn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var L6=typeof Symbol=="function"&&Symbol.observable||"@@observable",eT=L6,qy=()=>Math.random().toString(36).substring(7).split("").join("."),B6={INIT:`@@redux/INIT${qy()}`,REPLACE:`@@redux/REPLACE${qy()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${qy()}`},Fd=B6;function A1(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function Qj(t,e,n){if(typeof t!="function")throw new Error(Sn(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Sn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Sn(1));return n(Qj)(t,e)}let r=t,a=e,o=new Map,u=o,c=0,h=!1;function d(){u===o&&(u=new Map,o.forEach((A,j)=>{u.set(j,A)}))}function m(){if(h)throw new Error(Sn(3));return a}function v(A){if(typeof A!="function")throw new Error(Sn(4));if(h)throw new Error(Sn(5));let j=!0;d();const I=c++;return u.set(I,A),function(){if(j){if(h)throw new Error(Sn(6));j=!1,d(),u.delete(I),o=null}}}function y(A){if(!A1(A))throw new Error(Sn(7));if(typeof A.type>"u")throw new Error(Sn(8));if(typeof A.type!="string")throw new Error(Sn(17));if(h)throw new Error(Sn(9));try{h=!0,a=r(a,A)}finally{h=!1}return(o=u).forEach(I=>{I()}),A}function _(A){if(typeof A!="function")throw new Error(Sn(10));r=A,y({type:Fd.REPLACE})}function S(){const A=v;return{subscribe(j){if(typeof j!="object"||j===null)throw new Error(Sn(11));function I(){const U=j;U.next&&U.next(m())}return I(),{unsubscribe:A(I)}},[eT](){return this}}}return y({type:Fd.INIT}),{dispatch:y,subscribe:v,getState:m,replaceReducer:_,[eT]:S}}function U6(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Fd.INIT})>"u")throw new Error(Sn(12));if(typeof n(void 0,{type:Fd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Sn(13))})}function Wj(t){const e=Object.keys(t),n={};for(let o=0;o<e.length;o++){const u=e[o];typeof t[u]=="function"&&(n[u]=t[u])}const r=Object.keys(n);let a;try{U6(n)}catch(o){a=o}return function(u={},c){if(a)throw a;let h=!1;const d={};for(let m=0;m<r.length;m++){const v=r[m],y=n[v],_=u[v],S=y(_,c);if(typeof S>"u")throw c&&c.type,new Error(Sn(14));d[v]=S,h=h||S!==_}return h=h||r.length!==Object.keys(u).length,h?d:u}}function Hd(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function z6(...t){return e=>(n,r)=>{const a=e(n,r);let o=()=>{throw new Error(Sn(15))};const u={getState:a.getState,dispatch:(h,...d)=>o(h,...d)},c=t.map(h=>h(u));return o=Hd(...c)(a.dispatch),{...a,dispatch:o}}}function Zj(t){return A1(t)&&"type"in t&&typeof t.type=="string"}var Jj=Symbol.for("immer-nothing"),tT=Symbol.for("immer-draftable"),vr=Symbol.for("immer-state");function Jr(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Gl=Object.getPrototypeOf;function To(t){return!!t&&!!t[vr]}function pa(t){var e;return t?eP(t)||Array.isArray(t)||!!t[tT]||!!((e=t.constructor)!=null&&e[tT])||Wm(t)||Zm(t):!1}var q6=Object.prototype.constructor.toString();function eP(t){if(!t||typeof t!="object")return!1;const e=Gl(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===q6}function Kd(t,e){Qm(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function Qm(t){const e=t[vr];return e?e.type_:Array.isArray(t)?1:Wm(t)?2:Zm(t)?3:0}function Z0(t,e){return Qm(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function tP(t,e,n){const r=Qm(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function $6(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Wm(t){return t instanceof Map}function Zm(t){return t instanceof Set}function lo(t){return t.copy_||t.base_}function J0(t,e){if(Wm(t))return new Map(t);if(Zm(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=eP(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[vr];let a=Reflect.ownKeys(r);for(let o=0;o<a.length;o++){const u=a[o],c=r[u];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(r[u]={configurable:!0,writable:!0,enumerable:c.enumerable,value:t[u]})}return Object.create(Gl(t),r)}else{const r=Gl(t);if(r!==null&&n)return{...t};const a=Object.create(r);return Object.assign(a,t)}}function T1(t,e=!1){return Jm(t)||To(t)||!pa(t)||(Qm(t)>1&&(t.set=t.add=t.clear=t.delete=F6),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>T1(r,!0))),t}function F6(){Jr(2)}function Jm(t){return Object.isFrozen(t)}var H6={};function Oo(t){const e=H6[t];return e||Jr(0,t),e}var Jc;function nP(){return Jc}function K6(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function nT(t,e){e&&(Oo("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function eb(t){tb(t),t.drafts_.forEach(G6),t.drafts_=null}function tb(t){t===Jc&&(Jc=t.parent_)}function rT(t){return Jc=K6(Jc,t)}function G6(t){const e=t[vr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function iT(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[vr].modified_&&(eb(e),Jr(4)),pa(t)&&(t=Gd(e,t),e.parent_||Yd(e,t)),e.patches_&&Oo("Patches").generateReplacementPatches_(n[vr].base_,t,e.patches_,e.inversePatches_)):t=Gd(e,n,[]),eb(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==Jj?t:void 0}function Gd(t,e,n){if(Jm(e))return e;const r=e[vr];if(!r)return Kd(e,(a,o)=>aT(t,r,e,a,o,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return Yd(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const a=r.copy_;let o=a,u=!1;r.type_===3&&(o=new Set(a),a.clear(),u=!0),Kd(o,(c,h)=>aT(t,r,a,c,h,n,u)),Yd(t,a,!1),n&&t.patches_&&Oo("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function aT(t,e,n,r,a,o,u){if(To(a)){const c=o&&e&&e.type_!==3&&!Z0(e.assigned_,r)?o.concat(r):void 0,h=Gd(t,a,c);if(tP(n,r,h),To(h))t.canAutoFreeze_=!1;else return}else u&&n.add(a);if(pa(a)&&!Jm(a)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Gd(t,a),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&Yd(t,a)}}function Yd(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&T1(e,n)}function Y6(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:nP(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,o=O1;n&&(a=[r],o=ef);const{revoke:u,proxy:c}=Proxy.revocable(a,o);return r.draft_=c,r.revoke_=u,c}var O1={get(t,e){if(e===vr)return t;const n=lo(t);if(!Z0(n,e))return X6(t,n,e);const r=n[e];return t.finalized_||!pa(r)?r:r===$y(t.base_,e)?(Fy(t),t.copy_[e]=rb(r,t)):r},has(t,e){return e in lo(t)},ownKeys(t){return Reflect.ownKeys(lo(t))},set(t,e,n){const r=rP(lo(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const a=$y(lo(t),e),o=a==null?void 0:a[vr];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if($6(n,a)&&(n!==void 0||Z0(t.base_,e)))return!0;Fy(t),nb(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return $y(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Fy(t),nb(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=lo(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Jr(11)},getPrototypeOf(t){return Gl(t.base_)},setPrototypeOf(){Jr(12)}},ef={};Kd(O1,(t,e)=>{ef[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});ef.deleteProperty=function(t,e){return ef.set.call(this,t,e,void 0)};ef.set=function(t,e,n){return O1.set.call(this,t[0],e,n,t[0])};function $y(t,e){const n=t[vr];return(n?lo(n):t)[e]}function X6(t,e,n){var a;const r=rP(e,n);return r?"value"in r?r.value:(a=r.get)==null?void 0:a.call(t.draft_):void 0}function rP(t,e){if(!(e in t))return;let n=Gl(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Gl(n)}}function nb(t){t.modified_||(t.modified_=!0,t.parent_&&nb(t.parent_))}function Fy(t){t.copy_||(t.copy_=J0(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Q6=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const o=n;n=e;const u=this;return function(h=o,...d){return u.produce(h,m=>n.call(this,m,...d))}}typeof n!="function"&&Jr(6),r!==void 0&&typeof r!="function"&&Jr(7);let a;if(pa(e)){const o=rT(this),u=rb(e,void 0);let c=!0;try{a=n(u),c=!1}finally{c?eb(o):tb(o)}return nT(o,r),iT(a,o)}else if(!e||typeof e!="object"){if(a=n(e),a===void 0&&(a=e),a===Jj&&(a=void 0),this.autoFreeze_&&T1(a,!0),r){const o=[],u=[];Oo("Patches").generateReplacementPatches_(e,a,o,u),r(o,u)}return a}else Jr(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(u,...c)=>this.produceWithPatches(u,h=>e(h,...c));let r,a;return[this.produce(e,n,(u,c)=>{r=u,a=c}),r,a]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){pa(t)||Jr(8),To(t)&&(t=ha(t));const e=rT(this),n=rb(t,void 0);return n[vr].isManual_=!0,tb(e),n}finishDraft(t,e){const n=t&&t[vr];(!n||!n.isManual_)&&Jr(9);const{scope_:r}=n;return nT(r,e),iT(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const a=e[n];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}n>-1&&(e=e.slice(n+1));const r=Oo("Patches").applyPatches_;return To(t)?r(t,e):this.produce(t,a=>r(a,e))}};function rb(t,e){const n=Wm(t)?Oo("MapSet").proxyMap_(t,e):Zm(t)?Oo("MapSet").proxySet_(t,e):Y6(t,e);return(e?e.scope_:nP()).drafts_.push(n),n}function ha(t){return To(t)||Jr(10,t),iP(t)}function iP(t){if(!pa(t)||Jm(t))return t;const e=t[vr];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=J0(t,e.scope_.immer_.useStrictShallowCopy_)}else n=J0(t,!0);return Kd(n,(r,a)=>{tP(n,r,iP(a))}),e&&(e.finalized_=!1),n}var yr=new Q6,aP=yr.produce;yr.produceWithPatches.bind(yr);yr.setAutoFreeze.bind(yr);yr.setUseStrictShallowCopy.bind(yr);yr.applyPatches.bind(yr);yr.createDraft.bind(yr);yr.finishDraft.bind(yr);function sP(t){return({dispatch:n,getState:r})=>a=>o=>typeof o=="function"?o(n,r,t):a(o)}var W6=sP(),Z6=sP,J6=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Hd:Hd.apply(null,arguments)};function zr(t,e){function n(...r){if(e){let a=e(...r);if(!a)throw new Error(pr(0));return{type:t,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>Zj(r)&&r.type===t,n}var oP=class Lc extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Lc.prototype)}static get[Symbol.species](){return Lc}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Lc(...e[0].concat(this)):new Lc(...e.concat(this))}};function sT(t){return pa(t)?aP(t,()=>{}):t}function dd(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function e5(t){return typeof t=="boolean"}var t5=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:a=!0,actionCreatorCheck:o=!0}=e??{};let u=new oP;return n&&(e5(n)?u.push(W6):u.push(Z6(n.extraArgument))),u},n5="RTK_autoBatch",oT=t=>e=>{setTimeout(e,t)},r5=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let a=!0,o=!1,u=!1;const c=new Set,h=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:oT(10):t.type==="callback"?t.queueNotification:oT(t.timeout),d=()=>{u=!1,o&&(o=!1,c.forEach(m=>m()))};return Object.assign({},r,{subscribe(m){const v=()=>a&&m(),y=r.subscribe(v);return c.add(m),()=>{y(),c.delete(m)}},dispatch(m){var v;try{return a=!((v=m==null?void 0:m.meta)!=null&&v[n5]),o=!a,o&&(u||(u=!0,h(d))),r.dispatch(m)}finally{a=!0}}})},i5=t=>function(n){const{autoBatch:r=!0}=n??{};let a=new oP(t);return r&&a.push(r5(typeof r=="object"?r:void 0)),a};function a5(t){const e=t5(),{reducer:n=void 0,middleware:r,devTools:a=!0,preloadedState:o=void 0,enhancers:u=void 0}=t||{};let c;if(typeof n=="function")c=n;else if(A1(n))c=Wj(n);else throw new Error(pr(1));let h;typeof r=="function"?h=r(e):h=e();let d=Hd;a&&(d=J6({trace:!1,...typeof a=="object"&&a}));const m=z6(...h),v=i5(m);let y=typeof u=="function"?u(v):v();const _=d(...y);return Qj(c,o,_)}function lP(t){const e={},n=[];let r;const a={addCase(o,u){const c=typeof o=="string"?o:o.type;if(!c)throw new Error(pr(28));if(c in e)throw new Error(pr(29));return e[c]=u,a},addMatcher(o,u){return n.push({matcher:o,reducer:u}),a},addDefaultCase(o){return r=o,a}};return t(a),[e,n,r]}function s5(t){return typeof t=="function"}function o5(t,e){let[n,r,a]=lP(e),o;if(s5(t))o=()=>sT(t());else{const c=sT(t);o=()=>c}function u(c=o(),h){let d=[n[h.type],...r.filter(({matcher:m})=>m(h)).map(({reducer:m})=>m)];return d.filter(m=>!!m).length===0&&(d=[a]),d.reduce((m,v)=>{if(v)if(To(m)){const _=v(m,h);return _===void 0?m:_}else{if(pa(m))return aP(m,y=>v(y,h));{const y=v(m,h);if(y===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return m},c)}return u.getInitialState=o,u}var l5="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",u5=(t=21)=>{let e="",n=t;for(;n--;)e+=l5[Math.random()*64|0];return e},c5=Symbol.for("rtk-slice-createasyncthunk");function f5(t,e){return`${t}/${e}`}function h5({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[c5];return function(a){const{name:o,reducerPath:u=o}=a;if(!o)throw new Error(pr(11));const c=(typeof a.reducers=="function"?a.reducers(m5()):a.reducers)||{},h=Object.keys(c),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(U,B){const H=typeof U=="string"?U:U.type;if(!H)throw new Error(pr(12));if(H in d.sliceCaseReducersByType)throw new Error(pr(13));return d.sliceCaseReducersByType[H]=B,m},addMatcher(U,B){return d.sliceMatchers.push({matcher:U,reducer:B}),m},exposeAction(U,B){return d.actionCreators[U]=B,m},exposeCaseReducer(U,B){return d.sliceCaseReducersByName[U]=B,m}};h.forEach(U=>{const B=c[U],H={reducerName:U,type:f5(o,U),createNotation:typeof a.reducers=="function"};g5(B)?y5(H,B,m,e):p5(H,B,m)});function v(){const[U={},B=[],H=void 0]=typeof a.extraReducers=="function"?lP(a.extraReducers):[a.extraReducers],N={...U,...d.sliceCaseReducersByType};return o5(a.initialState,R=>{for(let k in N)R.addCase(k,N[k]);for(let k of d.sliceMatchers)R.addMatcher(k.matcher,k.reducer);for(let k of B)R.addMatcher(k.matcher,k.reducer);H&&R.addDefaultCase(H)})}const y=U=>U,_=new Map,S=new WeakMap;let E;function A(U,B){return E||(E=v()),E(U,B)}function j(){return E||(E=v()),E.getInitialState()}function I(U,B=!1){function H(R){let k=R[U];return typeof k>"u"&&B&&(k=dd(S,H,j)),k}function N(R=y){const k=dd(_,B,()=>new WeakMap);return dd(k,R,()=>{const $={};for(const[L,q]of Object.entries(a.selectors??{}))$[L]=d5(q,R,()=>dd(S,R,j),B);return $})}return{reducerPath:U,getSelectors:N,get selectors(){return N(H)},selectSlice:H}}const P={name:o,reducer:A,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:j,...I(u),injectInto(U,{reducerPath:B,...H}={}){const N=B??u;return U.inject({reducerPath:N,reducer:A},H),{...P,...I(N,!0)}}};return P}}function d5(t,e,n,r){function a(o,...u){let c=e(o);return typeof c>"u"&&r&&(c=n()),t(c,...u)}return a.unwrapped=t,a}var xr=h5();function m5(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function p5({type:t,reducerName:e,createNotation:n},r,a){let o,u;if("reducer"in r){if(n&&!v5(r))throw new Error(pr(17));o=r.reducer,u=r.prepare}else o=r;a.addCase(t,o).exposeCaseReducer(e,o).exposeAction(e,u?zr(t,u):zr(t))}function g5(t){return t._reducerDefinitionType==="asyncThunk"}function v5(t){return t._reducerDefinitionType==="reducerWithPrepare"}function y5({type:t,reducerName:e},n,r,a){if(!a)throw new Error(pr(18));const{payloadCreator:o,fulfilled:u,pending:c,rejected:h,settled:d,options:m}=n,v=a(t,o,m);r.exposeAction(e,v),u&&r.addCase(v.fulfilled,u),c&&r.addCase(v.pending,c),h&&r.addCase(v.rejected,h),d&&r.addMatcher(v.settled,d),r.exposeCaseReducer(e,{fulfilled:u||md,pending:c||md,rejected:h||md,settled:d||md})}function md(){}var b5="task",uP="listener",cP="completed",C1="cancelled",x5=`task-${C1}`,_5=`task-${cP}`,ib=`${uP}-${C1}`,w5=`${uP}-${cP}`,ep=class{constructor(t){Lv(this,"name","TaskAbortError");Lv(this,"message");this.code=t,this.message=`${b5} ${C1} (reason: ${t})`}},j1=(t,e)=>{if(typeof t!="function")throw new TypeError(pr(32))},Xd=()=>{},fP=(t,e=Xd)=>(t.catch(e),t),hP=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),bo=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},xo=t=>{if(t.aborted){const{reason:e}=t;throw new ep(e)}};function dP(t,e){let n=Xd;return new Promise((r,a)=>{const o=()=>a(new ep(t.reason));if(t.aborted){o();return}n=hP(t,o),e.finally(()=>n()).then(r,a)}).finally(()=>{n=Xd})}var E5=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof ep?"cancelled":"rejected",error:n}}finally{e==null||e()}},Qd=t=>e=>fP(dP(t,e).then(n=>(xo(t),n))),mP=t=>{const e=Qd(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Ul}=Object,lT={},tp="listenerMiddleware",S5=(t,e)=>{const n=r=>hP(t,()=>bo(r,t.reason));return(r,a)=>{j1(r);const o=new AbortController;n(o);const u=E5(async()=>{xo(t),xo(o.signal);const c=await r({pause:Qd(o.signal),delay:mP(o.signal),signal:o.signal});return xo(o.signal),c},()=>bo(o,_5));return a!=null&&a.autoJoin&&e.push(u.catch(Xd)),{result:Qd(t)(u),cancel(){bo(o,x5)}}}},A5=(t,e)=>{const n=async(r,a)=>{xo(e);let o=()=>{};const c=[new Promise((h,d)=>{let m=t({predicate:r,effect:(v,y)=>{y.unsubscribe(),h([v,y.getState(),y.getOriginalState()])}});o=()=>{m(),d()}})];a!=null&&c.push(new Promise(h=>setTimeout(h,a,null)));try{const h=await dP(e,Promise.race(c));return xo(e),h}finally{o()}};return(r,a)=>fP(n(r,a))},pP=t=>{let{type:e,actionCreator:n,matcher:r,predicate:a,effect:o}=t;if(e)a=zr(e).match;else if(n)e=n.type,a=n.match;else if(r)a=r;else if(!a)throw new Error(pr(21));return j1(o),{predicate:a,type:e,effect:o}},gP=Ul(t=>{const{type:e,predicate:n,effect:r}=pP(t);return{id:u5(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(pr(22))}}},{withTypes:()=>gP}),uT=(t,e)=>{const{type:n,effect:r,predicate:a}=pP(e);return Array.from(t.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===a)&&o.effect===r)},ab=t=>{t.pending.forEach(e=>{bo(e,ib)})},T5=t=>()=>{t.forEach(ab),t.clear()},cT=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},vP=Ul(zr(`${tp}/add`),{withTypes:()=>vP}),O5=zr(`${tp}/removeAll`),yP=Ul(zr(`${tp}/remove`),{withTypes:()=>yP}),C5=(...t)=>{console.error(`${tp}/error`,...t)},Sf=(t={})=>{const e=new Map,{extra:n,onError:r=C5}=t;j1(r);const a=m=>(m.unsubscribe=()=>e.delete(m.id),e.set(m.id,m),v=>{m.unsubscribe(),v!=null&&v.cancelActive&&ab(m)}),o=m=>{const v=uT(e,m)??gP(m);return a(v)};Ul(o,{withTypes:()=>o});const u=m=>{const v=uT(e,m);return v&&(v.unsubscribe(),m.cancelActive&&ab(v)),!!v};Ul(u,{withTypes:()=>u});const c=async(m,v,y,_)=>{const S=new AbortController,E=A5(o,S.signal),A=[];try{m.pending.add(S),await Promise.resolve(m.effect(v,Ul({},y,{getOriginalState:_,condition:(j,I)=>E(j,I).then(Boolean),take:E,delay:mP(S.signal),pause:Qd(S.signal),extra:n,signal:S.signal,fork:S5(S.signal,A),unsubscribe:m.unsubscribe,subscribe:()=>{e.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((j,I,P)=>{j!==S&&(bo(j,ib),P.delete(j))})},cancel:()=>{bo(S,ib),m.pending.delete(S)},throwIfCancelled:()=>{xo(S.signal)}})))}catch(j){j instanceof ep||cT(r,j,{raisedBy:"effect"})}finally{await Promise.all(A),bo(S,w5),m.pending.delete(S)}},h=T5(e);return{middleware:m=>v=>y=>{if(!Zj(y))return v(y);if(vP.match(y))return o(y.payload);if(O5.match(y)){h();return}if(yP.match(y))return u(y.payload);let _=m.getState();const S=()=>{if(_===lT)throw new Error(pr(23));return _};let E;try{if(E=v(y),e.size>0){const A=m.getState(),j=Array.from(e.values());for(const I of j){let P=!1;try{P=I.predicate(y,A,_)}catch(U){P=!1,cT(r,U,{raisedBy:"predicate"})}P&&c(I,y,m,S)}}}finally{_=lT}return E},startListening:o,stopListening:u,clearListeners:h}};function pr(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var j5={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},bP=xr({name:"chartLayout",initialState:j5,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){t.margin.top=e.payload.top,t.margin.right=e.payload.right,t.margin.bottom=e.payload.bottom,t.margin.left=e.payload.left},setScale(t,e){t.scale=e.payload}}}),{setMargin:P5,setLayout:N5,setChartSize:D5,setScale:R5}=bP.actions,I5=bP.reducer;function fT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function hT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fT(Object(n),!0).forEach(function(r){M5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function M5(t,e,n){return(e=k5(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k5(t){var e=V5(t,"string");return typeof e=="symbol"?e:e+""}function V5(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wd=Math.PI/180,L5=t=>t*180/Math.PI,Cn=(t,e,n,r)=>({x:t+Math.cos(-Wd*r)*n,y:e+Math.sin(-Wd*r)*n}),B5=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},U5=(t,e)=>{var{x:n,y:r}=t,{x:a,y:o}=e;return Math.sqrt((n-a)**2+(r-o)**2)},z5=(t,e)=>{var{x:n,y:r}=t,{cx:a,cy:o}=e,u=U5({x:n,y:r},{x:a,y:o});if(u<=0)return{radius:u,angle:0};var c=(n-a)/u,h=Math.acos(c);return r>o&&(h=2*Math.PI-h),{radius:u,angle:L5(h),angleInRadian:h}},q5=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),a=Math.floor(n/360),o=Math.min(r,a);return{startAngle:e-o*360,endAngle:n-o*360}},$5=(t,e)=>{var{startAngle:n,endAngle:r}=e,a=Math.floor(n/360),o=Math.floor(r/360),u=Math.min(a,o);return t+u*360},F5=(t,e)=>{var{x:n,y:r}=t,{radius:a,angle:o}=z5({x:n,y:r},e),{innerRadius:u,outerRadius:c}=e;if(a<u||a>c||a===0)return null;var{startAngle:h,endAngle:d}=q5(e),m=o,v;if(h<=d){for(;m>d;)m-=360;for(;m<h;)m+=360;v=m>=h&&m<=d}else{for(;m>h;)m-=360;for(;m<d;)m+=360;v=m>=d&&m<=h}return v?hT(hT({},e),{},{radius:a,angle:$5(m,e)}):null};function xP(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function dT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Vr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dT(Object(n),!0).forEach(function(r){H5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function H5(t,e,n){return(e=K5(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function K5(t){var e=G5(t,"string");return typeof e=="symbol"?e:e+""}function G5(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gn(t,e,n){return Et(t)||Et(e)?n:Ni(e)?Ao(t,e,n):typeof e=="function"?e(t):n}var Y5=(t,e,n,r,a)=>{var o,u=-1,c=(o=e==null?void 0:e.length)!==null&&o!==void 0?o:0;if(c<=1||t==null)return 0;if(r==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var h=0;h<c;h++){var d=h>0?n[h-1].coordinate:n[c-1].coordinate,m=n[h].coordinate,v=h>=c-1?n[0].coordinate:n[h+1].coordinate,y=void 0;if(Qn(m-d)!==Qn(v-m)){var _=[];if(Qn(v-m)===Qn(a[1]-a[0])){y=v;var S=m+a[1]-a[0];_[0]=Math.min(S,(S+d)/2),_[1]=Math.max(S,(S+d)/2)}else{y=d;var E=v+a[1]-a[0];_[0]=Math.min(m,(E+m)/2),_[1]=Math.max(m,(E+m)/2)}var A=[Math.min(m,(y+m)/2),Math.max(m,(y+m)/2)];if(t>A[0]&&t<=A[1]||t>=_[0]&&t<=_[1]){({index:u}=n[h]);break}}else{var j=Math.min(d,v),I=Math.max(d,v);if(t>(j+m)/2&&t<=(I+m)/2){({index:u}=n[h]);break}}}else if(e){for(var P=0;P<c;P++)if(P===0&&t<=(e[P].coordinate+e[P+1].coordinate)/2||P>0&&P<c-1&&t>(e[P].coordinate+e[P-1].coordinate)/2&&t<=(e[P].coordinate+e[P+1].coordinate)/2||P===c-1&&t>(e[P].coordinate+e[P-1].coordinate)/2){({index:u}=e[P]);break}}return u},X5=(t,e,n)=>{if(e&&n){var{width:r,height:a}=n,{align:o,verticalAlign:u,layout:c}=e;if((c==="vertical"||c==="horizontal"&&u==="middle")&&o!=="center"&&xe(t[o]))return Vr(Vr({},t),{},{[o]:t[o]+(r||0)});if((c==="horizontal"||c==="vertical"&&o==="center")&&u!=="middle"&&xe(t[u]))return Vr(Vr({},t),{},{[u]:t[u]+(a||0)})}return t},bs=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",_P=(t,e,n,r)=>{if(r)return t.map(c=>c.coordinate);var a,o,u=t.map(c=>(c.coordinate===e&&(a=!0),c.coordinate===n&&(o=!0),c.coordinate));return a||u.push(e),o||u.push(n),u},wP=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:a,range:o,scale:u,realScaleType:c,isCategorical:h,categoricalDomain:d,tickCount:m,ticks:v,niceTicks:y,axisType:_}=t;if(!u)return null;var S=c==="scaleBand"&&u.bandwidth?u.bandwidth()/2:2,E=a==="category"&&u.bandwidth?u.bandwidth()/S:0;if(E=_==="angleAxis"&&o&&o.length>=2?Qn(o[0]-o[1])*2*E:E,v||y){var A=(v||y||[]).map((j,I)=>{var P=r?r.indexOf(j):j;return{coordinate:u(P)+E,value:j,offset:E,index:I}});return A.filter(j=>!gr(j.coordinate))}return h&&d?d.map((j,I)=>({coordinate:u(j)+E,value:j,index:I,offset:E})):u.ticks&&m!=null?u.ticks(m).map((j,I)=>({coordinate:u(j)+E,value:j,offset:E,index:I})):u.domain().map((j,I)=>({coordinate:u(j)+E,value:r?r[j]:j,index:I,offset:E}))},mT=1e-4,Q5=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),a=Math.min(r[0],r[1])-mT,o=Math.max(r[0],r[1])+mT,u=t(e[0]),c=t(e[n-1]);(u<a||u>o||c<a||c>o)&&t.domain([e[0],e[n-1]])}},W5=(t,e)=>{if(!e||e.length!==2||!xe(e[0])||!xe(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),a=[t[0],t[1]];return(!xe(t[0])||t[0]<n)&&(a[0]=n),(!xe(t[1])||t[1]>r)&&(a[1]=r),a[0]>r&&(a[0]=r),a[1]<n&&(a[1]=n),a},Z5=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var a=0,o=0,u=0;u<e;++u){var c=gr(t[u][n][1])?t[u][n][0]:t[u][n][1];c>=0?(t[u][n][0]=a,t[u][n][1]=a+c,a=t[u][n][1]):(t[u][n][0]=o,t[u][n][1]=o+c,o=t[u][n][1])}},J5=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var a=0,o=0;o<e;++o){var u=gr(t[o][n][1])?t[o][n][0]:t[o][n][1];u>=0?(t[o][n][0]=a,t[o][n][1]=a+u,a=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},eV={sign:Z5,expand:j3,none:Kl,silhouette:P3,wiggle:N3,positive:J5},tV=(t,e,n)=>{var r=eV[n],a=C3().keys(e).value((o,u)=>+gn(o,u,0)).order(X0).offset(r);return a(t)};function nV(t){return t==null?void 0:String(t)}function pT(t){var{axis:e,ticks:n,bandSize:r,entry:a,index:o,dataKey:u}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Et(a[e.dataKey])){var c=pj(n,"value",a[e.dataKey]);if(c)return c.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var h=gn(a,Et(u)?e.dataKey:u);return Et(h)?null:e.scale(h)}var gT=t=>{var{axis:e,ticks:n,offset:r,bandSize:a,entry:o,index:u}=t;if(e.type==="category")return n[u]?n[u].coordinate+r:null;var c=gn(o,e.dataKey,e.scale.domain()[u]);return Et(c)?null:e.scale(c)-a/2+r},rV=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return r<=0&&a>=0?0:a<0?a:r}return n[0]},iV=t=>{var e=t.flat(2).filter(xe);return[Math.min(...e),Math.max(...e)]},aV=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],sV=(t,e,n)=>{if(t!=null)return aV(Object.keys(t).reduce((r,a)=>{var o=t[a],{stackedData:u}=o,c=u.reduce((h,d)=>{var m=xP(d,e,n),v=iV(m);return[Math.min(h[0],v[0]),Math.max(h[1],v[1])]},[1/0,-1/0]);return[Math.min(c[0],r[0]),Math.max(c[1],r[1])]},[1/0,-1/0]))},vT=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,yT=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,tf=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var a=Xm(e,m=>m.coordinate),o=1/0,u=1,c=a.length;u<c;u++){var h=a[u],d=a[u-1];o=Math.min((h.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0};function bT(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:a,name:o}=t;return Vr(Vr({},e),{},{dataKey:n,payload:r,value:a,name:o})}function np(t,e){if(t)return String(t);if(typeof e=="string")return e}function oV(t,e,n,r,a){if(n==="horizontal"||n==="vertical"){var o=t>=a.left&&t<=a.left+a.width&&e>=a.top&&e<=a.top+a.height;return o?{x:t,y:e}:null}return r?F5({x:t,y:e},r):null}var lV=(t,e,n,r)=>{var a=e.find(d=>d&&d.index===n);if(a){if(t==="horizontal")return{x:a.coordinate,y:r.y};if(t==="vertical")return{x:r.x,y:a.coordinate};if(t==="centric"){var o=a.coordinate,{radius:u}=r;return Vr(Vr(Vr({},r),Cn(r.cx,r.cy,u,o)),{},{angle:o,radius:u})}var c=a.coordinate,{angle:h}=r;return Vr(Vr(Vr({},r),Cn(r.cx,r.cy,c,h)),{},{angle:h,radius:c})}return{x:0,y:0}},uV=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,wa=t=>t.layout.width,Ea=t=>t.layout.height,cV=t=>t.layout.scale,EP=t=>t.layout.margin,P1=ne(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),N1=ne(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),fV="data-recharts-item-index",hV="data-recharts-item-data-key",rp=60;function xT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ts(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xT(Object(n),!0).forEach(function(r){dV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dV(t,e,n){return(e=mV(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mV(t){var e=pV(t,"string");return typeof e=="symbol"?e:e+""}function pV(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gV=t=>t.brush.height,vn=ne([wa,Ea,EP,gV,P1,N1,Yj,I6],(t,e,n,r,a,o,u,c)=>{var h=o.reduce((S,E)=>{var{orientation:A}=E;if(!E.mirror&&!E.hide){var j=typeof E.width=="number"?E.width:rp;return ts(ts({},S),{},{[A]:S[A]+j})}return S},{left:n.left||0,right:n.right||0}),d=a.reduce((S,E)=>{var{orientation:A}=E;return!E.mirror&&!E.hide?ts(ts({},S),{},{[A]:Ao(S,"".concat(A))+E.height}):S},{top:n.top||0,bottom:n.bottom||0}),m=ts(ts({},d),h),v=m.bottom;m.bottom+=r,m=X5(m,u,c);var y=t-m.left-m.right,_=e-m.top-m.bottom;return ts(ts({brushBottom:v},m),{},{width:Math.max(y,0),height:Math.max(_,0)})}),vV=ne(vn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),SP=ne(wa,Ea,(t,e)=>({x:0,y:0,width:t,height:e})),yV=C.createContext(null),Zn=()=>C.useContext(yV)!=null,ip=t=>t.brush,ap=ne([ip,vn,EP],(t,e,n)=>({height:t.height,x:xe(t.x)?t.x:e.left,y:xe(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:xe(t.width)?t.width:e.width})),D1=()=>{var t,e=Zn(),n=Ee(vV),r=Ee(ap),a=(t=Ee(ip))===null||t===void 0?void 0:t.padding;return!e||!r||!a?n:{width:r.width-a.left-a.right,height:r.height-a.top-a.bottom,x:a.left,y:a.top}},bV={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},AP=()=>{var t;return(t=Ee(vn))!==null&&t!==void 0?t:bV},R1=()=>Ee(wa),I1=()=>Ee(Ea),xV={top:0,right:0,bottom:0,left:0},_V=()=>{var t;return(t=Ee(e=>e.layout.margin))!==null&&t!==void 0?t:xV},rt=t=>t.layout.layoutType,sp=()=>Ee(rt),wV={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},TP=xr({name:"legend",initialState:wV,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var n=ha(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)}}}),{setLegendSize:_T,setLegendSettings:EV,addLegendPayload:SV,removeLegendPayload:AV}=TP.actions,TV=TP.reducer,OV=["contextPayload"];function sb(){return sb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sb.apply(null,arguments)}function wT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Yl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wT(Object(n),!0).forEach(function(r){M1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function M1(t,e,n){return(e=CV(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CV(t){var e=jV(t,"string");return typeof e=="symbol"?e:e+""}function jV(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PV(t,e){if(t==null)return{};var n,r,a=NV(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function NV(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function DV(t){return t.value}function RV(t){var{contextPayload:e}=t,n=PV(t,OV),r=Fj(e,t.payloadUniqBy,DV),a=Yl(Yl({},n),{},{payload:r});return C.isValidElement(t.content)?C.cloneElement(t.content,a):typeof t.content=="function"?C.createElement(t.content,a):C.createElement(y1,a)}function IV(t,e,n,r,a,o){var{layout:u,align:c,verticalAlign:h}=e,d,m;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(c==="center"&&u==="vertical"?d={left:((r||0)-o.width)/2}:d=c==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(h==="middle"?m={top:((a||0)-o.height)/2}:m=h==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Yl(Yl({},d),m)}function MV(t){var e=Yt();return C.useEffect(()=>{e(EV(t))},[e,t]),null}function kV(t){var e=Yt();return C.useEffect(()=>(e(_T(t)),()=>{e(_T({width:0,height:0}))}),[e,t]),null}function VV(t){var e=V6(),n=Zk(),r=_V(),{width:a,height:o,wrapperStyle:u,portal:c}=t,[h,d]=Xj([e]),m=R1(),v=I1(),y=m-(r.left||0)-(r.right||0),_=nf.getWidthOrHeight(t.layout,o,a,y),S=c?u:Yl(Yl({position:"absolute",width:(_==null?void 0:_.width)||a||"auto",height:(_==null?void 0:_.height)||o||"auto"},IV(u,t,r,m,v,h)),u),E=c??n;if(E==null)return null;var A=C.createElement("div",{className:"recharts-legend-wrapper",style:S,ref:d},C.createElement(MV,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),C.createElement(kV,{width:h.width,height:h.height}),C.createElement(RV,sb({},t,_,{margin:r,chartWidth:m,chartHeight:v,contextPayload:e})));return bj.createPortal(A,E)}class nf extends C.PureComponent{static getWidthOrHeight(e,n,r,a){return e==="vertical"&&xe(n)?{height:n}:e==="horizontal"?{width:r||a}:null}render(){return C.createElement(VV,this.props)}}M1(nf,"displayName","Legend");M1(nf,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function ob(){return ob=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ob.apply(null,arguments)}function ET(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Hy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ET(Object(n),!0).forEach(function(r){LV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ET(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LV(t,e,n){return(e=BV(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BV(t){var e=UV(t,"string");return typeof e=="symbol"?e:e+""}function UV(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zV(t){return Array.isArray(t)&&Ni(t[0])&&Ni(t[1])?t.join(" ~ "):t}var qV=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:a={},payload:o,formatter:u,itemSorter:c,wrapperClassName:h,labelClassName:d,label:m,labelFormatter:v,accessibilityLayer:y=!1}=t,_=()=>{if(o&&o.length){var B={padding:0,margin:0},H=(c?Xm(o,c):o).map((N,R)=>{if(N.type==="none")return null;var k=N.formatter||u||zV,{value:$,name:L}=N,q=$,V=L;if(k){var Ce=k($,L,N,R,o);if(Array.isArray(Ce))[q,V]=Ce;else if(Ce!=null)q=Ce;else return null}var Se=Hy({display:"block",paddingTop:4,paddingBottom:4,color:N.color||"#000"},r);return C.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(R),style:Se},Ni(V)?C.createElement("span",{className:"recharts-tooltip-item-name"},V):null,Ni(V)?C.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,C.createElement("span",{className:"recharts-tooltip-item-value"},q),C.createElement("span",{className:"recharts-tooltip-item-unit"},N.unit||""))});return C.createElement("ul",{className:"recharts-tooltip-item-list",style:B},H)}return null},S=Hy({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),E=Hy({margin:0},a),A=!Et(m),j=A?m:"",I=ct("recharts-default-tooltip",h),P=ct("recharts-tooltip-label",d);A&&v&&o!==void 0&&o!==null&&(j=v(m,o));var U=y?{role:"status","aria-live":"assertive"}:{};return C.createElement("div",ob({className:I,style:S},U),C.createElement("p",{className:P,style:E},C.isValidElement(j)?j:"".concat(j)),_())},Cc="recharts-tooltip-wrapper",$V={visibility:"hidden"};function FV(t){var{coordinate:e,translateX:n,translateY:r}=t;return ct(Cc,{["".concat(Cc,"-right")]:xe(n)&&e&&xe(e.x)&&n>=e.x,["".concat(Cc,"-left")]:xe(n)&&e&&xe(e.x)&&n<e.x,["".concat(Cc,"-bottom")]:xe(r)&&e&&xe(e.y)&&r>=e.y,["".concat(Cc,"-top")]:xe(r)&&e&&xe(e.y)&&r<e.y})}function ST(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:a,position:o,reverseDirection:u,tooltipDimension:c,viewBox:h,viewBoxDimension:d}=t;if(o&&xe(o[r]))return o[r];var m=n[r]-c-(a>0?a:0),v=n[r]+a;if(e[r])return u[r]?m:v;var y=h[r];if(y==null)return 0;if(u[r]){var _=m,S=y;return _<S?Math.max(v,y):Math.max(m,y)}if(d==null)return 0;var E=v+c,A=y+d;return E>A?Math.max(m,y):Math.max(v,y)}function HV(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function KV(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:a,reverseDirection:o,tooltipBox:u,useTranslate3d:c,viewBox:h}=t,d,m,v;return u.height>0&&u.width>0&&n?(m=ST({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:a,reverseDirection:o,tooltipDimension:u.width,viewBox:h,viewBoxDimension:h.width}),v=ST({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:a,reverseDirection:o,tooltipDimension:u.height,viewBox:h,viewBoxDimension:h.height}),d=HV({translateX:m,translateY:v,useTranslate3d:c})):d=$V,{cssProperties:d,cssClasses:FV({translateX:m,translateY:v,coordinate:n})}}function AT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function pd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AT(Object(n),!0).forEach(function(r){lb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lb(t,e,n){return(e=GV(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GV(t){var e=YV(t,"string");return typeof e=="symbol"?e:e+""}function YV(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class XV extends C.PureComponent{constructor(){super(...arguments),lb(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),lb(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,a,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(a=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:a,children:o,coordinate:u,hasPayload:c,isAnimationActive:h,offset:d,position:m,reverseDirection:v,useTranslate3d:y,viewBox:_,wrapperStyle:S,lastBoundingBox:E,innerRef:A,hasPortalFromProps:j}=this.props,{cssClasses:I,cssProperties:P}=KV({allowEscapeViewBox:n,coordinate:u,offsetTopLeft:d,position:m,reverseDirection:v,tooltipBox:{height:E.height,width:E.width},useTranslate3d:y,viewBox:_}),U=j?{}:pd(pd({transition:h&&e?"transform ".concat(r,"ms ").concat(a):void 0},P),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&c?"visible":"hidden",position:"absolute",top:0,left:0}),B=pd(pd({},U),{},{visibility:!this.state.dismissed&&e&&c?"visible":"hidden"},S);return C.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:I,style:B,ref:A},o)}}var QV=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),ou={isSsr:QV()},OP=()=>Ee(t=>t.rootProps.accessibilityLayer);function br(t){return Number.isFinite(t)}function Zd(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function ub(){return ub=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ub.apply(null,arguments)}function TT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function OT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TT(Object(n),!0).forEach(function(r){WV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WV(t,e,n){return(e=ZV(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZV(t){var e=JV(t,"string");return typeof e=="symbol"?e:e+""}function JV(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CT={curveBasisClosed:v3,curveBasisOpen:y3,curveBasis:g3,curveBumpX:n3,curveBumpY:r3,curveLinearClosed:b3,curveLinear:Gm,curveMonotoneX:x3,curveMonotoneY:_3,curveNatural:w3,curveStep:E3,curveStepAfter:A3,curveStepBefore:S3},gd=t=>br(t.x)&&br(t.y),jc=t=>t.x,Pc=t=>t.y,eL=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(Ef(t));return(n==="curveMonotone"||n==="curveBump")&&e?CT["".concat(n).concat(e==="vertical"?"Y":"X")]:CT[n]||Gm},tL=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:a,connectNulls:o=!1}=t,u=eL(e,a),c=o?n.filter(gd):n,h;if(Array.isArray(r)){var d=o?r.filter(v=>gd(v)):r,m=c.map((v,y)=>OT(OT({},v),{},{base:d[y]}));return a==="vertical"?h=cd().y(Pc).x1(jc).x0(v=>v.base.x):h=cd().x(jc).y1(Pc).y0(v=>v.base.y),h.defined(gd).curve(u),h(m)}return a==="vertical"&&xe(r)?h=cd().y(Pc).x1(jc).x0(r):xe(r)?h=cd().x(jc).y1(Pc).y0(r):h=Tj().x(jc).y(Pc),h.defined(gd).curve(u),h(c)},CP=t=>{var{className:e,points:n,path:r,pathRef:a}=t;if((!n||!n.length)&&!r)return null;var o=n&&n.length?tL(t):r;return C.createElement("path",ub({},Io(t),c1(t),{className:ct("recharts-curve",e),d:o===null?void 0:o,ref:a}))},nL=["x","y","top","left","width","height","className"];function cb(){return cb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cb.apply(null,arguments)}function jT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function rL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jT(Object(n),!0).forEach(function(r){iL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iL(t,e,n){return(e=aL(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aL(t){var e=sL(t,"string");return typeof e=="symbol"?e:e+""}function sL(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oL(t,e){if(t==null)return{};var n,r,a=lL(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function lL(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var uL=(t,e,n,r,a,o)=>"M".concat(t,",").concat(a,"v").concat(r,"M").concat(o,",").concat(e,"h").concat(n),cL=t=>{var{x:e=0,y:n=0,top:r=0,left:a=0,width:o=0,height:u=0,className:c}=t,h=oL(t,nL),d=rL({x:e,y:n,top:r,left:a,width:o,height:u},h);return!xe(e)||!xe(n)||!xe(o)||!xe(u)||!xe(r)||!xe(a)?null:C.createElement("path",cb({},kt(d,!0),{className:ct("recharts-cross",c),d:uL(e,n,o,u,r,a)}))};function fL(t,e,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-a,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function PT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function hL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PT(Object(n),!0).forEach(function(r){dL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dL(t,e,n){return(e=mL(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mL(t){var e=pL(t,"string");return typeof e=="symbol"?e:e+""}function pL(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mi(t,e){var n=hL({},t),r=e,a=Object.keys(e),o=a.reduce((u,c)=>(u[c]===void 0&&r[c]!==void 0&&(u[c]=r[c]),u),n);return o}var Ky={},Gy={},Yy={},NT;function gL(){return NT||(NT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(!n||typeof n!="object")return!1;const r=Object.getPrototypeOf(n);return r===null||r===Object.prototype||Object.getPrototypeOf(r)===null?Object.prototype.toString.call(n)==="[object Object]":!1}t.isPlainObject=e})(Yy)),Yy}var DT;function vL(){return DT||(DT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gL(),n=zj(),r=w1(),a=E1(),o=x1();function u(d,m,v){return c(d,m,void 0,void 0,void 0,void 0,v)}function c(d,m,v,y,_,S,E){const A=E(d,m,v,y,_,S);if(A!==void 0)return A;if(typeof d==typeof m)switch(typeof d){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return d===m;case"number":return d===m||Object.is(d,m);case"function":return d===m;case"object":return h(d,m,S,E)}return h(d,m,S,E)}function h(d,m,v,y){if(Object.is(d,m))return!0;let _=r.getTag(d),S=r.getTag(m);if(_===a.argumentsTag&&(_=a.objectTag),S===a.argumentsTag&&(S=a.objectTag),_!==S)return!1;switch(_){case a.stringTag:return d.toString()===m.toString();case a.numberTag:{const j=d.valueOf(),I=m.valueOf();return o.eq(j,I)}case a.booleanTag:case a.dateTag:case a.symbolTag:return Object.is(d.valueOf(),m.valueOf());case a.regexpTag:return d.source===m.source&&d.flags===m.flags;case a.functionTag:return d===m}v=v??new Map;const E=v.get(d),A=v.get(m);if(E!=null&&A!=null)return E===m;v.set(d,m),v.set(m,d);try{switch(_){case a.mapTag:{if(d.size!==m.size)return!1;for(const[j,I]of d.entries())if(!m.has(j)||!c(I,m.get(j),j,d,m,v,y))return!1;return!0}case a.setTag:{if(d.size!==m.size)return!1;const j=Array.from(d.values()),I=Array.from(m.values());for(let P=0;P<j.length;P++){const U=j[P],B=I.findIndex(H=>c(U,H,void 0,d,m,v,y));if(B===-1)return!1;I.splice(B,1)}return!0}case a.arrayTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:case a.bigUint64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.bigInt64ArrayTag:case a.float32ArrayTag:case a.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(d)!==Buffer.isBuffer(m)||d.length!==m.length)return!1;for(let j=0;j<d.length;j++)if(!c(d[j],m[j],j,d,m,v,y))return!1;return!0}case a.arrayBufferTag:return d.byteLength!==m.byteLength?!1:h(new Uint8Array(d),new Uint8Array(m),v,y);case a.dataViewTag:return d.byteLength!==m.byteLength||d.byteOffset!==m.byteOffset?!1:h(new Uint8Array(d),new Uint8Array(m),v,y);case a.errorTag:return d.name===m.name&&d.message===m.message;case a.objectTag:{if(!(h(d.constructor,m.constructor,v,y)||e.isPlainObject(d)&&e.isPlainObject(m)))return!1;const I=[...Object.keys(d),...n.getSymbols(d)],P=[...Object.keys(m),...n.getSymbols(m)];if(I.length!==P.length)return!1;for(let U=0;U<I.length;U++){const B=I[U],H=d[B];if(!Object.hasOwn(m,B))return!1;const N=m[B];if(!c(H,N,B,d,m,v,y))return!1}return!0}default:return!1}}finally{v.delete(d),v.delete(m)}}t.isEqualWith=u})(Gy)),Gy}var Xy={},RT;function yL(){return RT||(RT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(){}t.noop=e})(Xy)),Xy}var IT;function bL(){return IT||(IT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vL(),n=yL();function r(a,o){return e.isEqualWith(a,o,n.noop)}t.isEqual=r})(Ky)),Ky}var Qy,MT;function xL(){return MT||(MT=1,Qy=bL().isEqual),Qy}var _L=xL();const wL=ii(_L);var Jd=1e-4,jP=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],PP=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),kT=(t,e)=>n=>{var r=jP(t,e);return PP(r,n)},EL=(t,e)=>n=>{var r=jP(t,e),a=[...r.map((o,u)=>o*u).slice(1),0];return PP(a,n)},VT=function(){for(var e,n,r,a,o=arguments.length,u=new Array(o),c=0;c<o;c++)u[c]=arguments[c];if(u.length===1)switch(u[0]){case"linear":[e,r,n,a]=[0,0,1,1];break;case"ease":[e,r,n,a]=[.25,.1,.25,1];break;case"ease-in":[e,r,n,a]=[.42,0,1,1];break;case"ease-out":[e,r,n,a]=[.42,0,.58,1];break;case"ease-in-out":[e,r,n,a]=[0,0,.58,1];break;default:{var h=u[0].split("(");h[0]==="cubic-bezier"&&h[1].split(")")[0].split(",").length===4&&([e,r,n,a]=h[1].split(")")[0].split(",").map(S=>parseFloat(S)))}}else u.length===4&&([e,r,n,a]=u);var d=kT(e,n),m=kT(r,a),v=EL(e,n),y=S=>S>1?1:S<0?0:S,_=S=>{for(var E=S>1?1:S,A=E,j=0;j<8;++j){var I=d(A)-E,P=v(A);if(Math.abs(I-E)<Jd||P<Jd)return m(A);A=y(A-I/P)}return m(A)};return _.isStepper=!1,_},SL=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:a=17}=e,o=(u,c,h)=>{var d=-(u-c)*n,m=h*r,v=h+(d-m)*a/1e3,y=h*a/1e3+u;return Math.abs(y-c)<Jd&&Math.abs(v)<Jd?[c,0]:[y,v]};return o.isStepper=!0,o.dt=a,o},NP=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return VT(t);case"spring":return SL();default:if(t.split("(")[0]==="cubic-bezier")return VT(t)}return typeof t=="function"?t:null};function LT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function BT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LT(Object(n),!0).forEach(function(r){AL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AL(t,e,n){return(e=TL(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TL(t){var e=OL(t,"string");return typeof e=="symbol"?e:e+""}function OL(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CL=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),jL=(t,e,n)=>t.map(r=>"".concat(CL(r)," ").concat(e,"ms ").concat(n)).join(","),PL=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(a=>r.includes(a))),rf=(t,e)=>Object.keys(e).reduce((n,r)=>BT(BT({},n),{},{[r]:t(r,e[r])}),{});function UT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function An(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UT(Object(n),!0).forEach(function(r){NL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NL(t,e,n){return(e=DL(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DL(t){var e=RL(t,"string");return typeof e=="symbol"?e:e+""}function RL(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var em=(t,e,n)=>t+(e-t)*n,fb=t=>{var{from:e,to:n}=t;return e!==n},DP=(t,e,n)=>{var r=rf((a,o)=>{if(fb(o)){var[u,c]=t(o.from,o.to,o.velocity);return An(An({},o),{},{from:u,velocity:c})}return o},e);return n<1?rf((a,o)=>fb(o)?An(An({},o),{},{velocity:em(o.velocity,r[a].velocity,n),from:em(o.from,r[a].from,n)}):o,e):DP(t,r,n-1)};function IL(t,e,n,r,a,o){var u,c=r.reduce((y,_)=>An(An({},y),{},{[_]:{from:t[_],velocity:0,to:e[_]}}),{}),h=()=>rf((y,_)=>_.from,c),d=()=>!Object.values(c).filter(fb).length,m=null,v=y=>{u||(u=y);var _=y-u,S=_/n.dt;c=DP(n,c,S),a(An(An(An({},t),e),h())),u=y,d()||(m=o.setTimeout(v))};return()=>(m=o.setTimeout(v),()=>{m()})}function ML(t,e,n,r,a,o,u){var c=null,h=a.reduce((v,y)=>An(An({},v),{},{[y]:[t[y],e[y]]}),{}),d,m=v=>{d||(d=v);var y=(v-d)/r,_=rf((E,A)=>em(...A,n(y)),h);if(o(An(An(An({},t),e),_)),y<1)c=u.setTimeout(m);else{var S=rf((E,A)=>em(...A,n(1)),h);o(An(An(An({},t),e),S))}};return()=>(c=u.setTimeout(m),()=>{c()})}const RP=(t,e,n,r,a,o)=>{var u=PL(t,e);return n.isStepper===!0?IL(t,e,n,u,a,o):ML(t,e,n,r,u,a,o)};function kL(t){var e,n=()=>null,r=!1,a=null,o=u=>{if(!r){if(Array.isArray(u)){if(!u.length)return;var c=u,[h,...d]=c;if(typeof h=="number"){a=t.setTimeout(o.bind(null,d),h);return}o(h),a=t.setTimeout(o.bind(null,d));return}typeof u=="string"&&(e=u,n(e)),typeof u=="object"&&(e=u,n(e)),typeof u=="function"&&u()}};return{stop:()=>{r=!0},start:u=>{r=!1,a&&(a(),a=null),o(u)},subscribe:u=>(n=u,()=>{n=()=>null}),getTimeoutController:()=>t}}class VL{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),a=null,o=u=>{u-r>=n?e(u):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(o))};return a=requestAnimationFrame(o),()=>{cancelAnimationFrame(a)}}}function LL(){return kL(new VL)}var BL=C.createContext(LL);function IP(t,e){var n=C.useContext(BL);return C.useMemo(()=>e??n(t),[t,e,n])}var UL=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function hb(){return hb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hb.apply(null,arguments)}function zL(t,e){if(t==null)return{};var n,r,a=qL(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function qL(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function zT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ns(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zT(Object(n),!0).forEach(function(r){mo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mo(t,e,n){return(e=$L(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $L(t){var e=FL(t,"string");return typeof e=="symbol"?e:e+""}function FL(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class k1 extends C.PureComponent{constructor(e,n){super(e,n),mo(this,"mounted",!1),mo(this,"manager",void 0),mo(this,"stopJSAnimation",null),mo(this,"unSubscribe",null);var{isActive:r,attributeName:a,from:o,to:u,children:c,duration:h,animationManager:d}=this.props;if(this.manager=d,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!r||h<=0){this.state={style:{}},typeof c=="function"&&(this.state={style:u});return}if(o){if(typeof c=="function"){this.state={style:o};return}this.state={style:a?{[a]:o}:o}}else this.state={style:{}}}componentDidMount(){var{isActive:e,canBegin:n}=this.props;this.mounted=!0,!(!e||!n)&&this.runAnimation(this.props)}componentDidUpdate(e){var{isActive:n,canBegin:r,attributeName:a,shouldReAnimate:o,to:u,from:c}=this.props,{style:h}=this.state;if(r){if(!n){var d={style:a?{[a]:u}:u};this.state&&h&&(a&&h[a]!==u||!a&&h!==u)&&this.setState(d);return}if(!(wL(e.to,u)&&e.canBegin&&e.isActive)){var m=!e.canBegin||!e.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=m||o?c:e.to;if(this.state&&h){var y={style:a?{[a]:v}:v};(a&&h[a]!==v||!a&&h!==v)&&this.setState(y)}this.runAnimation(ns(ns({},this.props),{},{from:v,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:e}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}handleStyleChange(e){this.changeStyle(e)}changeStyle(e){this.mounted&&this.setState({style:e})}runJSAnimation(e){var{from:n,to:r,duration:a,easing:o,begin:u,onAnimationEnd:c,onAnimationStart:h}=e,d=RP(n,r,NP(o),a,this.changeStyle,this.manager.getTimeoutController()),m=()=>{this.stopJSAnimation=d()};this.manager.start([h,u,m,a,c])}runAnimation(e){var{begin:n,duration:r,attributeName:a,to:o,easing:u,onAnimationStart:c,onAnimationEnd:h,children:d}=e;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof u=="function"||typeof d=="function"||u==="spring"){this.runJSAnimation(e);return}var m=a?{[a]:o}:o,v=jL(Object.keys(m),r,u);this.manager.start([c,n,ns(ns({},m),{},{transition:v}),r,h])}render(){var e=this.props,{children:n,begin:r,duration:a,attributeName:o,easing:u,isActive:c,from:h,to:d,canBegin:m,onAnimationEnd:v,shouldReAnimate:y,onAnimationReStart:_,animationManager:S}=e,E=zL(e,UL),A=C.Children.count(n),j=this.state.style;if(typeof n=="function")return n(j);if(!c||A===0||a<=0)return n;var I=P=>{var{style:U={},className:B}=P.props,H=C.cloneElement(P,ns(ns({},E),{},{style:ns(ns({},U),j),className:B}));return H};return A===1?I(C.Children.only(n)):C.createElement("div",null,C.Children.map(n,P=>I(P)))}}mo(k1,"displayName","Animate");mo(k1,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});function tm(t){var e,n=IP((e=t.attributeName)!==null&&e!==void 0?e:Object.keys(t.to).join(","),t.animationManager);return C.createElement(k1,hb({},t,{animationManager:n}))}function nm(){return nm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nm.apply(null,arguments)}var qT=(t,e,n,r,a)=>{var o=Math.min(Math.abs(n)/2,Math.abs(r)/2),u=r>=0?1:-1,c=n>=0?1:-1,h=r>=0&&n>=0||r<0&&n<0?1:0,d;if(o>0&&a instanceof Array){for(var m=[0,0,0,0],v=0,y=4;v<y;v++)m[v]=a[v]>o?o:a[v];d="M".concat(t,",").concat(e+u*m[0]),m[0]>0&&(d+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(h,",").concat(t+c*m[0],",").concat(e)),d+="L ".concat(t+n-c*m[1],",").concat(e),m[1]>0&&(d+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(h,`,
        `).concat(t+n,",").concat(e+u*m[1])),d+="L ".concat(t+n,",").concat(e+r-u*m[2]),m[2]>0&&(d+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(h,`,
        `).concat(t+n-c*m[2],",").concat(e+r)),d+="L ".concat(t+c*m[3],",").concat(e+r),m[3]>0&&(d+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(h,`,
        `).concat(t,",").concat(e+r-u*m[3])),d+="Z"}else if(o>0&&a===+a&&a>0){var _=Math.min(o,a);d="M ".concat(t,",").concat(e+u*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(h,",").concat(t+c*_,",").concat(e,`
            L `).concat(t+n-c*_,",").concat(e,`
            A `).concat(_,",").concat(_,",0,0,").concat(h,",").concat(t+n,",").concat(e+u*_,`
            L `).concat(t+n,",").concat(e+r-u*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(h,",").concat(t+n-c*_,",").concat(e+r,`
            L `).concat(t+c*_,",").concat(e+r,`
            A `).concat(_,",").concat(_,",0,0,").concat(h,",").concat(t,",").concat(e+r-u*_," Z")}else d="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return d},HL={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},MP=t=>{var e=Mi(t,HL),n=C.useRef(null),[r,a]=C.useState(-1);C.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&a(j)}catch{}},[]);var{x:o,y:u,width:c,height:h,radius:d,className:m}=e,{animationEasing:v,animationDuration:y,animationBegin:_,isAnimationActive:S,isUpdateAnimationActive:E}=e;if(o!==+o||u!==+u||c!==+c||h!==+h||c===0||h===0)return null;var A=ct("recharts-rectangle",m);return E?C.createElement(tm,{canBegin:r>0,from:{width:c,height:h,x:o,y:u},to:{width:c,height:h,x:o,y:u},duration:y,animationEasing:v,isActive:E},j=>{var{width:I,height:P,x:U,y:B}=j;return C.createElement(tm,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:y,isActive:S,easing:v},C.createElement("path",nm({},kt(e,!0),{className:A,d:qT(U,B,I,P,d),ref:n})))}):C.createElement("path",nm({},kt(e,!0),{className:A,d:qT(o,u,c,h,d)}))};function kP(t){var{cx:e,cy:n,radius:r,startAngle:a,endAngle:o}=t,u=Cn(e,n,r,a),c=Cn(e,n,r,o);return{points:[u,c],cx:e,cy:n,radius:r,startAngle:a,endAngle:o}}function db(){return db=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},db.apply(null,arguments)}var KL=(t,e)=>{var n=Qn(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},vd=t=>{var{cx:e,cy:n,radius:r,angle:a,sign:o,isExternal:u,cornerRadius:c,cornerIsExternal:h}=t,d=c*(u?1:-1)+r,m=Math.asin(c/d)/Wd,v=h?a:a+o*m,y=Cn(e,n,d,v),_=Cn(e,n,r,v),S=h?a-o*m:a,E=Cn(e,n,d*Math.cos(m*Wd),S);return{center:y,circleTangency:_,lineTangency:E,theta:m}},VP=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:a,startAngle:o,endAngle:u}=t,c=KL(o,u),h=o+c,d=Cn(e,n,a,o),m=Cn(e,n,a,h),v="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>h),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(r>0){var y=Cn(e,n,r,o),_=Cn(e,n,r,h);v+="L ".concat(_.x,",").concat(_.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=h),`,
            `).concat(y.x,",").concat(y.y," Z")}else v+="L ".concat(e,",").concat(n," Z");return v},GL=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:a,cornerRadius:o,forceCornerRadius:u,cornerIsExternal:c,startAngle:h,endAngle:d}=t,m=Qn(d-h),{circleTangency:v,lineTangency:y,theta:_}=vd({cx:e,cy:n,radius:a,angle:h,sign:m,cornerRadius:o,cornerIsExternal:c}),{circleTangency:S,lineTangency:E,theta:A}=vd({cx:e,cy:n,radius:a,angle:d,sign:-m,cornerRadius:o,cornerIsExternal:c}),j=c?Math.abs(h-d):Math.abs(h-d)-_-A;if(j<0)return u?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):VP({cx:e,cy:n,innerRadius:r,outerRadius:a,startAngle:h,endAngle:d});var I="M ".concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(j>180),",").concat(+(m<0),",").concat(S.x,",").concat(S.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(E.x,",").concat(E.y,`
  `);if(r>0){var{circleTangency:P,lineTangency:U,theta:B}=vd({cx:e,cy:n,radius:r,angle:h,sign:m,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),{circleTangency:H,lineTangency:N,theta:R}=vd({cx:e,cy:n,radius:r,angle:d,sign:-m,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),k=c?Math.abs(h-d):Math.abs(h-d)-B-R;if(k<0&&o===0)return"".concat(I,"L").concat(e,",").concat(n,"Z");I+="L".concat(N.x,",").concat(N.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(H.x,",").concat(H.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(k>180),",").concat(+(m>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(U.x,",").concat(U.y,"Z")}else I+="L".concat(e,",").concat(n,"Z");return I},YL={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},LP=t=>{var e=Mi(t,YL),{cx:n,cy:r,innerRadius:a,outerRadius:o,cornerRadius:u,forceCornerRadius:c,cornerIsExternal:h,startAngle:d,endAngle:m,className:v}=e;if(o<a||d===m)return null;var y=ct("recharts-sector",v),_=o-a,S=ni(u,_,0,!0),E;return S>0&&Math.abs(d-m)<360?E=GL({cx:n,cy:r,innerRadius:a,outerRadius:o,cornerRadius:Math.min(S,_/2),forceCornerRadius:c,cornerIsExternal:h,startAngle:d,endAngle:m}):E=VP({cx:n,cy:r,innerRadius:a,outerRadius:o,startAngle:d,endAngle:m}),C.createElement("path",db({},kt(e,!0),{className:y,d:E}))};function XL(t,e,n){var r,a,o,u;if(t==="horizontal")r=e.x,o=r,a=n.top,u=n.top+n.height;else if(t==="vertical")a=e.y,u=a,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:c,cy:h,innerRadius:d,outerRadius:m,angle:v}=e,y=Cn(c,h,d,v),_=Cn(c,h,m,v);r=y.x,a=y.y,o=_.x,u=_.y}else return kP(e);return[{x:r,y:a},{x:o,y:u}]}var Wy={},Zy={},Jy={},$T;function QL(){return $T||($T=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Kj();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(Jy)),Jy}var FT;function WL(){return FT||(FT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=QL();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(Zy)),Zy}var HT;function ZL(){return HT||(HT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Gj(),n=WL();function r(a,o,u){u&&typeof u!="number"&&e.isIterateeCall(a,o,u)&&(o=u=void 0),a=n.toFinite(a),o===void 0?(o=a,a=0):o=n.toFinite(o),u=u===void 0?a<o?1:-1:n.toFinite(u);const c=Math.max(Math.ceil((o-a)/(u||1)),0),h=new Array(c);for(let d=0;d<c;d++)h[d]=a,a+=u;return h}t.range=r})(Wy)),Wy}var e0,KT;function JL(){return KT||(KT=1,e0=ZL().range),e0}var e9=JL();const BP=ii(e9);function ss(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function t9(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function V1(t){let e,n,r;t.length!==2?(e=ss,n=(c,h)=>ss(t(c),h),r=(c,h)=>t(c)-h):(e=t===ss||t===t9?t:n9,n=t,r=t);function a(c,h,d=0,m=c.length){if(d<m){if(e(h,h)!==0)return m;do{const v=d+m>>>1;n(c[v],h)<0?d=v+1:m=v}while(d<m)}return d}function o(c,h,d=0,m=c.length){if(d<m){if(e(h,h)!==0)return m;do{const v=d+m>>>1;n(c[v],h)<=0?d=v+1:m=v}while(d<m)}return d}function u(c,h,d=0,m=c.length){const v=a(c,h,d,m-1);return v>d&&r(c[v-1],h)>-r(c[v],h)?v-1:v}return{left:a,center:u,right:o}}function n9(){return 0}function UP(t){return t===null?NaN:+t}function*r9(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const i9=V1(ss),Af=i9.right;V1(UP).center;class GT extends Map{constructor(e,n=o9){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,a]of e)this.set(r,a)}get(e){return super.get(YT(this,e))}has(e){return super.has(YT(this,e))}set(e,n){return super.set(a9(this,e),n)}delete(e){return super.delete(s9(this,e))}}function YT({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function a9({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function s9({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function o9(t){return t!==null&&typeof t=="object"?t.valueOf():t}function l9(t=ss){if(t===ss)return zP;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function zP(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const u9=Math.sqrt(50),c9=Math.sqrt(10),f9=Math.sqrt(2);function rm(t,e,n){const r=(e-t)/Math.max(0,n),a=Math.floor(Math.log10(r)),o=r/Math.pow(10,a),u=o>=u9?10:o>=c9?5:o>=f9?2:1;let c,h,d;return a<0?(d=Math.pow(10,-a)/u,c=Math.round(t*d),h=Math.round(e*d),c/d<t&&++c,h/d>e&&--h,d=-d):(d=Math.pow(10,a)*u,c=Math.round(t/d),h=Math.round(e/d),c*d<t&&++c,h*d>e&&--h),h<c&&.5<=n&&n<2?rm(t,e,n*2):[c,h,d]}function mb(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[a,o,u]=r?rm(e,t,n):rm(t,e,n);if(!(o>=a))return[];const c=o-a+1,h=new Array(c);if(r)if(u<0)for(let d=0;d<c;++d)h[d]=(o-d)/-u;else for(let d=0;d<c;++d)h[d]=(o-d)*u;else if(u<0)for(let d=0;d<c;++d)h[d]=(a+d)/-u;else for(let d=0;d<c;++d)h[d]=(a+d)*u;return h}function pb(t,e,n){return e=+e,t=+t,n=+n,rm(t,e,n)[2]}function gb(t,e,n){e=+e,t=+t,n=+n;const r=e<t,a=r?pb(e,t,n):pb(t,e,n);return(r?-1:1)*(a<0?1/-a:a)}function XT(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function QT(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function qP(t,e,n=0,r=1/0,a){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(a=a===void 0?zP:l9(a);r>n;){if(r-n>600){const h=r-n+1,d=e-n+1,m=Math.log(h),v=.5*Math.exp(2*m/3),y=.5*Math.sqrt(m*v*(h-v)/h)*(d-h/2<0?-1:1),_=Math.max(n,Math.floor(e-d*v/h+y)),S=Math.min(r,Math.floor(e+(h-d)*v/h+y));qP(t,e,_,S,a)}const o=t[e];let u=n,c=r;for(Nc(t,n,e),a(t[r],o)>0&&Nc(t,n,r);u<c;){for(Nc(t,u,c),++u,--c;a(t[u],o)<0;)++u;for(;a(t[c],o)>0;)--c}a(t[n],o)===0?Nc(t,n,c):(++c,Nc(t,c,r)),c<=e&&(n=c+1),e<=c&&(r=c-1)}return t}function Nc(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function h9(t,e,n){if(t=Float64Array.from(r9(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return QT(t);if(e>=1)return XT(t);var r,a=(r-1)*e,o=Math.floor(a),u=XT(qP(t,o).subarray(0,o+1)),c=QT(t.subarray(o+1));return u+(c-u)*(a-o)}}function d9(t,e,n=UP){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,a=(r-1)*e,o=Math.floor(a),u=+n(t[o],o,t),c=+n(t[o+1],o+1,t);return u+(c-u)*(a-o)}}function m9(t,e,n){t=+t,e=+e,n=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(a);++r<a;)o[r]=t+r*n;return o}function $r(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Sa(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const vb=Symbol("implicit");function L1(){var t=new GT,e=[],n=[],r=vb;function a(o){let u=t.get(o);if(u===void 0){if(r!==vb)return r;t.set(o,u=e.push(o)-1)}return n[u%n.length]}return a.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new GT;for(const u of o)t.has(u)||t.set(u,e.push(u)-1);return a},a.range=function(o){return arguments.length?(n=Array.from(o),a):n.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.copy=function(){return L1(e,n).unknown(r)},$r.apply(a,arguments),a}function B1(){var t=L1().unknown(void 0),e=t.domain,n=t.range,r=0,a=1,o,u,c=!1,h=0,d=0,m=.5;delete t.unknown;function v(){var y=e().length,_=a<r,S=_?a:r,E=_?r:a;o=(E-S)/Math.max(1,y-h+d*2),c&&(o=Math.floor(o)),S+=(E-S-o*(y-h))*m,u=o*(1-h),c&&(S=Math.round(S),u=Math.round(u));var A=m9(y).map(function(j){return S+o*j});return n(_?A.reverse():A)}return t.domain=function(y){return arguments.length?(e(y),v()):e()},t.range=function(y){return arguments.length?([r,a]=y,r=+r,a=+a,v()):[r,a]},t.rangeRound=function(y){return[r,a]=y,r=+r,a=+a,c=!0,v()},t.bandwidth=function(){return u},t.step=function(){return o},t.round=function(y){return arguments.length?(c=!!y,v()):c},t.padding=function(y){return arguments.length?(h=Math.min(1,d=+y),v()):h},t.paddingInner=function(y){return arguments.length?(h=Math.min(1,y),v()):h},t.paddingOuter=function(y){return arguments.length?(d=+y,v()):d},t.align=function(y){return arguments.length?(m=Math.max(0,Math.min(1,y)),v()):m},t.copy=function(){return B1(e(),[r,a]).round(c).paddingInner(h).paddingOuter(d).align(m)},$r.apply(v(),arguments)}function $P(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return $P(e())},t}function p9(){return $P(B1.apply(null,arguments).paddingInner(1))}function U1(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function FP(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Tf(){}var af=.7,im=1/af,zl="\\s*([+-]?\\d+)\\s*",sf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ti="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",g9=/^#([0-9a-f]{3,8})$/,v9=new RegExp(`^rgb\\(${zl},${zl},${zl}\\)$`),y9=new RegExp(`^rgb\\(${Ti},${Ti},${Ti}\\)$`),b9=new RegExp(`^rgba\\(${zl},${zl},${zl},${sf}\\)$`),x9=new RegExp(`^rgba\\(${Ti},${Ti},${Ti},${sf}\\)$`),_9=new RegExp(`^hsl\\(${sf},${Ti},${Ti}\\)$`),w9=new RegExp(`^hsla\\(${sf},${Ti},${Ti},${sf}\\)$`),WT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};U1(Tf,of,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:ZT,formatHex:ZT,formatHex8:E9,formatHsl:S9,formatRgb:JT,toString:JT});function ZT(){return this.rgb().formatHex()}function E9(){return this.rgb().formatHex8()}function S9(){return HP(this).formatHsl()}function JT(){return this.rgb().formatRgb()}function of(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=g9.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?e2(e):n===3?new Wn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?yd(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?yd(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=v9.exec(t))?new Wn(e[1],e[2],e[3],1):(e=y9.exec(t))?new Wn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=b9.exec(t))?yd(e[1],e[2],e[3],e[4]):(e=x9.exec(t))?yd(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=_9.exec(t))?r2(e[1],e[2]/100,e[3]/100,1):(e=w9.exec(t))?r2(e[1],e[2]/100,e[3]/100,e[4]):WT.hasOwnProperty(t)?e2(WT[t]):t==="transparent"?new Wn(NaN,NaN,NaN,0):null}function e2(t){return new Wn(t>>16&255,t>>8&255,t&255,1)}function yd(t,e,n,r){return r<=0&&(t=e=n=NaN),new Wn(t,e,n,r)}function A9(t){return t instanceof Tf||(t=of(t)),t?(t=t.rgb(),new Wn(t.r,t.g,t.b,t.opacity)):new Wn}function yb(t,e,n,r){return arguments.length===1?A9(t):new Wn(t,e,n,r??1)}function Wn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}U1(Wn,yb,FP(Tf,{brighter(t){return t=t==null?im:Math.pow(im,t),new Wn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?af:Math.pow(af,t),new Wn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Wn(_o(this.r),_o(this.g),_o(this.b),am(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:t2,formatHex:t2,formatHex8:T9,formatRgb:n2,toString:n2}));function t2(){return`#${po(this.r)}${po(this.g)}${po(this.b)}`}function T9(){return`#${po(this.r)}${po(this.g)}${po(this.b)}${po((isNaN(this.opacity)?1:this.opacity)*255)}`}function n2(){const t=am(this.opacity);return`${t===1?"rgb(":"rgba("}${_o(this.r)}, ${_o(this.g)}, ${_o(this.b)}${t===1?")":`, ${t})`}`}function am(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function _o(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function po(t){return t=_o(t),(t<16?"0":"")+t.toString(16)}function r2(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ei(t,e,n,r)}function HP(t){if(t instanceof ei)return new ei(t.h,t.s,t.l,t.opacity);if(t instanceof Tf||(t=of(t)),!t)return new ei;if(t instanceof ei)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,a=Math.min(e,n,r),o=Math.max(e,n,r),u=NaN,c=o-a,h=(o+a)/2;return c?(e===o?u=(n-r)/c+(n<r)*6:n===o?u=(r-e)/c+2:u=(e-n)/c+4,c/=h<.5?o+a:2-o-a,u*=60):c=h>0&&h<1?0:u,new ei(u,c,h,t.opacity)}function O9(t,e,n,r){return arguments.length===1?HP(t):new ei(t,e,n,r??1)}function ei(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}U1(ei,O9,FP(Tf,{brighter(t){return t=t==null?im:Math.pow(im,t),new ei(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?af:Math.pow(af,t),new ei(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,a=2*n-r;return new Wn(t0(t>=240?t-240:t+120,a,r),t0(t,a,r),t0(t<120?t+240:t-120,a,r),this.opacity)},clamp(){return new ei(i2(this.h),bd(this.s),bd(this.l),am(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=am(this.opacity);return`${t===1?"hsl(":"hsla("}${i2(this.h)}, ${bd(this.s)*100}%, ${bd(this.l)*100}%${t===1?")":`, ${t})`}`}}));function i2(t){return t=(t||0)%360,t<0?t+360:t}function bd(t){return Math.max(0,Math.min(1,t||0))}function t0(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const z1=t=>()=>t;function C9(t,e){return function(n){return t+n*e}}function j9(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function P9(t){return(t=+t)==1?KP:function(e,n){return n-e?j9(e,n,t):z1(isNaN(e)?n:e)}}function KP(t,e){var n=e-t;return n?C9(t,n):z1(isNaN(t)?e:t)}const a2=(function t(e){var n=P9(e);function r(a,o){var u=n((a=yb(a)).r,(o=yb(o)).r),c=n(a.g,o.g),h=n(a.b,o.b),d=KP(a.opacity,o.opacity);return function(m){return a.r=u(m),a.g=c(m),a.b=h(m),a.opacity=d(m),a+""}}return r.gamma=t,r})(1);function N9(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),a;return function(o){for(a=0;a<n;++a)r[a]=t[a]*(1-o)+e[a]*o;return r}}function D9(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function R9(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,a=new Array(r),o=new Array(n),u;for(u=0;u<r;++u)a[u]=lu(t[u],e[u]);for(;u<n;++u)o[u]=e[u];return function(c){for(u=0;u<r;++u)o[u]=a[u](c);return o}}function I9(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function sm(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function M9(t,e){var n={},r={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?n[a]=lu(t[a],e[a]):r[a]=e[a];return function(o){for(a in n)r[a]=n[a](o);return r}}var bb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,n0=new RegExp(bb.source,"g");function k9(t){return function(){return t}}function V9(t){return function(e){return t(e)+""}}function L9(t,e){var n=bb.lastIndex=n0.lastIndex=0,r,a,o,u=-1,c=[],h=[];for(t=t+"",e=e+"";(r=bb.exec(t))&&(a=n0.exec(e));)(o=a.index)>n&&(o=e.slice(n,o),c[u]?c[u]+=o:c[++u]=o),(r=r[0])===(a=a[0])?c[u]?c[u]+=a:c[++u]=a:(c[++u]=null,h.push({i:u,x:sm(r,a)})),n=n0.lastIndex;return n<e.length&&(o=e.slice(n),c[u]?c[u]+=o:c[++u]=o),c.length<2?h[0]?V9(h[0].x):k9(e):(e=h.length,function(d){for(var m=0,v;m<e;++m)c[(v=h[m]).i]=v.x(d);return c.join("")})}function lu(t,e){var n=typeof e,r;return e==null||n==="boolean"?z1(e):(n==="number"?sm:n==="string"?(r=of(e))?(e=r,a2):L9:e instanceof of?a2:e instanceof Date?I9:D9(e)?N9:Array.isArray(e)?R9:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?M9:sm)(t,e)}function q1(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function B9(t,e){e===void 0&&(e=t,t=lu);for(var n=0,r=e.length-1,a=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(a,a=e[++n]);return function(u){var c=Math.max(0,Math.min(r-1,Math.floor(u*=r)));return o[c](u-c)}}function U9(t){return function(){return t}}function om(t){return+t}var s2=[0,1];function Fn(t){return t}function xb(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:U9(isNaN(e)?NaN:.5)}function z9(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function q9(t,e,n){var r=t[0],a=t[1],o=e[0],u=e[1];return a<r?(r=xb(a,r),o=n(u,o)):(r=xb(r,a),o=n(o,u)),function(c){return o(r(c))}}function $9(t,e,n){var r=Math.min(t.length,e.length)-1,a=new Array(r),o=new Array(r),u=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++u<r;)a[u]=xb(t[u],t[u+1]),o[u]=n(e[u],e[u+1]);return function(c){var h=Af(t,c,1,r)-1;return o[h](a[h](c))}}function Of(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function op(){var t=s2,e=s2,n=lu,r,a,o,u=Fn,c,h,d;function m(){var y=Math.min(t.length,e.length);return u!==Fn&&(u=z9(t[0],t[y-1])),c=y>2?$9:q9,h=d=null,v}function v(y){return y==null||isNaN(y=+y)?o:(h||(h=c(t.map(r),e,n)))(r(u(y)))}return v.invert=function(y){return u(a((d||(d=c(e,t.map(r),sm)))(y)))},v.domain=function(y){return arguments.length?(t=Array.from(y,om),m()):t.slice()},v.range=function(y){return arguments.length?(e=Array.from(y),m()):e.slice()},v.rangeRound=function(y){return e=Array.from(y),n=q1,m()},v.clamp=function(y){return arguments.length?(u=y?!0:Fn,m()):u!==Fn},v.interpolate=function(y){return arguments.length?(n=y,m()):n},v.unknown=function(y){return arguments.length?(o=y,v):o},function(y,_){return r=y,a=_,m()}}function $1(){return op()(Fn,Fn)}function F9(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function lm(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Xl(t){return t=lm(Math.abs(t)),t?t[1]:NaN}function H9(t,e){return function(n,r){for(var a=n.length,o=[],u=0,c=t[0],h=0;a>0&&c>0&&(h+c+1>r&&(c=Math.max(1,r-h)),o.push(n.substring(a-=c,a+c)),!((h+=c+1)>r));)c=t[u=(u+1)%t.length];return o.reverse().join(e)}}function K9(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var G9=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function lf(t){if(!(e=G9.exec(t)))throw new Error("invalid format: "+t);var e;return new F1({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}lf.prototype=F1.prototype;function F1(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}F1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Y9(t){e:for(var e=t.length,n=1,r=-1,a;n<e;++n)switch(t[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(a+1):t}var GP;function X9(t,e){var n=lm(t,e);if(!n)return t+"";var r=n[0],a=n[1],o=a-(GP=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,u=r.length;return o===u?r:o>u?r+new Array(o-u+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+lm(t,Math.max(0,e+o-1))[0]}function o2(t,e){var n=lm(t,e);if(!n)return t+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const l2={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:F9,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>o2(t*100,e),r:o2,s:X9,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function u2(t){return t}var c2=Array.prototype.map,f2=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Q9(t){var e=t.grouping===void 0||t.thousands===void 0?u2:H9(c2.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?u2:K9(c2.call(t.numerals,String)),u=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"−":t.minus+"",h=t.nan===void 0?"NaN":t.nan+"";function d(v){v=lf(v);var y=v.fill,_=v.align,S=v.sign,E=v.symbol,A=v.zero,j=v.width,I=v.comma,P=v.precision,U=v.trim,B=v.type;B==="n"?(I=!0,B="g"):l2[B]||(P===void 0&&(P=12),U=!0,B="g"),(A||y==="0"&&_==="=")&&(A=!0,y="0",_="=");var H=E==="$"?n:E==="#"&&/[boxX]/.test(B)?"0"+B.toLowerCase():"",N=E==="$"?r:/[%p]/.test(B)?u:"",R=l2[B],k=/[defgprs%]/.test(B);P=P===void 0?6:/[gprs]/.test(B)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function $(L){var q=H,V=N,Ce,Se,X;if(B==="c")V=R(L)+V,L="";else{L=+L;var ue=L<0||1/L<0;if(L=isNaN(L)?h:R(Math.abs(L),P),U&&(L=Y9(L)),ue&&+L==0&&S!=="+"&&(ue=!1),q=(ue?S==="("?S:c:S==="-"||S==="("?"":S)+q,V=(B==="s"?f2[8+GP/3]:"")+V+(ue&&S==="("?")":""),k){for(Ce=-1,Se=L.length;++Ce<Se;)if(X=L.charCodeAt(Ce),48>X||X>57){V=(X===46?a+L.slice(Ce+1):L.slice(Ce))+V,L=L.slice(0,Ce);break}}}I&&!A&&(L=e(L,1/0));var ee=q.length+L.length+V.length,de=ee<j?new Array(j-ee+1).join(y):"";switch(I&&A&&(L=e(de+L,de.length?j-V.length:1/0),de=""),_){case"<":L=q+L+V+de;break;case"=":L=q+de+L+V;break;case"^":L=de.slice(0,ee=de.length>>1)+q+L+V+de.slice(ee);break;default:L=de+q+L+V;break}return o(L)}return $.toString=function(){return v+""},$}function m(v,y){var _=d((v=lf(v),v.type="f",v)),S=Math.max(-8,Math.min(8,Math.floor(Xl(y)/3)))*3,E=Math.pow(10,-S),A=f2[8+S/3];return function(j){return _(E*j)+A}}return{format:d,formatPrefix:m}}var xd,H1,YP;W9({thousands:",",grouping:[3],currency:["$",""]});function W9(t){return xd=Q9(t),H1=xd.format,YP=xd.formatPrefix,xd}function Z9(t){return Math.max(0,-Xl(Math.abs(t)))}function J9(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Xl(e)/3)))*3-Xl(Math.abs(t)))}function eB(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Xl(e)-Xl(t))+1}function XP(t,e,n,r){var a=gb(t,e,n),o;switch(r=lf(r??",f"),r.type){case"s":{var u=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=J9(a,u))&&(r.precision=o),YP(r,u)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=eB(a,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Z9(a))&&(r.precision=o-(r.type==="%")*2);break}}return H1(r)}function xs(t){var e=t.domain;return t.ticks=function(n){var r=e();return mb(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var a=e();return XP(a[0],a[a.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),a=0,o=r.length-1,u=r[a],c=r[o],h,d,m=10;for(c<u&&(d=u,u=c,c=d,d=a,a=o,o=d);m-- >0;){if(d=pb(u,c,n),d===h)return r[a]=u,r[o]=c,e(r);if(d>0)u=Math.floor(u/d)*d,c=Math.ceil(c/d)*d;else if(d<0)u=Math.ceil(u*d)/d,c=Math.floor(c*d)/d;else break;h=d}return t},t}function QP(){var t=$1();return t.copy=function(){return Of(t,QP())},$r.apply(t,arguments),xs(t)}function WP(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,om),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return WP(t).unknown(e)},t=arguments.length?Array.from(t,om):[0,1],xs(n)}function ZP(t,e){t=t.slice();var n=0,r=t.length-1,a=t[n],o=t[r],u;return o<a&&(u=n,n=r,r=u,u=a,a=o,o=u),t[n]=e.floor(a),t[r]=e.ceil(o),t}function h2(t){return Math.log(t)}function d2(t){return Math.exp(t)}function tB(t){return-Math.log(-t)}function nB(t){return-Math.exp(-t)}function rB(t){return isFinite(t)?+("1e"+t):t<0?0:t}function iB(t){return t===10?rB:t===Math.E?Math.exp:e=>Math.pow(t,e)}function aB(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function m2(t){return(e,n)=>-t(-e,n)}function K1(t){const e=t(h2,d2),n=e.domain;let r=10,a,o;function u(){return a=aB(r),o=iB(r),n()[0]<0?(a=m2(a),o=m2(o),t(tB,nB)):t(h2,d2),e}return e.base=function(c){return arguments.length?(r=+c,u()):r},e.domain=function(c){return arguments.length?(n(c),u()):n()},e.ticks=c=>{const h=n();let d=h[0],m=h[h.length-1];const v=m<d;v&&([d,m]=[m,d]);let y=a(d),_=a(m),S,E;const A=c==null?10:+c;let j=[];if(!(r%1)&&_-y<A){if(y=Math.floor(y),_=Math.ceil(_),d>0){for(;y<=_;++y)for(S=1;S<r;++S)if(E=y<0?S/o(-y):S*o(y),!(E<d)){if(E>m)break;j.push(E)}}else for(;y<=_;++y)for(S=r-1;S>=1;--S)if(E=y>0?S/o(-y):S*o(y),!(E<d)){if(E>m)break;j.push(E)}j.length*2<A&&(j=mb(d,m,A))}else j=mb(y,_,Math.min(_-y,A)).map(o);return v?j.reverse():j},e.tickFormat=(c,h)=>{if(c==null&&(c=10),h==null&&(h=r===10?"s":","),typeof h!="function"&&(!(r%1)&&(h=lf(h)).precision==null&&(h.trim=!0),h=H1(h)),c===1/0)return h;const d=Math.max(1,r*c/e.ticks().length);return m=>{let v=m/o(Math.round(a(m)));return v*r<r-.5&&(v*=r),v<=d?h(m):""}},e.nice=()=>n(ZP(n(),{floor:c=>o(Math.floor(a(c))),ceil:c=>o(Math.ceil(a(c)))})),e}function JP(){const t=K1(op()).domain([1,10]);return t.copy=()=>Of(t,JP()).base(t.base()),$r.apply(t,arguments),t}function p2(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function g2(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function G1(t){var e=1,n=t(p2(e),g2(e));return n.constant=function(r){return arguments.length?t(p2(e=+r),g2(e)):e},xs(n)}function eN(){var t=G1(op());return t.copy=function(){return Of(t,eN()).constant(t.constant())},$r.apply(t,arguments)}function v2(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function sB(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function oB(t){return t<0?-t*t:t*t}function Y1(t){var e=t(Fn,Fn),n=1;function r(){return n===1?t(Fn,Fn):n===.5?t(sB,oB):t(v2(n),v2(1/n))}return e.exponent=function(a){return arguments.length?(n=+a,r()):n},xs(e)}function X1(){var t=Y1(op());return t.copy=function(){return Of(t,X1()).exponent(t.exponent())},$r.apply(t,arguments),t}function lB(){return X1.apply(null,arguments).exponent(.5)}function y2(t){return Math.sign(t)*t*t}function uB(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function tN(){var t=$1(),e=[0,1],n=!1,r;function a(o){var u=uB(t(o));return isNaN(u)?r:n?Math.round(u):u}return a.invert=function(o){return t.invert(y2(o))},a.domain=function(o){return arguments.length?(t.domain(o),a):t.domain()},a.range=function(o){return arguments.length?(t.range((e=Array.from(o,om)).map(y2)),a):e.slice()},a.rangeRound=function(o){return a.range(o).round(!0)},a.round=function(o){return arguments.length?(n=!!o,a):n},a.clamp=function(o){return arguments.length?(t.clamp(o),a):t.clamp()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.copy=function(){return tN(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},$r.apply(a,arguments),xs(a)}function nN(){var t=[],e=[],n=[],r;function a(){var u=0,c=Math.max(1,e.length);for(n=new Array(c-1);++u<c;)n[u-1]=d9(t,u/c);return o}function o(u){return u==null||isNaN(u=+u)?r:e[Af(n,u)]}return o.invertExtent=function(u){var c=e.indexOf(u);return c<0?[NaN,NaN]:[c>0?n[c-1]:t[0],c<n.length?n[c]:t[t.length-1]]},o.domain=function(u){if(!arguments.length)return t.slice();t=[];for(let c of u)c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort(ss),a()},o.range=function(u){return arguments.length?(e=Array.from(u),a()):e.slice()},o.unknown=function(u){return arguments.length?(r=u,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return nN().domain(t).range(e).unknown(r)},$r.apply(o,arguments)}function rN(){var t=0,e=1,n=1,r=[.5],a=[0,1],o;function u(h){return h!=null&&h<=h?a[Af(r,h,0,n)]:o}function c(){var h=-1;for(r=new Array(n);++h<n;)r[h]=((h+1)*e-(h-n)*t)/(n+1);return u}return u.domain=function(h){return arguments.length?([t,e]=h,t=+t,e=+e,c()):[t,e]},u.range=function(h){return arguments.length?(n=(a=Array.from(h)).length-1,c()):a.slice()},u.invertExtent=function(h){var d=a.indexOf(h);return d<0?[NaN,NaN]:d<1?[t,r[0]]:d>=n?[r[n-1],e]:[r[d-1],r[d]]},u.unknown=function(h){return arguments.length&&(o=h),u},u.thresholds=function(){return r.slice()},u.copy=function(){return rN().domain([t,e]).range(a).unknown(o)},$r.apply(xs(u),arguments)}function iN(){var t=[.5],e=[0,1],n,r=1;function a(o){return o!=null&&o<=o?e[Af(t,o,0,r)]:n}return a.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(o){var u=e.indexOf(o);return[t[u-1],t[u]]},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return iN().domain(t).range(e).unknown(n)},$r.apply(a,arguments)}const r0=new Date,i0=new Date;function an(t,e,n,r){function a(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return a.floor=o=>(t(o=new Date(+o)),o),a.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),a.round=o=>{const u=a(o),c=a.ceil(o);return o-u<c-o?u:c},a.offset=(o,u)=>(e(o=new Date(+o),u==null?1:Math.floor(u)),o),a.range=(o,u,c)=>{const h=[];if(o=a.ceil(o),c=c==null?1:Math.floor(c),!(o<u)||!(c>0))return h;let d;do h.push(d=new Date(+o)),e(o,c),t(o);while(d<o&&o<u);return h},a.filter=o=>an(u=>{if(u>=u)for(;t(u),!o(u);)u.setTime(u-1)},(u,c)=>{if(u>=u)if(c<0)for(;++c<=0;)for(;e(u,-1),!o(u););else for(;--c>=0;)for(;e(u,1),!o(u););}),n&&(a.count=(o,u)=>(r0.setTime(+o),i0.setTime(+u),t(r0),t(i0),Math.floor(n(r0,i0))),a.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?a.filter(r?u=>r(u)%o===0:u=>a.count(0,u)%o===0):a)),a}const um=an(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);um.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?an(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):um);um.range;const ca=1e3,Ur=ca*60,fa=Ur*60,ga=fa*24,Q1=ga*7,b2=ga*30,a0=ga*365,go=an(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ca)},(t,e)=>(e-t)/ca,t=>t.getUTCSeconds());go.range;const W1=an(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ca)},(t,e)=>{t.setTime(+t+e*Ur)},(t,e)=>(e-t)/Ur,t=>t.getMinutes());W1.range;const Z1=an(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ur)},(t,e)=>(e-t)/Ur,t=>t.getUTCMinutes());Z1.range;const J1=an(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ca-t.getMinutes()*Ur)},(t,e)=>{t.setTime(+t+e*fa)},(t,e)=>(e-t)/fa,t=>t.getHours());J1.range;const ex=an(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*fa)},(t,e)=>(e-t)/fa,t=>t.getUTCHours());ex.range;const Cf=an(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ur)/ga,t=>t.getDate()-1);Cf.range;const lp=an(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ga,t=>t.getUTCDate()-1);lp.range;const aN=an(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ga,t=>Math.floor(t/ga));aN.range;function Mo(t){return an(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Ur)/Q1)}const up=Mo(0),cm=Mo(1),cB=Mo(2),fB=Mo(3),Ql=Mo(4),hB=Mo(5),dB=Mo(6);up.range;cm.range;cB.range;fB.range;Ql.range;hB.range;dB.range;function ko(t){return an(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Q1)}const cp=ko(0),fm=ko(1),mB=ko(2),pB=ko(3),Wl=ko(4),gB=ko(5),vB=ko(6);cp.range;fm.range;mB.range;pB.range;Wl.range;gB.range;vB.range;const tx=an(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());tx.range;const nx=an(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());nx.range;const va=an(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());va.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:an(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});va.range;const ya=an(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ya.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:an(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});ya.range;function sN(t,e,n,r,a,o){const u=[[go,1,ca],[go,5,5*ca],[go,15,15*ca],[go,30,30*ca],[o,1,Ur],[o,5,5*Ur],[o,15,15*Ur],[o,30,30*Ur],[a,1,fa],[a,3,3*fa],[a,6,6*fa],[a,12,12*fa],[r,1,ga],[r,2,2*ga],[n,1,Q1],[e,1,b2],[e,3,3*b2],[t,1,a0]];function c(d,m,v){const y=m<d;y&&([d,m]=[m,d]);const _=v&&typeof v.range=="function"?v:h(d,m,v),S=_?_.range(d,+m+1):[];return y?S.reverse():S}function h(d,m,v){const y=Math.abs(m-d)/v,_=V1(([,,A])=>A).right(u,y);if(_===u.length)return t.every(gb(d/a0,m/a0,v));if(_===0)return um.every(Math.max(gb(d,m,v),1));const[S,E]=u[y/u[_-1][2]<u[_][2]/y?_-1:_];return S.every(E)}return[c,h]}const[yB,bB]=sN(ya,nx,cp,aN,ex,Z1),[xB,_B]=sN(va,tx,up,Cf,J1,W1);function s0(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function o0(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Dc(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function wB(t){var e=t.dateTime,n=t.date,r=t.time,a=t.periods,o=t.days,u=t.shortDays,c=t.months,h=t.shortMonths,d=Rc(a),m=Ic(a),v=Rc(o),y=Ic(o),_=Rc(u),S=Ic(u),E=Rc(c),A=Ic(c),j=Rc(h),I=Ic(h),P={a:ue,A:ee,b:de,B:z,c:null,d:A2,e:A2,f:HB,g:tU,G:rU,H:qB,I:$B,j:FB,L:oN,m:KB,M:GB,p:re,q:ie,Q:C2,s:j2,S:YB,u:XB,U:QB,V:WB,w:ZB,W:JB,x:null,X:null,y:eU,Y:nU,Z:iU,"%":O2},U={a:ce,A:ge,b:Oe,B:Pe,c:null,d:T2,e:T2,f:lU,g:yU,G:xU,H:aU,I:sU,j:oU,L:uN,m:uU,M:cU,p:Nt,q:Je,Q:C2,s:j2,S:fU,u:hU,U:dU,V:mU,w:pU,W:gU,x:null,X:null,y:vU,Y:bU,Z:_U,"%":O2},B={a:$,A:L,b:q,B:V,c:Ce,d:E2,e:E2,f:LB,g:w2,G:_2,H:S2,I:S2,j:IB,L:VB,m:RB,M:MB,p:k,q:DB,Q:UB,s:zB,S:kB,u:OB,U:CB,V:jB,w:TB,W:PB,x:Se,X,y:w2,Y:_2,Z:NB,"%":BB};P.x=H(n,P),P.X=H(r,P),P.c=H(e,P),U.x=H(n,U),U.X=H(r,U),U.c=H(e,U);function H(pe,Me){return function(Ve){var fe=[],_e=-1,Ae=0,Ge=pe.length,St,ft,oi;for(Ve instanceof Date||(Ve=new Date(+Ve));++_e<Ge;)pe.charCodeAt(_e)===37&&(fe.push(pe.slice(Ae,_e)),(ft=x2[St=pe.charAt(++_e)])!=null?St=pe.charAt(++_e):ft=St==="e"?" ":"0",(oi=Me[St])&&(St=oi(Ve,ft)),fe.push(St),Ae=_e+1);return fe.push(pe.slice(Ae,_e)),fe.join("")}}function N(pe,Me){return function(Ve){var fe=Dc(1900,void 0,1),_e=R(fe,pe,Ve+="",0),Ae,Ge;if(_e!=Ve.length)return null;if("Q"in fe)return new Date(fe.Q);if("s"in fe)return new Date(fe.s*1e3+("L"in fe?fe.L:0));if(Me&&!("Z"in fe)&&(fe.Z=0),"p"in fe&&(fe.H=fe.H%12+fe.p*12),fe.m===void 0&&(fe.m="q"in fe?fe.q:0),"V"in fe){if(fe.V<1||fe.V>53)return null;"w"in fe||(fe.w=1),"Z"in fe?(Ae=o0(Dc(fe.y,0,1)),Ge=Ae.getUTCDay(),Ae=Ge>4||Ge===0?fm.ceil(Ae):fm(Ae),Ae=lp.offset(Ae,(fe.V-1)*7),fe.y=Ae.getUTCFullYear(),fe.m=Ae.getUTCMonth(),fe.d=Ae.getUTCDate()+(fe.w+6)%7):(Ae=s0(Dc(fe.y,0,1)),Ge=Ae.getDay(),Ae=Ge>4||Ge===0?cm.ceil(Ae):cm(Ae),Ae=Cf.offset(Ae,(fe.V-1)*7),fe.y=Ae.getFullYear(),fe.m=Ae.getMonth(),fe.d=Ae.getDate()+(fe.w+6)%7)}else("W"in fe||"U"in fe)&&("w"in fe||(fe.w="u"in fe?fe.u%7:"W"in fe?1:0),Ge="Z"in fe?o0(Dc(fe.y,0,1)).getUTCDay():s0(Dc(fe.y,0,1)).getDay(),fe.m=0,fe.d="W"in fe?(fe.w+6)%7+fe.W*7-(Ge+5)%7:fe.w+fe.U*7-(Ge+6)%7);return"Z"in fe?(fe.H+=fe.Z/100|0,fe.M+=fe.Z%100,o0(fe)):s0(fe)}}function R(pe,Me,Ve,fe){for(var _e=0,Ae=Me.length,Ge=Ve.length,St,ft;_e<Ae;){if(fe>=Ge)return-1;if(St=Me.charCodeAt(_e++),St===37){if(St=Me.charAt(_e++),ft=B[St in x2?Me.charAt(_e++):St],!ft||(fe=ft(pe,Ve,fe))<0)return-1}else if(St!=Ve.charCodeAt(fe++))return-1}return fe}function k(pe,Me,Ve){var fe=d.exec(Me.slice(Ve));return fe?(pe.p=m.get(fe[0].toLowerCase()),Ve+fe[0].length):-1}function $(pe,Me,Ve){var fe=_.exec(Me.slice(Ve));return fe?(pe.w=S.get(fe[0].toLowerCase()),Ve+fe[0].length):-1}function L(pe,Me,Ve){var fe=v.exec(Me.slice(Ve));return fe?(pe.w=y.get(fe[0].toLowerCase()),Ve+fe[0].length):-1}function q(pe,Me,Ve){var fe=j.exec(Me.slice(Ve));return fe?(pe.m=I.get(fe[0].toLowerCase()),Ve+fe[0].length):-1}function V(pe,Me,Ve){var fe=E.exec(Me.slice(Ve));return fe?(pe.m=A.get(fe[0].toLowerCase()),Ve+fe[0].length):-1}function Ce(pe,Me,Ve){return R(pe,e,Me,Ve)}function Se(pe,Me,Ve){return R(pe,n,Me,Ve)}function X(pe,Me,Ve){return R(pe,r,Me,Ve)}function ue(pe){return u[pe.getDay()]}function ee(pe){return o[pe.getDay()]}function de(pe){return h[pe.getMonth()]}function z(pe){return c[pe.getMonth()]}function re(pe){return a[+(pe.getHours()>=12)]}function ie(pe){return 1+~~(pe.getMonth()/3)}function ce(pe){return u[pe.getUTCDay()]}function ge(pe){return o[pe.getUTCDay()]}function Oe(pe){return h[pe.getUTCMonth()]}function Pe(pe){return c[pe.getUTCMonth()]}function Nt(pe){return a[+(pe.getUTCHours()>=12)]}function Je(pe){return 1+~~(pe.getUTCMonth()/3)}return{format:function(pe){var Me=H(pe+="",P);return Me.toString=function(){return pe},Me},parse:function(pe){var Me=N(pe+="",!1);return Me.toString=function(){return pe},Me},utcFormat:function(pe){var Me=H(pe+="",U);return Me.toString=function(){return pe},Me},utcParse:function(pe){var Me=N(pe+="",!0);return Me.toString=function(){return pe},Me}}}var x2={"-":"",_:" ",0:"0"},yn=/^\s*\d+/,EB=/^%/,SB=/[\\^$*+?|[\]().{}]/g;function tt(t,e,n){var r=t<0?"-":"",a=(r?-t:t)+"",o=a.length;return r+(o<n?new Array(n-o+1).join(e)+a:a)}function AB(t){return t.replace(SB,"\\$&")}function Rc(t){return new RegExp("^(?:"+t.map(AB).join("|")+")","i")}function Ic(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function TB(t,e,n){var r=yn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function OB(t,e,n){var r=yn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function CB(t,e,n){var r=yn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function jB(t,e,n){var r=yn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function PB(t,e,n){var r=yn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function _2(t,e,n){var r=yn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function w2(t,e,n){var r=yn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function NB(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function DB(t,e,n){var r=yn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function RB(t,e,n){var r=yn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function E2(t,e,n){var r=yn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function IB(t,e,n){var r=yn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function S2(t,e,n){var r=yn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function MB(t,e,n){var r=yn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function kB(t,e,n){var r=yn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function VB(t,e,n){var r=yn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function LB(t,e,n){var r=yn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function BB(t,e,n){var r=EB.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function UB(t,e,n){var r=yn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function zB(t,e,n){var r=yn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function A2(t,e){return tt(t.getDate(),e,2)}function qB(t,e){return tt(t.getHours(),e,2)}function $B(t,e){return tt(t.getHours()%12||12,e,2)}function FB(t,e){return tt(1+Cf.count(va(t),t),e,3)}function oN(t,e){return tt(t.getMilliseconds(),e,3)}function HB(t,e){return oN(t,e)+"000"}function KB(t,e){return tt(t.getMonth()+1,e,2)}function GB(t,e){return tt(t.getMinutes(),e,2)}function YB(t,e){return tt(t.getSeconds(),e,2)}function XB(t){var e=t.getDay();return e===0?7:e}function QB(t,e){return tt(up.count(va(t)-1,t),e,2)}function lN(t){var e=t.getDay();return e>=4||e===0?Ql(t):Ql.ceil(t)}function WB(t,e){return t=lN(t),tt(Ql.count(va(t),t)+(va(t).getDay()===4),e,2)}function ZB(t){return t.getDay()}function JB(t,e){return tt(cm.count(va(t)-1,t),e,2)}function eU(t,e){return tt(t.getFullYear()%100,e,2)}function tU(t,e){return t=lN(t),tt(t.getFullYear()%100,e,2)}function nU(t,e){return tt(t.getFullYear()%1e4,e,4)}function rU(t,e){var n=t.getDay();return t=n>=4||n===0?Ql(t):Ql.ceil(t),tt(t.getFullYear()%1e4,e,4)}function iU(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+tt(e/60|0,"0",2)+tt(e%60,"0",2)}function T2(t,e){return tt(t.getUTCDate(),e,2)}function aU(t,e){return tt(t.getUTCHours(),e,2)}function sU(t,e){return tt(t.getUTCHours()%12||12,e,2)}function oU(t,e){return tt(1+lp.count(ya(t),t),e,3)}function uN(t,e){return tt(t.getUTCMilliseconds(),e,3)}function lU(t,e){return uN(t,e)+"000"}function uU(t,e){return tt(t.getUTCMonth()+1,e,2)}function cU(t,e){return tt(t.getUTCMinutes(),e,2)}function fU(t,e){return tt(t.getUTCSeconds(),e,2)}function hU(t){var e=t.getUTCDay();return e===0?7:e}function dU(t,e){return tt(cp.count(ya(t)-1,t),e,2)}function cN(t){var e=t.getUTCDay();return e>=4||e===0?Wl(t):Wl.ceil(t)}function mU(t,e){return t=cN(t),tt(Wl.count(ya(t),t)+(ya(t).getUTCDay()===4),e,2)}function pU(t){return t.getUTCDay()}function gU(t,e){return tt(fm.count(ya(t)-1,t),e,2)}function vU(t,e){return tt(t.getUTCFullYear()%100,e,2)}function yU(t,e){return t=cN(t),tt(t.getUTCFullYear()%100,e,2)}function bU(t,e){return tt(t.getUTCFullYear()%1e4,e,4)}function xU(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Wl(t):Wl.ceil(t),tt(t.getUTCFullYear()%1e4,e,4)}function _U(){return"+0000"}function O2(){return"%"}function C2(t){return+t}function j2(t){return Math.floor(+t/1e3)}var Rl,fN,hN;wU({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function wU(t){return Rl=wB(t),fN=Rl.format,Rl.parse,hN=Rl.utcFormat,Rl.utcParse,Rl}function EU(t){return new Date(t)}function SU(t){return t instanceof Date?+t:+new Date(+t)}function rx(t,e,n,r,a,o,u,c,h,d){var m=$1(),v=m.invert,y=m.domain,_=d(".%L"),S=d(":%S"),E=d("%I:%M"),A=d("%I %p"),j=d("%a %d"),I=d("%b %d"),P=d("%B"),U=d("%Y");function B(H){return(h(H)<H?_:c(H)<H?S:u(H)<H?E:o(H)<H?A:r(H)<H?a(H)<H?j:I:n(H)<H?P:U)(H)}return m.invert=function(H){return new Date(v(H))},m.domain=function(H){return arguments.length?y(Array.from(H,SU)):y().map(EU)},m.ticks=function(H){var N=y();return t(N[0],N[N.length-1],H??10)},m.tickFormat=function(H,N){return N==null?B:d(N)},m.nice=function(H){var N=y();return(!H||typeof H.range!="function")&&(H=e(N[0],N[N.length-1],H??10)),H?y(ZP(N,H)):m},m.copy=function(){return Of(m,rx(t,e,n,r,a,o,u,c,h,d))},m}function AU(){return $r.apply(rx(xB,_B,va,tx,up,Cf,J1,W1,go,fN).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function TU(){return $r.apply(rx(yB,bB,ya,nx,cp,lp,ex,Z1,go,hN).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function fp(){var t=0,e=1,n,r,a,o,u=Fn,c=!1,h;function d(v){return v==null||isNaN(v=+v)?h:u(a===0?.5:(v=(o(v)-n)*a,c?Math.max(0,Math.min(1,v)):v))}d.domain=function(v){return arguments.length?([t,e]=v,n=o(t=+t),r=o(e=+e),a=n===r?0:1/(r-n),d):[t,e]},d.clamp=function(v){return arguments.length?(c=!!v,d):c},d.interpolator=function(v){return arguments.length?(u=v,d):u};function m(v){return function(y){var _,S;return arguments.length?([_,S]=y,u=v(_,S),d):[u(0),u(1)]}}return d.range=m(lu),d.rangeRound=m(q1),d.unknown=function(v){return arguments.length?(h=v,d):h},function(v){return o=v,n=v(t),r=v(e),a=n===r?0:1/(r-n),d}}function _s(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function dN(){var t=xs(fp()(Fn));return t.copy=function(){return _s(t,dN())},Sa.apply(t,arguments)}function mN(){var t=K1(fp()).domain([1,10]);return t.copy=function(){return _s(t,mN()).base(t.base())},Sa.apply(t,arguments)}function pN(){var t=G1(fp());return t.copy=function(){return _s(t,pN()).constant(t.constant())},Sa.apply(t,arguments)}function ix(){var t=Y1(fp());return t.copy=function(){return _s(t,ix()).exponent(t.exponent())},Sa.apply(t,arguments)}function OU(){return ix.apply(null,arguments).exponent(.5)}function gN(){var t=[],e=Fn;function n(r){if(r!=null&&!isNaN(r=+r))return e((Af(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let a of r)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(ss),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,a)=>e(a/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,o)=>h9(t,o/r))},n.copy=function(){return gN(e).domain(t)},Sa.apply(n,arguments)}function hp(){var t=0,e=.5,n=1,r=1,a,o,u,c,h,d=Fn,m,v=!1,y;function _(E){return isNaN(E=+E)?y:(E=.5+((E=+m(E))-o)*(r*E<r*o?c:h),d(v?Math.max(0,Math.min(1,E)):E))}_.domain=function(E){return arguments.length?([t,e,n]=E,a=m(t=+t),o=m(e=+e),u=m(n=+n),c=a===o?0:.5/(o-a),h=o===u?0:.5/(u-o),r=o<a?-1:1,_):[t,e,n]},_.clamp=function(E){return arguments.length?(v=!!E,_):v},_.interpolator=function(E){return arguments.length?(d=E,_):d};function S(E){return function(A){var j,I,P;return arguments.length?([j,I,P]=A,d=B9(E,[j,I,P]),_):[d(0),d(.5),d(1)]}}return _.range=S(lu),_.rangeRound=S(q1),_.unknown=function(E){return arguments.length?(y=E,_):y},function(E){return m=E,a=E(t),o=E(e),u=E(n),c=a===o?0:.5/(o-a),h=o===u?0:.5/(u-o),r=o<a?-1:1,_}}function vN(){var t=xs(hp()(Fn));return t.copy=function(){return _s(t,vN())},Sa.apply(t,arguments)}function yN(){var t=K1(hp()).domain([.1,1,10]);return t.copy=function(){return _s(t,yN()).base(t.base())},Sa.apply(t,arguments)}function bN(){var t=G1(hp());return t.copy=function(){return _s(t,bN()).constant(t.constant())},Sa.apply(t,arguments)}function ax(){var t=Y1(hp());return t.copy=function(){return _s(t,ax()).exponent(t.exponent())},Sa.apply(t,arguments)}function CU(){return ax.apply(null,arguments).exponent(.5)}const Bc=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:B1,scaleDiverging:vN,scaleDivergingLog:yN,scaleDivergingPow:ax,scaleDivergingSqrt:CU,scaleDivergingSymlog:bN,scaleIdentity:WP,scaleImplicit:vb,scaleLinear:QP,scaleLog:JP,scaleOrdinal:L1,scalePoint:p9,scalePow:X1,scaleQuantile:nN,scaleQuantize:rN,scaleRadial:tN,scaleSequential:dN,scaleSequentialLog:mN,scaleSequentialPow:ix,scaleSequentialQuantile:gN,scaleSequentialSqrt:OU,scaleSequentialSymlog:pN,scaleSqrt:lB,scaleSymlog:eN,scaleThreshold:iN,scaleTime:AU,scaleUtc:TU,tickFormat:XP},Symbol.toStringTag,{value:"Module"}));var ws=t=>t.chartData,jU=ne([ws],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),dp=(t,e,n,r)=>r?jU(t):ws(t);function Zl(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(br(e)&&br(n))return!0}return!1}function P2(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function PU(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,a,o;if(br(n))a=n;else if(typeof n=="function")return;if(br(r))o=r;else if(typeof r=="function")return;var u=[a,o];if(Zl(u))return u}}function NU(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Zl(r))return P2(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[a,o]=t,u,c;if(a==="auto")e!=null&&(u=Math.min(...e));else if(xe(a))u=a;else if(typeof a=="function")try{e!=null&&(u=a(e==null?void 0:e[0]))}catch{}else if(typeof a=="string"&&vT.test(a)){var h=vT.exec(a);if(h==null||e==null)u=void 0;else{var d=+h[1];u=e[0]-d}}else u=e==null?void 0:e[0];if(o==="auto")e!=null&&(c=Math.max(...e));else if(xe(o))c=o;else if(typeof o=="function")try{e!=null&&(c=o(e==null?void 0:e[1]))}catch{}else if(typeof o=="string"&&yT.test(o)){var m=yT.exec(o);if(m==null||e==null)c=void 0;else{var v=+m[1];c=e[1]+v}}else c=e==null?void 0:e[1];var y=[u,c];if(Zl(y))return e==null?y:P2(y,e,n)}}}var uu=1e9,DU={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},ox,Ot=!0,qr="[DecimalError] ",wo=qr+"Invalid argument: ",sx=qr+"Exponent out of range: ",cu=Math.floor,uo=Math.pow,RU=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,mr,dn=1e7,_t=7,xN=9007199254740991,hm=cu(xN/_t),ye={};ye.absoluteValue=ye.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ye.comparedTo=ye.cmp=function(t){var e,n,r,a,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,a=t.d.length,e=0,n=r<a?r:a;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===a?0:r>a^o.s<0?1:-1};ye.decimalPlaces=ye.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*_t;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ye.dividedBy=ye.div=function(t){return da(this,new this.constructor(t))};ye.dividedToIntegerBy=ye.idiv=function(t){var e=this,n=e.constructor;return yt(da(e,new n(t),0,1),n.precision)};ye.equals=ye.eq=function(t){return!this.cmp(t)};ye.exponent=function(){return Gt(this)};ye.greaterThan=ye.gt=function(t){return this.cmp(t)>0};ye.greaterThanOrEqualTo=ye.gte=function(t){return this.cmp(t)>=0};ye.isInteger=ye.isint=function(){return this.e>this.d.length-2};ye.isNegative=ye.isneg=function(){return this.s<0};ye.isPositive=ye.ispos=function(){return this.s>0};ye.isZero=function(){return this.s===0};ye.lessThan=ye.lt=function(t){return this.cmp(t)<0};ye.lessThanOrEqualTo=ye.lte=function(t){return this.cmp(t)<1};ye.logarithm=ye.log=function(t){var e,n=this,r=n.constructor,a=r.precision,o=a+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(mr))throw Error(qr+"NaN");if(n.s<1)throw Error(qr+(n.s?"NaN":"-Infinity"));return n.eq(mr)?new r(0):(Ot=!1,e=da(uf(n,o),uf(t,o),o),Ot=!0,yt(e,a))};ye.minus=ye.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?EN(e,t):_N(e,(t.s=-t.s,t))};ye.modulo=ye.mod=function(t){var e,n=this,r=n.constructor,a=r.precision;if(t=new r(t),!t.s)throw Error(qr+"NaN");return n.s?(Ot=!1,e=da(n,t,0,1).times(t),Ot=!0,n.minus(e)):yt(new r(n),a)};ye.naturalExponential=ye.exp=function(){return wN(this)};ye.naturalLogarithm=ye.ln=function(){return uf(this)};ye.negated=ye.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ye.plus=ye.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?_N(e,t):EN(e,(t.s=-t.s,t))};ye.precision=ye.sd=function(t){var e,n,r,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(wo+t);if(e=Gt(a)+1,r=a.d.length-1,n=r*_t+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ye.squareRoot=ye.sqrt=function(){var t,e,n,r,a,o,u,c=this,h=c.constructor;if(c.s<1){if(!c.s)return new h(0);throw Error(qr+"NaN")}for(t=Gt(c),Ot=!1,a=Math.sqrt(+c),a==0||a==1/0?(e=Ai(c.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=cu((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new h(e)):r=new h(a.toString()),n=h.precision,a=u=n+3;;)if(o=r,r=o.plus(da(c,o,u+2)).times(.5),Ai(o.d).slice(0,u)===(e=Ai(r.d)).slice(0,u)){if(e=e.slice(u-3,u+1),a==u&&e=="4999"){if(yt(o,n+1,0),o.times(o).eq(c)){r=o;break}}else if(e!="9999")break;u+=4}return Ot=!0,yt(r,n)};ye.times=ye.mul=function(t){var e,n,r,a,o,u,c,h,d,m=this,v=m.constructor,y=m.d,_=(t=new v(t)).d;if(!m.s||!t.s)return new v(0);for(t.s*=m.s,n=m.e+t.e,h=y.length,d=_.length,h<d&&(o=y,y=_,_=o,u=h,h=d,d=u),o=[],u=h+d,r=u;r--;)o.push(0);for(r=d;--r>=0;){for(e=0,a=h+r;a>r;)c=o[a]+_[r]*y[a-r-1]+e,o[a--]=c%dn|0,e=c/dn|0;o[a]=(o[a]+e)%dn|0}for(;!o[--u];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,Ot?yt(t,v.precision):t};ye.toDecimalPlaces=ye.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Di(t,0,uu),e===void 0?e=r.rounding:Di(e,0,8),yt(n,t+Gt(n)+1,e))};ye.toExponential=function(t,e){var n,r=this,a=r.constructor;return t===void 0?n=Co(r,!0):(Di(t,0,uu),e===void 0?e=a.rounding:Di(e,0,8),r=yt(new a(r),t+1,e),n=Co(r,!0,t+1)),n};ye.toFixed=function(t,e){var n,r,a=this,o=a.constructor;return t===void 0?Co(a):(Di(t,0,uu),e===void 0?e=o.rounding:Di(e,0,8),r=yt(new o(a),t+Gt(a)+1,e),n=Co(r.abs(),!1,t+Gt(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};ye.toInteger=ye.toint=function(){var t=this,e=t.constructor;return yt(new e(t),Gt(t)+1,e.rounding)};ye.toNumber=function(){return+this};ye.toPower=ye.pow=function(t){var e,n,r,a,o,u,c=this,h=c.constructor,d=12,m=+(t=new h(t));if(!t.s)return new h(mr);if(c=new h(c),!c.s){if(t.s<1)throw Error(qr+"Infinity");return c}if(c.eq(mr))return c;if(r=h.precision,t.eq(mr))return yt(c,r);if(e=t.e,n=t.d.length-1,u=e>=n,o=c.s,u){if((n=m<0?-m:m)<=xN){for(a=new h(mr),e=Math.ceil(r/_t+4),Ot=!1;n%2&&(a=a.times(c),D2(a.d,e)),n=cu(n/2),n!==0;)c=c.times(c),D2(c.d,e);return Ot=!0,t.s<0?new h(mr).div(a):yt(a,r)}}else if(o<0)throw Error(qr+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,c.s=1,Ot=!1,a=t.times(uf(c,r+d)),Ot=!0,a=wN(a),a.s=o,a};ye.toPrecision=function(t,e){var n,r,a=this,o=a.constructor;return t===void 0?(n=Gt(a),r=Co(a,n<=o.toExpNeg||n>=o.toExpPos)):(Di(t,1,uu),e===void 0?e=o.rounding:Di(e,0,8),a=yt(new o(a),t,e),n=Gt(a),r=Co(a,t<=n||n<=o.toExpNeg,t)),r};ye.toSignificantDigits=ye.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Di(t,1,uu),e===void 0?e=r.rounding:Di(e,0,8)),yt(new r(n),t,e)};ye.toString=ye.valueOf=ye.val=ye.toJSON=ye[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Gt(t),n=t.constructor;return Co(t,e<=n.toExpNeg||e>=n.toExpPos)};function _N(t,e){var n,r,a,o,u,c,h,d,m=t.constructor,v=m.precision;if(!t.s||!e.s)return e.s||(e=new m(t)),Ot?yt(e,v):e;if(h=t.d,d=e.d,u=t.e,a=e.e,h=h.slice(),o=u-a,o){for(o<0?(r=h,o=-o,c=d.length):(r=d,a=u,c=h.length),u=Math.ceil(v/_t),c=u>c?u+1:c+1,o>c&&(o=c,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(c=h.length,o=d.length,c-o<0&&(o=c,r=d,d=h,h=r),n=0;o;)n=(h[--o]=h[o]+d[o]+n)/dn|0,h[o]%=dn;for(n&&(h.unshift(n),++a),c=h.length;h[--c]==0;)h.pop();return e.d=h,e.e=a,Ot?yt(e,v):e}function Di(t,e,n){if(t!==~~t||t<e||t>n)throw Error(wo+t)}function Ai(t){var e,n,r,a=t.length-1,o="",u=t[0];if(a>0){for(o+=u,e=1;e<a;e++)r=t[e]+"",n=_t-r.length,n&&(o+=rs(n)),o+=r;u=t[e],r=u+"",n=_t-r.length,n&&(o+=rs(n))}else if(u===0)return"0";for(;u%10===0;)u/=10;return o+u}var da=(function(){function t(r,a){var o,u=0,c=r.length;for(r=r.slice();c--;)o=r[c]*a+u,r[c]=o%dn|0,u=o/dn|0;return u&&r.unshift(u),r}function e(r,a,o,u){var c,h;if(o!=u)h=o>u?1:-1;else for(c=h=0;c<o;c++)if(r[c]!=a[c]){h=r[c]>a[c]?1:-1;break}return h}function n(r,a,o){for(var u=0;o--;)r[o]-=u,u=r[o]<a[o]?1:0,r[o]=u*dn+r[o]-a[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,o,u){var c,h,d,m,v,y,_,S,E,A,j,I,P,U,B,H,N,R,k=r.constructor,$=r.s==a.s?1:-1,L=r.d,q=a.d;if(!r.s)return new k(r);if(!a.s)throw Error(qr+"Division by zero");for(h=r.e-a.e,N=q.length,B=L.length,_=new k($),S=_.d=[],d=0;q[d]==(L[d]||0);)++d;if(q[d]>(L[d]||0)&&--h,o==null?I=o=k.precision:u?I=o+(Gt(r)-Gt(a))+1:I=o,I<0)return new k(0);if(I=I/_t+2|0,d=0,N==1)for(m=0,q=q[0],I++;(d<B||m)&&I--;d++)P=m*dn+(L[d]||0),S[d]=P/q|0,m=P%q|0;else{for(m=dn/(q[0]+1)|0,m>1&&(q=t(q,m),L=t(L,m),N=q.length,B=L.length),U=N,E=L.slice(0,N),A=E.length;A<N;)E[A++]=0;R=q.slice(),R.unshift(0),H=q[0],q[1]>=dn/2&&++H;do m=0,c=e(q,E,N,A),c<0?(j=E[0],N!=A&&(j=j*dn+(E[1]||0)),m=j/H|0,m>1?(m>=dn&&(m=dn-1),v=t(q,m),y=v.length,A=E.length,c=e(v,E,y,A),c==1&&(m--,n(v,N<y?R:q,y))):(m==0&&(c=m=1),v=q.slice()),y=v.length,y<A&&v.unshift(0),n(E,v,A),c==-1&&(A=E.length,c=e(q,E,N,A),c<1&&(m++,n(E,N<A?R:q,A))),A=E.length):c===0&&(m++,E=[0]),S[d++]=m,c&&E[0]?E[A++]=L[U]||0:(E=[L[U]],A=1);while((U++<B||E[0]!==void 0)&&I--)}return S[0]||S.shift(),_.e=h,yt(_,u?o+Gt(_)+1:o)}})();function wN(t,e){var n,r,a,o,u,c,h=0,d=0,m=t.constructor,v=m.precision;if(Gt(t)>16)throw Error(sx+Gt(t));if(!t.s)return new m(mr);for(Ot=!1,c=v,u=new m(.03125);t.abs().gte(.1);)t=t.times(u),d+=5;for(r=Math.log(uo(2,d))/Math.LN10*2+5|0,c+=r,n=a=o=new m(mr),m.precision=c;;){if(a=yt(a.times(t),c),n=n.times(++h),u=o.plus(da(a,n,c)),Ai(u.d).slice(0,c)===Ai(o.d).slice(0,c)){for(;d--;)o=yt(o.times(o),c);return m.precision=v,e==null?(Ot=!0,yt(o,v)):o}o=u}}function Gt(t){for(var e=t.e*_t,n=t.d[0];n>=10;n/=10)e++;return e}function l0(t,e,n){if(e>t.LN10.sd())throw Ot=!0,n&&(t.precision=n),Error(qr+"LN10 precision limit exceeded");return yt(new t(t.LN10),e)}function rs(t){for(var e="";t--;)e+="0";return e}function uf(t,e){var n,r,a,o,u,c,h,d,m,v=1,y=10,_=t,S=_.d,E=_.constructor,A=E.precision;if(_.s<1)throw Error(qr+(_.s?"NaN":"-Infinity"));if(_.eq(mr))return new E(0);if(e==null?(Ot=!1,d=A):d=e,_.eq(10))return e==null&&(Ot=!0),l0(E,d);if(d+=y,E.precision=d,n=Ai(S),r=n.charAt(0),o=Gt(_),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)_=_.times(t),n=Ai(_.d),r=n.charAt(0),v++;o=Gt(_),r>1?(_=new E("0."+n),o++):_=new E(r+"."+n.slice(1))}else return h=l0(E,d+2,A).times(o+""),_=uf(new E(r+"."+n.slice(1)),d-y).plus(h),E.precision=A,e==null?(Ot=!0,yt(_,A)):_;for(c=u=_=da(_.minus(mr),_.plus(mr),d),m=yt(_.times(_),d),a=3;;){if(u=yt(u.times(m),d),h=c.plus(da(u,new E(a),d)),Ai(h.d).slice(0,d)===Ai(c.d).slice(0,d))return c=c.times(2),o!==0&&(c=c.plus(l0(E,d+2,A).times(o+""))),c=da(c,new E(v),d),E.precision=A,e==null?(Ot=!0,yt(c,A)):c;c=h,a+=2}}function N2(t,e){var n,r,a;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(r,a),e){if(a-=r,n=n-r-1,t.e=cu(n/_t),t.d=[],r=(n+1)%_t,n<0&&(r+=_t),r<a){for(r&&t.d.push(+e.slice(0,r)),a-=_t;r<a;)t.d.push(+e.slice(r,r+=_t));e=e.slice(r),r=_t-e.length}else r-=a;for(;r--;)e+="0";if(t.d.push(+e),Ot&&(t.e>hm||t.e<-hm))throw Error(sx+n)}else t.s=0,t.e=0,t.d=[0];return t}function yt(t,e,n){var r,a,o,u,c,h,d,m,v=t.d;for(u=1,o=v[0];o>=10;o/=10)u++;if(r=e-u,r<0)r+=_t,a=e,d=v[m=0];else{if(m=Math.ceil((r+1)/_t),o=v.length,m>=o)return t;for(d=o=v[m],u=1;o>=10;o/=10)u++;r%=_t,a=r-_t+u}if(n!==void 0&&(o=uo(10,u-a-1),c=d/o%10|0,h=e<0||v[m+1]!==void 0||d%o,h=n<4?(c||h)&&(n==0||n==(t.s<0?3:2)):c>5||c==5&&(n==4||h||n==6&&(r>0?a>0?d/uo(10,u-a):0:v[m-1])%10&1||n==(t.s<0?8:7))),e<1||!v[0])return h?(o=Gt(t),v.length=1,e=e-o-1,v[0]=uo(10,(_t-e%_t)%_t),t.e=cu(-e/_t)||0):(v.length=1,v[0]=t.e=t.s=0),t;if(r==0?(v.length=m,o=1,m--):(v.length=m+1,o=uo(10,_t-r),v[m]=a>0?(d/uo(10,u-a)%uo(10,a)|0)*o:0),h)for(;;)if(m==0){(v[0]+=o)==dn&&(v[0]=1,++t.e);break}else{if(v[m]+=o,v[m]!=dn)break;v[m--]=0,o=1}for(r=v.length;v[--r]===0;)v.pop();if(Ot&&(t.e>hm||t.e<-hm))throw Error(sx+Gt(t));return t}function EN(t,e){var n,r,a,o,u,c,h,d,m,v,y=t.constructor,_=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),Ot?yt(e,_):e;if(h=t.d,v=e.d,r=e.e,d=t.e,h=h.slice(),u=d-r,u){for(m=u<0,m?(n=h,u=-u,c=v.length):(n=v,r=d,c=h.length),a=Math.max(Math.ceil(_/_t),c)+2,u>a&&(u=a,n.length=1),n.reverse(),a=u;a--;)n.push(0);n.reverse()}else{for(a=h.length,c=v.length,m=a<c,m&&(c=a),a=0;a<c;a++)if(h[a]!=v[a]){m=h[a]<v[a];break}u=0}for(m&&(n=h,h=v,v=n,e.s=-e.s),c=h.length,a=v.length-c;a>0;--a)h[c++]=0;for(a=v.length;a>u;){if(h[--a]<v[a]){for(o=a;o&&h[--o]===0;)h[o]=dn-1;--h[o],h[a]+=dn}h[a]-=v[a]}for(;h[--c]===0;)h.pop();for(;h[0]===0;h.shift())--r;return h[0]?(e.d=h,e.e=r,Ot?yt(e,_):e):new y(0)}function Co(t,e,n){var r,a=Gt(t),o=Ai(t.d),u=o.length;return e?(n&&(r=n-u)>0?o=o.charAt(0)+"."+o.slice(1)+rs(r):u>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(a<0?"e":"e+")+a):a<0?(o="0."+rs(-a-1)+o,n&&(r=n-u)>0&&(o+=rs(r))):a>=u?(o+=rs(a+1-u),n&&(r=n-a-1)>0&&(o=o+"."+rs(r))):((r=a+1)<u&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-u)>0&&(a+1===u&&(o+="."),o+=rs(r))),t.s<0?"-"+o:o}function D2(t,e){if(t.length>e)return t.length=e,!0}function SN(t){var e,n,r;function a(o){var u=this;if(!(u instanceof a))return new a(o);if(u.constructor=a,o instanceof a){u.s=o.s,u.e=o.e,u.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(wo+o);if(o>0)u.s=1;else if(o<0)o=-o,u.s=-1;else{u.s=0,u.e=0,u.d=[0];return}if(o===~~o&&o<1e7){u.e=0,u.d=[o];return}return N2(u,o.toString())}else if(typeof o!="string")throw Error(wo+o);if(o.charCodeAt(0)===45?(o=o.slice(1),u.s=-1):u.s=1,RU.test(o))N2(u,o);else throw Error(wo+o)}if(a.prototype=ye,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=SN,a.config=a.set=IU,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return a.config(t),a}function IU(t){if(!t||typeof t!="object")throw Error(qr+"Object expected");var e,n,r,a=["precision",1,uu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((r=t[n=a[e]])!==void 0)if(cu(r)===r&&r>=a[e+1]&&r<=a[e+2])this[n]=r;else throw Error(wo+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(wo+n+": "+r);return this}var ox=SN(DU);mr=new ox(1);const ut=ox;var MU=t=>t,AN={},TN=t=>t===AN,R2=t=>function e(){return arguments.length===0||arguments.length===1&&TN(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},ON=(t,e)=>t===1?e:R2(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var o=r.filter(u=>u!==AN).length;return o>=t?e(...r):ON(t-o,R2(function(){for(var u=arguments.length,c=new Array(u),h=0;h<u;h++)c[h]=arguments[h];var d=r.map(m=>TN(m)?c.shift():m);return e(...d,...c)}))}),mp=t=>ON(t.length,t),_b=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},kU=mp((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),VU=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return MU;var a=n.reverse(),o=a[0],u=a.slice(1);return function(){return u.reduce((c,h)=>h(c),o(...arguments))}},wb=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),CN=t=>{var e=null,n=null;return function(){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e&&a.every((u,c)=>{var h;return u===((h=e)===null||h===void 0?void 0:h[c])})||(e=a,n=t(...a)),n}};function jN(t){var e;return t===0?e=1:e=Math.floor(new ut(t).abs().log(10).toNumber())+1,e}function PN(t,e,n){for(var r=new ut(t),a=0,o=[];r.lt(e)&&a<1e5;)o.push(r.toNumber()),r=r.add(n),a++;return o}mp((t,e,n)=>{var r=+t,a=+e;return r+n*(a-r)});mp((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});mp((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var NN=t=>{var[e,n]=t,[r,a]=[e,n];return e>n&&([r,a]=[n,e]),[r,a]},DN=(t,e,n)=>{if(t.lte(0))return new ut(0);var r=jN(t.toNumber()),a=new ut(10).pow(r),o=t.div(a),u=r!==1?.05:.1,c=new ut(Math.ceil(o.div(u).toNumber())).add(n).mul(u),h=c.mul(a);return e?new ut(h.toNumber()):new ut(Math.ceil(h.toNumber()))},LU=(t,e,n)=>{var r=new ut(1),a=new ut(t);if(!a.isint()&&n){var o=Math.abs(t);o<1?(r=new ut(10).pow(jN(t)-1),a=new ut(Math.floor(a.div(r).toNumber())).mul(r)):o>1&&(a=new ut(Math.floor(t)))}else t===0?a=new ut(Math.floor((e-1)/2)):n||(a=new ut(Math.floor(t)));var u=Math.floor((e-1)/2),c=VU(kU(h=>a.add(new ut(h-u).mul(r)).toNumber()),_b);return c(0,e)},RN=function(e,n,r,a){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new ut(0),tickMin:new ut(0),tickMax:new ut(0)};var u=DN(new ut(n).sub(e).div(r-1),a,o),c;e<=0&&n>=0?c=new ut(0):(c=new ut(e).add(n).div(2),c=c.sub(new ut(c).mod(u)));var h=Math.ceil(c.sub(e).div(u).toNumber()),d=Math.ceil(new ut(n).sub(c).div(u).toNumber()),m=h+d+1;return m>r?RN(e,n,r,a,o+1):(m<r&&(d=n>0?d+(r-m):d,h=n>0?h:h+(r-m)),{step:u,tickMin:c.sub(new ut(h).mul(u)),tickMax:c.add(new ut(d).mul(u))})};function BU(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(r,2),[u,c]=NN([e,n]);if(u===-1/0||c===1/0){var h=c===1/0?[u,..._b(0,r-1).map(()=>1/0)]:[..._b(0,r-1).map(()=>-1/0),c];return e>n?wb(h):h}if(u===c)return LU(u,r,a);var{step:d,tickMin:m,tickMax:v}=RN(u,c,o,a,0),y=PN(m,v.add(new ut(.1).mul(d)),d);return e>n?wb(y):y}function UU(t,e){var[n,r]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,u]=NN([n,r]);if(o===-1/0||u===1/0)return[n,r];if(o===u)return[o];var c=Math.max(e,2),h=DN(new ut(u).sub(o).div(c-1),a,0),d=[...PN(new ut(o),new ut(u),h),u];return a===!1&&(d=d.map(m=>Math.round(m))),n>r?wb(d):d}var zU=CN(BU),qU=CN(UU),IN=t=>t.rootProps.maxBarSize,$U=t=>t.rootProps.barGap,MN=t=>t.rootProps.barCategoryGap,FU=t=>t.rootProps.barSize,pp=t=>t.rootProps.stackOffset,lx=t=>t.options.chartName,ux=t=>t.rootProps.syncId,kN=t=>t.rootProps.syncMethod,cx=t=>t.options.eventEmitter,la={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},hr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},gp=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},HU={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:la.angleAxisId,includeHidden:!1,name:void 0,reversed:la.reversed,scale:la.scale,tick:la.tick,tickCount:void 0,ticks:void 0,type:la.type,unit:void 0},KU={allowDataOverflow:hr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:hr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:hr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:hr.scale,tick:hr.tick,tickCount:hr.tickCount,ticks:void 0,type:hr.type,unit:void 0},GU={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:la.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:la.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:la.scale,tick:la.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},YU={allowDataOverflow:hr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:hr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:hr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:hr.scale,tick:hr.tick,tickCount:hr.tickCount,ticks:void 0,type:"category",unit:void 0},fx=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?GU:HU,hx=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?YU:KU,vp=t=>t.polarOptions,dx=ne([wa,Ea,vn],B5),VN=ne([vp,dx],(t,e)=>{if(t!=null)return ni(t.innerRadius,e,0)}),LN=ne([vp,dx],(t,e)=>{if(t!=null)return ni(t.outerRadius,e,e*.8)}),XU=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},BN=ne([vp],XU);ne([fx,BN],gp);var UN=ne([dx,VN,LN],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});ne([hx,UN],gp);var zN=ne([rt,vp,VN,LN,wa,Ea],(t,e,n,r,a,o)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:u,cy:c,startAngle:h,endAngle:d}=e;return{cx:ni(u,a,a/2),cy:ni(c,o,o/2),innerRadius:n,outerRadius:r,startAngle:h,endAngle:d,clockWise:!1}}}),Xt=(t,e)=>e,yp=(t,e,n)=>n;function mx(t){return t==null?void 0:t.id}var sn=t=>{var e=rt(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},fu=t=>t.tooltip.settings.axisId,on=t=>{var e=sn(t),n=fu(t);return jf(t,e,n)};function qN(t,e,n){var{chartData:r=[]}=e,a=n==null?void 0:n.dataKey,o=new Map;return t.forEach(u=>{var c,h=(c=u.data)!==null&&c!==void 0?c:r;if(!(h==null||h.length===0)){var d=mx(u);h.forEach((m,v)=>{var y=a==null?v:String(gn(m,a,null)),_=gn(m,u.dataKey,0),S;o.has(y)?S=o.get(y):S={},Object.assign(S,{[d]:_}),o.set(y,S)})}}),Array.from(o.values())}function bp(t){return t.stackId!=null&&t.dataKey!=null}function I2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function dm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I2(Object(n),!0).forEach(function(r){QU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QU(t,e,n){return(e=WU(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WU(t){var e=ZU(t,"string");return typeof e=="symbol"?e:e+""}function ZU(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Eb=[0,"auto"],cr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Aa=(t,e)=>{var n=t.cartesianAxis.xAxis[e];return n??cr},fr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Eb,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:rp},Es=(t,e)=>{var n=t.cartesianAxis.yAxis[e];return n??fr},JU={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},px=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??JU},Jn=(t,e,n)=>{switch(e){case"xAxis":return Aa(t,n);case"yAxis":return Es(t,n);case"zAxis":return px(t,n);case"angleAxis":return fx(t,n);case"radiusAxis":return hx(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},e8=(t,e,n)=>{switch(e){case"xAxis":return Aa(t,n);case"yAxis":return Es(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},jf=(t,e,n)=>{switch(e){case"xAxis":return Aa(t,n);case"yAxis":return Es(t,n);case"angleAxis":return fx(t,n);case"radiusAxis":return hx(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},$N=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function FN(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var xp=t=>t.graphicalItems.cartesianItems,t8=ne([Xt,yp],FN),HN=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),Pf=ne([xp,Jn,t8],HN),KN=ne([Pf],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(bp)),GN=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),YN=ne([Pf],GN),XN=t=>t.map(e=>e.data).filter(Boolean).flat(1),n8=ne([Pf],XN),QN=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:a}=e;return t.length>0?t:n.slice(r,a+1)},gx=ne([n8,dp],QN),WN=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:gn(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(a=>({value:gn(a,r)}))):t.map(r=>({value:r})),_p=ne([gx,Jn,Pf],WN);function ZN(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Vo(t){return t.filter(e=>Ni(e)||e instanceof Date).map(Number).filter(e=>gr(e)===!1)}function r8(t,e,n){return!n||typeof e!="number"||gr(e)?[]:n.length?Vo(n.flatMap(r=>{var a=gn(t,r.dataKey),o,u;if(Array.isArray(a)?[o,u]=a:o=u=a,!(!br(o)||!br(u)))return[e-o,e+u]})):[]}var i8=ne([KN,dp,on],qN),JN=(t,e,n)=>{var r={},a=e.reduce((o,u)=>(u.stackId==null||(o[u.stackId]==null&&(o[u.stackId]=[]),o[u.stackId].push(u)),o),r);return Object.fromEntries(Object.entries(a).map(o=>{var[u,c]=o,h=c.map(mx);return[u,{stackedData:tV(t,h,n),graphicalItems:c}]}))},Sb=ne([i8,KN,pp],JN),eD=(t,e,n)=>{var{dataStartIndex:r,dataEndIndex:a}=e;if(n!=="zAxis"){var o=sV(t,r,a);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},a8=ne([Sb,ws,Xt],eD),tD=(t,e,n,r,a)=>n.length>0?t.flatMap(o=>n.flatMap(u=>{var c,h,d=(c=r[u.id])===null||c===void 0?void 0:c.filter(v=>ZN(a,v)),m=gn(o,(h=e.dataKey)!==null&&h!==void 0?h:u.dataKey);return{value:m,errorDomain:r8(o,m,d)}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(o=>({value:gn(o,e.dataKey),errorDomain:[]})):t.map(o=>({value:o,errorDomain:[]})),wp=t=>t.errorBars,nD=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>ZN(n,r));ne([YN,wp,Xt],nD);var s8=ne([gx,Jn,YN,wp,Xt],tD);function o8(t){var{value:e}=t;if(Ni(e)||e instanceof Date)return e}var M2=t=>{var e=t.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=Vo(e);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},l8=(t,e,n)=>{var r=t.map(o8).filter(a=>a!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&mj(r))?BP(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},vx=t=>{var e;if(t==null||!("domain"in t))return Eb;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=Vo(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:Eb},mm=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=n.filter(Boolean);if(a.length!==0){var o=a.flat(),u=Math.min(...o),c=Math.max(...o);return[u,c]}},rD=t=>t.referenceElements.dots,hu=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),u8=ne([rD,Xt,yp],hu),iD=t=>t.referenceElements.areas,c8=ne([iD,Xt,yp],hu),aD=t=>t.referenceElements.lines,f8=ne([aD,Xt,yp],hu),sD=(t,e)=>{var n=Vo(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},h8=ne(u8,Xt,sD),oD=(t,e)=>{var n=Vo(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},d8=ne([c8,Xt],oD),lD=(t,e)=>{var n=Vo(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},m8=ne(f8,Xt,lD),p8=ne(h8,m8,d8,(t,e,n)=>mm(t,n,e)),g8=ne([Jn],vx),uD=(t,e,n,r,a,o,u)=>{var c=PU(e,t.allowDataOverflow);if(c!=null)return c;var h=o==="vertical"&&u==="xAxis"||o==="horizontal"&&u==="yAxis",d=h?mm(n,a,M2(r)):mm(a,M2(r));return NU(e,d,t.allowDataOverflow)},v8=ne([Jn,g8,a8,s8,p8,rt,Xt],uD),y8=[0,1],cD=(t,e,n,r,a,o,u)=>{if(!((t==null||n==null||n.length===0)&&u===void 0)){var{dataKey:c,type:h}=t,d=bs(e,o);return d&&c==null?BP(0,n.length):h==="category"?l8(r,t,d):a==="expand"?y8:u}},yx=ne([Jn,rt,gx,_p,pp,Xt,v8],cD),fD=(t,e,n,r,a)=>{if(t!=null){var{scale:o,type:u}=t;if(o==="auto")return e==="radial"&&a==="radiusAxis"?"band":e==="radial"&&a==="angleAxis"?"linear":u==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":u==="category"?"band":"linear";if(typeof o=="string"){var c="scale".concat(Ef(o));return c in Bc?c:"point"}}},Nf=ne([Jn,rt,$N,lx,Xt],fD);function b8(t){if(t!=null){if(t in Bc)return Bc[t]();var e="scale".concat(Ef(t));if(e in Bc)return Bc[e]()}}function bx(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var a=b8(e);if(a!=null){var o=a.domain(n).range(r);return Q5(o),o}}}var hD=(t,e,n)=>{var r=vx(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Zl(t))return zU(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Zl(t))return qU(t,e.tickCount,e.allowDecimals)}},xx=ne([yx,jf,Nf],hD),dD=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&Zl(e)&&Array.isArray(n)&&n.length>0){var a=e[0],o=n[0],u=e[1],c=n[n.length-1];return[Math.min(a,o),Math.max(u,c)]}return e},x8=ne([Jn,yx,xx,Xt],dD),_8=ne(_p,Jn,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Vo(t.map(c=>c.value))).sort((c,h)=>c-h);if(r.length<2)return 1/0;var a=r[r.length-1]-r[0];if(a===0)return 1/0;for(var o=0;o<r.length-1;o++){var u=r[o+1]-r[o];n=Math.min(n,u)}return n/a}}),mD=ne(_8,rt,MN,vn,(t,e,n,r)=>r,(t,e,n,r,a)=>{if(!br(t))return 0;var o=e==="vertical"?r.height:r.width;if(a==="gap")return t*o/2;if(a==="no-gap"){var u=ni(n,t*o),c=t*o/2;return c-u-(c-u)/o*u}return 0}),w8=(t,e)=>{var n=Aa(t,e);return n==null||typeof n.padding!="string"?0:mD(t,"xAxis",e,n.padding)},E8=(t,e)=>{var n=Es(t,e);return n==null||typeof n.padding!="string"?0:mD(t,"yAxis",e,n.padding)},S8=ne(Aa,w8,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:a}=t;return typeof a=="string"?{left:e,right:e}:{left:((n=a.left)!==null&&n!==void 0?n:0)+e,right:((r=a.right)!==null&&r!==void 0?r:0)+e}}),A8=ne(Es,E8,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:a}=t;return typeof a=="string"?{top:e,bottom:e}:{top:((n=a.top)!==null&&n!==void 0?n:0)+e,bottom:((r=a.bottom)!==null&&r!==void 0?r:0)+e}}),T8=ne([vn,S8,ap,ip,(t,e,n)=>n],(t,e,n,r,a)=>{var{padding:o}=r;return a?[o.left,n.width-o.right]:[t.left+e.left,t.left+t.width-e.right]}),O8=ne([vn,rt,A8,ap,ip,(t,e,n)=>n],(t,e,n,r,a,o)=>{var{padding:u}=a;return o?[r.height-u.bottom,u.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Df=(t,e,n,r)=>{var a;switch(e){case"xAxis":return T8(t,n,r);case"yAxis":return O8(t,n,r);case"zAxis":return(a=px(t,n))===null||a===void 0?void 0:a.range;case"angleAxis":return BN(t);case"radiusAxis":return UN(t,n);default:return}},pD=ne([Jn,Df],gp),du=ne([Jn,Nf,x8,pD],bx);ne([Pf,wp,Xt],nD);function gD(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var Ep=(t,e)=>e,Sp=(t,e,n)=>n,C8=ne(P1,Ep,Sp,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(gD)),j8=ne(N1,Ep,Sp,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(gD)),vD=(t,e)=>({width:t.width,height:e.height}),P8=(t,e)=>{var n=typeof e.width=="number"?e.width:rp;return{width:n,height:t.height}},yD=ne(vn,Aa,vD),N8=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},D8=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},R8=ne(Ea,vn,C8,Ep,Sp,(t,e,n,r,a)=>{var o={},u;return n.forEach(c=>{var h=vD(e,c);u==null&&(u=N8(e,r,t));var d=r==="top"&&!a||r==="bottom"&&a;o[c.id]=u-Number(d)*h.height,u+=(d?-1:1)*h.height}),o}),I8=ne(wa,vn,j8,Ep,Sp,(t,e,n,r,a)=>{var o={},u;return n.forEach(c=>{var h=P8(e,c);u==null&&(u=D8(e,r,t));var d=r==="left"&&!a||r==="right"&&a;o[c.id]=u-Number(d)*h.width,u+=(d?-1:1)*h.width}),o}),M8=(t,e)=>{var n=vn(t),r=Aa(t,e);if(r!=null){var a=R8(t,r.orientation,r.mirror),o=a[e];return o==null?{x:n.left,y:0}:{x:n.left,y:o}}},k8=(t,e)=>{var n=vn(t),r=Es(t,e);if(r!=null){var a=I8(t,r.orientation,r.mirror),o=a[e];return o==null?{x:0,y:n.top}:{x:o,y:n.top}}},bD=ne(vn,Es,(t,e)=>{var n=typeof e.width=="number"?e.width:rp;return{width:n,height:t.height}}),k2=(t,e,n)=>{switch(e){case"xAxis":return yD(t,n).width;case"yAxis":return bD(t,n).height;default:return}},xD=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:a,type:o,dataKey:u}=n,c=bs(t,r),h=e.map(d=>d.value);if(u&&c&&o==="category"&&a&&mj(h))return h}},_x=ne([rt,_p,Jn,Xt],xD),_D=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:a,scale:o}=n,u=bs(t,r);if(u&&(a==="number"||o!=="auto"))return e.map(c=>c.value)}},wx=ne([rt,_p,jf,Xt],_D),V2=ne([rt,e8,Nf,du,_x,wx,Df,xx,Xt],(t,e,n,r,a,o,u,c,h)=>{if(e==null)return null;var d=bs(t,h);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:h,categoricalDomain:o,duplicateDomain:a,isCategorical:d,niceTicks:c,range:u,realScaleType:n,scale:r}}),V8=(t,e,n,r,a,o,u,c,h)=>{if(!(e==null||r==null)){var d=bs(t,h),{type:m,ticks:v,tickCount:y}=e,_=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,S=m==="category"&&r.bandwidth?r.bandwidth()/_:0;S=h==="angleAxis"&&o!=null&&o.length>=2?Qn(o[0]-o[1])*2*S:S;var E=v||a;if(E){var A=E.map((j,I)=>{var P=u?u.indexOf(j):j;return{index:I,coordinate:r(P)+S,value:j,offset:S}});return A.filter(j=>!gr(j.coordinate))}return d&&c?c.map((j,I)=>({coordinate:r(j)+S,value:j,index:I,offset:S})):r.ticks?r.ticks(y).map(j=>({coordinate:r(j)+S,value:j,offset:S})):r.domain().map((j,I)=>({coordinate:r(j)+S,value:u?u[j]:j,index:I,offset:S}))}},wD=ne([rt,jf,Nf,du,xx,Df,_x,wx,Xt],V8),L8=(t,e,n,r,a,o,u)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var c=bs(t,u),{tickCount:h}=e,d=0;return d=u==="angleAxis"&&(r==null?void 0:r.length)>=2?Qn(r[0]-r[1])*2*d:d,c&&o?o.map((m,v)=>({coordinate:n(m)+d,value:m,index:v,offset:d})):n.ticks?n.ticks(h).map(m=>({coordinate:n(m)+d,value:m,offset:d})):n.domain().map((m,v)=>({coordinate:n(m)+d,value:a?a[m]:m,index:v,offset:d}))}},fs=ne([rt,jf,du,Df,_x,wx,Xt],L8),hs=ne(Jn,du,(t,e)=>{if(!(t==null||e==null))return dm(dm({},t),{},{scale:e})}),B8=ne([Jn,Nf,yx,pD],bx);ne((t,e,n)=>px(t,n),B8,(t,e)=>{if(!(t==null||e==null))return dm(dm({},t),{},{scale:e})});var U8=ne([rt,P1,N1],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),ED=t=>t.options.defaultTooltipEventType,SD=t=>t.options.validateTooltipEventTypes;function AD(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function Ex(t,e){var n=ED(t),r=SD(t);return AD(e,n,r)}function z8(t){return Ee(e=>Ex(e,t))}var TD=(t,e)=>{var n,r=Number(e);if(!(gr(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},q8=t=>t.tooltip.settings,is={active:!1,index:null,dataKey:void 0,coordinate:void 0},$8={itemInteraction:{click:is,hover:is},axisInteraction:{click:is,hover:is},keyboardInteraction:is,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},OD=xr({name:"tooltip",initialState:$8,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var n=ha(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:F8,removeTooltipEntrySettings:H8,setTooltipSettingsState:K8,setActiveMouseOverItemIndex:CD,mouseLeaveItem:G8,mouseLeaveChart:jD,setActiveClickItemIndex:Y8,setMouseOverAxisIndex:PD,setMouseClickAxisIndex:X8,setSyncInteraction:Ab,setKeyboardInteraction:Tb}=OD.actions,Q8=OD.reducer;function L2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function _d(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L2(Object(n),!0).forEach(function(r){W8(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function W8(t,e,n){return(e=Z8(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Z8(t){var e=J8(t,"string");return typeof e=="symbol"?e:e+""}function J8(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ez(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function tz(t){return t.index!=null}var ND=(t,e,n,r)=>{if(e==null)return is;var a=ez(t,e,n);if(a==null)return is;if(a.active)return a;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var o=t.settings.active===!0;if(tz(a)){if(o)return _d(_d({},a),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return _d(_d({},is),{},{coordinate:a.coordinate})},Sx=(t,e)=>{var n=t==null?void 0:t.index;if(n==null)return null;var r=Number(n);if(!br(r))return n;var a=0,o=1/0;return e.length>0&&(o=e.length-1),String(Math.max(a,Math.min(r,o)))},DD=(t,e,n,r,a,o,u,c)=>{if(!(o==null||c==null)){var h=u[0],d=h==null?void 0:c(h.positions,o);if(d!=null)return d;var m=a==null?void 0:a[Number(o)];if(m)switch(n){case"horizontal":return{x:m.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:m.coordinate}}}},RD=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var a;return n==="hover"?a=t.itemInteraction.hover.dataKey:a=t.itemInteraction.click.dataKey,a==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(o=>{var u;return((u=o.settings)===null||u===void 0?void 0:u.dataKey)===a})},Rf=t=>t.options.tooltipPayloadSearcher,mu=t=>t.tooltip;function B2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function U2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B2(Object(n),!0).forEach(function(r){nz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nz(t,e,n){return(e=rz(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rz(t){var e=iz(t,"string");return typeof e=="symbol"?e:e+""}function iz(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function az(t,e){return t??e}var ID=(t,e,n,r,a,o,u)=>{if(!(e==null||o==null)){var{chartData:c,computedData:h,dataStartIndex:d,dataEndIndex:m}=n,v=[];return t.reduce((y,_)=>{var S,{dataDefinedOnItem:E,settings:A}=_,j=az(E,c),I=Array.isArray(j)?xP(j,d,m):j,P=(S=A==null?void 0:A.dataKey)!==null&&S!==void 0?S:r==null?void 0:r.dataKey,U=A==null?void 0:A.nameKey,B;if(r!=null&&r.dataKey&&Array.isArray(I)&&!Array.isArray(I[0])&&u==="axis"?B=pj(I,r.dataKey,a):B=o(I,e,h,U),Array.isArray(B))B.forEach(N=>{var R=U2(U2({},A),{},{name:N.name,unit:N.unit,color:void 0,fill:void 0});y.push(bT({tooltipEntrySettings:R,dataKey:N.dataKey,payload:N.payload,value:gn(N.payload,N.dataKey),name:N.name}))});else{var H;y.push(bT({tooltipEntrySettings:A,dataKey:P,payload:B,value:gn(B,P),name:(H=gn(B,U))!==null&&H!==void 0?H:A==null?void 0:A.name}))}return y},v)}},Ax=ne([on,rt,$N,lx,sn],fD),sz=ne([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),oz=ne([sn,fu],FN),If=ne([sz,on,oz],HN),lz=ne([If],t=>t.filter(bp)),uz=ne([If],XN),pu=ne([uz,ws],QN),cz=ne([lz,ws,on],qN),Tx=ne([pu,on,If],WN),fz=ne([on],vx),hz=ne([If],t=>t.filter(bp)),dz=ne([cz,hz,pp],JN),mz=ne([dz,ws,sn],eD),pz=ne([If],GN),gz=ne([pu,on,pz,wp,sn],tD),vz=ne([rD,sn,fu],hu),yz=ne([vz,sn],sD),bz=ne([iD,sn,fu],hu),xz=ne([bz,sn],oD),_z=ne([aD,sn,fu],hu),wz=ne([_z,sn],lD),Ez=ne([yz,wz,xz],mm),Sz=ne([on,fz,mz,gz,Ez,rt,sn],uD),MD=ne([on,rt,pu,Tx,pp,sn,Sz],cD),Az=ne([MD,on,Ax],hD),Tz=ne([on,MD,Az,sn],dD),kD=t=>{var e=sn(t),n=fu(t),r=!1;return Df(t,e,n,r)},VD=ne([on,kD],gp),LD=ne([on,Ax,Tz,VD],bx),Oz=ne([rt,Tx,on,sn],xD),Cz=ne([rt,Tx,on,sn],_D),jz=(t,e,n,r,a,o,u,c)=>{if(e){var{type:h}=e,d=bs(t,c);if(r){var m=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,v=h==="category"&&r.bandwidth?r.bandwidth()/m:0;return v=c==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?Qn(a[0]-a[1])*2*v:v,d&&u?u.map((y,_)=>({coordinate:r(y)+v,value:y,index:_,offset:v})):r.domain().map((y,_)=>({coordinate:r(y)+v,value:o?o[y]:y,index:_,offset:v}))}}},Ta=ne([rt,on,Ax,LD,kD,Oz,Cz,sn],jz),Ox=ne([ED,SD,q8],(t,e,n)=>AD(n.shared,t,e)),BD=t=>t.tooltip.settings.trigger,Cx=t=>t.tooltip.settings.defaultIndex,Ap=ne([mu,Ox,BD,Cx],ND),jo=ne([Ap,pu],Sx),UD=ne([Ta,jo],TD),zD=ne([Ap],t=>{if(t)return t.dataKey}),qD=ne([mu,Ox,BD,Cx],RD),Pz=ne([wa,Ea,rt,vn,Ta,Cx,qD,Rf],DD),Nz=ne([Ap,Pz],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),Dz=ne([Ap],t=>t.active),Rz=ne([qD,jo,ws,on,UD,Rf,Ox],ID),Iz=ne([Rz],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function z2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function q2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z2(Object(n),!0).forEach(function(r){Mz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mz(t,e,n){return(e=kz(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kz(t){var e=Vz(t,"string");return typeof e=="symbol"?e:e+""}function Vz(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lz=()=>Ee(on),Bz=()=>{var t=Lz(),e=Ee(Ta),n=Ee(LD);return tf(q2(q2({},t),{},{scale:n}),e)},Uz=()=>Ee(lx),jx=(t,e)=>e,$D=(t,e,n)=>n,Px=(t,e,n,r)=>r,zz=ne(Ta,t=>Xm(t,e=>e.coordinate)),Nx=ne([mu,jx,$D,Px],ND),FD=ne([Nx,pu],Sx),qz=(t,e,n)=>{if(e!=null){var r=mu(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},HD=ne([mu,jx,$D,Px],RD),pm=ne([wa,Ea,rt,vn,Ta,Px,HD,Rf],DD),$z=ne([Nx,pm],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),KD=ne(Ta,FD,TD),Fz=ne([HD,FD,ws,on,KD,Rf,jx],ID),Hz=ne([Nx],t=>({isActive:t.active,activeIndex:t.index})),Kz=(t,e,n,r,a,o,u,c)=>{if(!(!t||!e||!r||!a||!o)){var h=oV(t.chartX,t.chartY,e,n,c);if(h){var d=uV(h,e),m=Y5(d,u,o,r,a),v=lV(e,o,m,h);return{activeIndex:String(m),activeCoordinate:v}}}};function Ob(){return Ob=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ob.apply(null,arguments)}function $2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function wd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$2(Object(n),!0).forEach(function(r){Gz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gz(t,e,n){return(e=Yz(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yz(t){var e=Xz(t,"string");return typeof e=="symbol"?e:e+""}function Xz(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qz(t){var{coordinate:e,payload:n,index:r,offset:a,tooltipAxisBandSize:o,layout:u,cursor:c,tooltipEventType:h,chartName:d}=t,m=e,v=n,y=r;if(!c||!m||d!=="ScatterChart"&&h!=="axis")return null;var _,S;if(d==="ScatterChart")_=m,S=cL;else if(d==="BarChart")_=fL(u,m,a,o),S=MP;else if(u==="radial"){var{cx:E,cy:A,radius:j,startAngle:I,endAngle:P}=kP(m);_={cx:E,cy:A,startAngle:I,endAngle:P,innerRadius:j,outerRadius:j},S=LP}else _={points:XL(u,m,a)},S=CP;var U=typeof c=="object"&&"className"in c?c.className:void 0,B=wd(wd(wd(wd({stroke:"#ccc",pointerEvents:"none"},a),_),kt(c,!1)),{},{payload:v,payloadIndex:y,className:ct("recharts-tooltip-cursor",U)});return C.isValidElement(c)?C.cloneElement(c,B):C.createElement(S,B)}function Wz(t){var e=Bz(),n=AP(),r=sp(),a=Uz();return C.createElement(Qz,Ob({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:n,layout:r,tooltipAxisBandSize:e,chartName:a}))}var GD=C.createContext(null),Zz=()=>C.useContext(GD),u0={exports:{}},F2;function Jz(){return F2||(F2=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(h,d,m){this.fn=h,this.context=d,this.once=m||!1}function o(h,d,m,v,y){if(typeof m!="function")throw new TypeError("The listener must be a function");var _=new a(m,v||h,y),S=n?n+d:d;return h._events[S]?h._events[S].fn?h._events[S]=[h._events[S],_]:h._events[S].push(_):(h._events[S]=_,h._eventsCount++),h}function u(h,d){--h._eventsCount===0?h._events=new r:delete h._events[d]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var d=[],m,v;if(this._eventsCount===0)return d;for(v in m=this._events)e.call(m,v)&&d.push(n?v.slice(1):v);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(m)):d},c.prototype.listeners=function(d){var m=n?n+d:d,v=this._events[m];if(!v)return[];if(v.fn)return[v.fn];for(var y=0,_=v.length,S=new Array(_);y<_;y++)S[y]=v[y].fn;return S},c.prototype.listenerCount=function(d){var m=n?n+d:d,v=this._events[m];return v?v.fn?1:v.length:0},c.prototype.emit=function(d,m,v,y,_,S){var E=n?n+d:d;if(!this._events[E])return!1;var A=this._events[E],j=arguments.length,I,P;if(A.fn){switch(A.once&&this.removeListener(d,A.fn,void 0,!0),j){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,m),!0;case 3:return A.fn.call(A.context,m,v),!0;case 4:return A.fn.call(A.context,m,v,y),!0;case 5:return A.fn.call(A.context,m,v,y,_),!0;case 6:return A.fn.call(A.context,m,v,y,_,S),!0}for(P=1,I=new Array(j-1);P<j;P++)I[P-1]=arguments[P];A.fn.apply(A.context,I)}else{var U=A.length,B;for(P=0;P<U;P++)switch(A[P].once&&this.removeListener(d,A[P].fn,void 0,!0),j){case 1:A[P].fn.call(A[P].context);break;case 2:A[P].fn.call(A[P].context,m);break;case 3:A[P].fn.call(A[P].context,m,v);break;case 4:A[P].fn.call(A[P].context,m,v,y);break;default:if(!I)for(B=1,I=new Array(j-1);B<j;B++)I[B-1]=arguments[B];A[P].fn.apply(A[P].context,I)}}return!0},c.prototype.on=function(d,m,v){return o(this,d,m,v,!1)},c.prototype.once=function(d,m,v){return o(this,d,m,v,!0)},c.prototype.removeListener=function(d,m,v,y){var _=n?n+d:d;if(!this._events[_])return this;if(!m)return u(this,_),this;var S=this._events[_];if(S.fn)S.fn===m&&(!y||S.once)&&(!v||S.context===v)&&u(this,_);else{for(var E=0,A=[],j=S.length;E<j;E++)(S[E].fn!==m||y&&!S[E].once||v&&S[E].context!==v)&&A.push(S[E]);A.length?this._events[_]=A.length===1?A[0]:A:u(this,_)}return this},c.prototype.removeAllListeners=function(d){var m;return d?(m=n?n+d:d,this._events[m]&&u(this,m)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c})(u0)),u0.exports}var e7=Jz();const t7=ii(e7);var cf=new t7,Cb="recharts.syncEvent.tooltip",H2="recharts.syncEvent.brush";function YD(t,e){if(e){var n=Number.parseInt(e,10);if(!gr(n))return t==null?void 0:t[n]}}var n7={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},XD=xr({name:"options",initialState:n7,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),r7=XD.reducer,{createEventEmitter:i7}=XD.actions;function a7(t){return t.tooltip.syncInteraction}var s7={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},QD=xr({name:"chartData",initialState:s7,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:K2,setDataStartEndIndexes:o7,setComputedData:kZ}=QD.actions,l7=QD.reducer,WD=()=>{};function u7(){var t=Ee(ux),e=Ee(cx),n=Yt(),r=Ee(kN),a=Ee(Ta),o=sp(),u=D1(),c=Ee(h=>h.rootProps.className);C.useEffect(()=>{if(t==null)return WD;var h=(d,m,v)=>{if(e!==v&&t===d){if(r==="index"){n(m);return}if(a!=null){var y;if(typeof r=="function"){var _={activeTooltipIndex:m.payload.index==null?void 0:Number(m.payload.index),isTooltipActive:m.payload.active,activeIndex:m.payload.index==null?void 0:Number(m.payload.index),activeLabel:m.payload.label,activeDataKey:m.payload.dataKey,activeCoordinate:m.payload.coordinate},S=r(a,_);y=a[S]}else r==="value"&&(y=a.find(H=>String(H.value)===m.payload.label));var{coordinate:E}=m.payload;if(y==null||m.payload.active===!1||E==null||u==null){n(Ab({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:A,y:j}=E,I=Math.min(A,u.x+u.width),P=Math.min(j,u.y+u.height),U={x:o==="horizontal"?y.coordinate:I,y:o==="horizontal"?P:y.coordinate},B=Ab({active:m.payload.active,coordinate:U,dataKey:m.payload.dataKey,index:String(y.index),label:m.payload.label});n(B)}}};return cf.on(Cb,h),()=>{cf.off(Cb,h)}},[c,n,e,t,r,a,o,u])}function c7(){var t=Ee(ux),e=Ee(cx),n=Yt();C.useEffect(()=>{if(t==null)return WD;var r=(a,o,u)=>{e!==u&&t===a&&n(o7(o))};return cf.on(H2,r),()=>{cf.off(H2,r)}},[n,e,t])}function f7(){var t=Yt();C.useEffect(()=>{t(i7())},[t]),u7(),c7()}function h7(t,e,n,r,a,o){var u=Ee(y=>qz(y,t,e)),c=Ee(cx),h=Ee(ux),d=Ee(kN),m=Ee(a7),v=m==null?void 0:m.active;C.useEffect(()=>{if(!v&&h!=null&&c!=null){var y=Ab({active:o,coordinate:n,dataKey:u,index:a,label:typeof r=="number"?String(r):r});cf.emit(Cb,h,y,c)}},[v,n,u,a,r,c,h,d,o])}function G2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Y2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G2(Object(n),!0).forEach(function(r){d7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function d7(t,e,n){return(e=m7(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m7(t){var e=p7(t,"string");return typeof e=="symbol"?e:e+""}function p7(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function g7(t){return t.dataKey}function v7(t,e){return C.isValidElement(t)?C.cloneElement(t,e):typeof t=="function"?C.createElement(t,e):C.createElement(qV,e)}var X2=[],y7={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!ou.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Q2(t){var e=Mi(t,y7),{active:n,allowEscapeViewBox:r,animationDuration:a,animationEasing:o,content:u,filterNull:c,isAnimationActive:h,offset:d,payloadUniqBy:m,position:v,reverseDirection:y,useTranslate3d:_,wrapperStyle:S,cursor:E,shared:A,trigger:j,defaultIndex:I,portal:P,axisId:U}=e,B=Yt(),H=typeof I=="number"?String(I):I;C.useEffect(()=>{B(K8({shared:A,trigger:j,axisId:U,active:n,defaultIndex:H}))},[B,A,j,U,n,H]);var N=D1(),R=OP(),k=z8(A),{activeIndex:$,isActive:L}=Ee(Oe=>Hz(Oe,k,j,H)),q=Ee(Oe=>Fz(Oe,k,j,H)),V=Ee(Oe=>KD(Oe,k,j,H)),Ce=Ee(Oe=>$z(Oe,k,j,H)),Se=q,X=Zz(),ue=n??L,[ee,de]=Xj([Se,ue]),z=k==="axis"?V:void 0;h7(k,j,Ce,z,$,ue);var re=P??X;if(re==null)return null;var ie=Se??X2;ue||(ie=X2),c&&ie.length&&(ie=Fj(Se.filter(Oe=>Oe.value!=null&&(Oe.hide!==!0||e.includeHidden)),m,g7));var ce=ie.length>0,ge=C.createElement(XV,{allowEscapeViewBox:r,animationDuration:a,animationEasing:o,isAnimationActive:h,active:ue,coordinate:Ce,hasPayload:ce,offset:d,position:v,reverseDirection:y,useTranslate3d:_,viewBox:N,wrapperStyle:S,lastBoundingBox:ee,innerRef:de,hasPortalFromProps:!!P},v7(u,Y2(Y2({},e),{},{payload:ie,label:z,active:ue,coordinate:Ce,accessibilityLayer:R})));return C.createElement(C.Fragment,null,bj.createPortal(ge,re),ue&&C.createElement(Wz,{cursor:E,tooltipEventType:k,coordinate:Ce,payload:Se,index:$}))}var c0={},f0={},h0={},W2;function b7(){return W2||(W2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:a,edges:o}={}){let u,c=null;const h=o!=null&&o.includes("leading"),d=o==null||o.includes("trailing"),m=()=>{c!==null&&(n.apply(u,c),u=void 0,c=null)},v=()=>{d&&m(),E()};let y=null;const _=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,v()},r)},S=()=>{y!==null&&(clearTimeout(y),y=null)},E=()=>{S(),u=void 0,c=null},A=()=>{m()},j=function(...I){if(a!=null&&a.aborted)return;u=this,c=I;const P=y==null;_(),h&&P&&m()};return j.schedule=_,j.cancel=E,j.flush=A,a==null||a.addEventListener("abort",E,{once:!0}),j}t.debounce=e})(h0)),h0}var Z2;function x7(){return Z2||(Z2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=b7();function n(r,a=0,o={}){typeof o!="object"&&(o={});const{leading:u=!1,trailing:c=!0,maxWait:h}=o,d=Array(2);u&&(d[0]="leading"),c&&(d[1]="trailing");let m,v=null;const y=e.debounce(function(...E){m=r.apply(this,E),v=null},a,{edges:d}),_=function(...E){return h!=null&&(v===null&&(v=Date.now()),Date.now()-v>=h)?(m=r.apply(this,E),v=Date.now(),y.cancel(),y.schedule(),m):(y.apply(this,E),m)},S=()=>(y.flush(),m);return _.cancel=y.cancel,_.flush=S,_}t.debounce=n})(f0)),f0}var J2;function _7(){return J2||(J2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=x7();function n(r,a=0,o={}){const{leading:u=!0,trailing:c=!0}=o;return e.debounce(r,a,{leading:u,maxWait:a,trailing:c})}t.throttle=n})(c0)),c0}var d0,eO;function w7(){return eO||(eO=1,d0=_7().throttle),d0}var E7=w7();const S7=ii(E7);var Fc=function(e,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o]};function tO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function m0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tO(Object(n),!0).forEach(function(r){A7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function A7(t,e,n){return(e=T7(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T7(t){var e=O7(t,"string");return typeof e=="symbol"?e:e+""}function O7(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var C7=C.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:a="100%",height:o="100%",minWidth:u=0,minHeight:c,maxHeight:h,children:d,debounce:m=0,id:v,className:y,onResize:_,style:S={}}=t,E=C.useRef(null),A=C.useRef();A.current=_,C.useImperativeHandle(e,()=>E.current);var[j,I]=C.useState({containerWidth:r.width,containerHeight:r.height}),P=C.useCallback((B,H)=>{I(N=>{var R=Math.round(B),k=Math.round(H);return N.containerWidth===R&&N.containerHeight===k?N:{containerWidth:R,containerHeight:k}})},[]);C.useEffect(()=>{var B=k=>{var $,{width:L,height:q}=k[0].contentRect;P(L,q),($=A.current)===null||$===void 0||$.call(A,L,q)};m>0&&(B=S7(B,m,{trailing:!0,leading:!1}));var H=new ResizeObserver(B),{width:N,height:R}=E.current.getBoundingClientRect();return P(N,R),H.observe(E.current),()=>{H.disconnect()}},[P,m]);var U=C.useMemo(()=>{var{containerWidth:B,containerHeight:H}=j;if(B<0||H<0)return null;Fc(ho(a)||ho(o),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,o),Fc(!n||n>0,"The aspect(%s) must be greater than zero.",n);var N=ho(a)?B:a,R=ho(o)?H:o;return n&&n>0&&(N?R=N/n:R&&(N=R*n),h&&R>h&&(R=h)),Fc(N>0||R>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,N,R,a,o,u,c,n),C.Children.map(d,k=>C.cloneElement(k,{width:N,height:R,style:m0({width:N,height:R},k.props.style)}))},[n,d,o,h,c,u,j,a]);return C.createElement("div",{id:v?"".concat(v):void 0,className:ct("recharts-responsive-container",y),style:m0(m0({},S),{},{width:a,height:o,minWidth:u,minHeight:c,maxHeight:h}),ref:E},C.createElement("div",{style:{width:0,height:0,overflow:"visible"}},U))}),ZD=t=>null;ZD.displayName="Cell";function j7(t,e,n){return(e=P7(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P7(t){var e=N7(t,"string");return typeof e=="symbol"?e:e+""}function N7(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class D7{constructor(e){j7(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function nO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function R7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nO(Object(n),!0).forEach(function(r){I7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function I7(t,e,n){return(e=M7(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M7(t){var e=k7(t,"string");return typeof e=="symbol"?e:e+""}function k7(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var V7={cacheSize:2e3,enableCache:!0},JD=R7({},V7),rO=new D7(JD.cacheSize),L7={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},iO="recharts_measurement_span";function B7(t,e){var n=e.fontSize||"",r=e.fontFamily||"",a=e.fontWeight||"",o=e.fontStyle||"",u=e.letterSpacing||"",c=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(a,"|").concat(o,"|").concat(u,"|").concat(c)}var aO=(t,e)=>{try{var n=document.getElementById(iO);n||(n=document.createElement("span"),n.setAttribute("id",iO),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,L7,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Hc=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||ou.isSsr)return{width:0,height:0};if(!JD.enableCache)return aO(e,n);var r=B7(e,n),a=rO.get(r);if(a)return a;var o=aO(e,n);return rO.set(r,o),o},sO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,oO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,U7=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,z7=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,eR={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},q7=Object.keys(eR),Ll="NaN";function $7(t,e){return t*eR[e]}class Yn{static parse(e){var n,[,r,a]=(n=z7.exec(e))!==null&&n!==void 0?n:[];return new Yn(parseFloat(r),a??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,gr(e)&&(this.unit=""),n!==""&&!U7.test(n)&&(this.num=NaN,this.unit=""),q7.includes(n)&&(this.num=$7(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Yn(NaN,""):new Yn(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Yn(NaN,""):new Yn(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Yn(NaN,""):new Yn(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Yn(NaN,""):new Yn(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return gr(this.num)}}function tR(t){if(t.includes(Ll))return Ll;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,a,o]=(n=sO.exec(e))!==null&&n!==void 0?n:[],u=Yn.parse(r??""),c=Yn.parse(o??""),h=a==="*"?u.multiply(c):u.divide(c);if(h.isNaN())return Ll;e=e.replace(sO,h.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,[,m,v,y]=(d=oO.exec(e))!==null&&d!==void 0?d:[],_=Yn.parse(m??""),S=Yn.parse(y??""),E=v==="+"?_.add(S):_.subtract(S);if(E.isNaN())return Ll;e=e.replace(oO,E.toString())}return e}var lO=/\(([^()]*)\)/;function F7(t){for(var e=t,n;(n=lO.exec(e))!=null;){var[,r]=n;e=e.replace(lO,tR(r))}return e}function H7(t){var e=t.replace(/\s+/g,"");return e=F7(e),e=tR(e),e}function K7(t){try{return H7(t)}catch{return Ll}}function p0(t){var e=K7(t.slice(5,-1));return e===Ll?"":e}var G7=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Y7=["dx","dy","angle","className","breakAll"];function jb(){return jb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jb.apply(null,arguments)}function uO(t,e){if(t==null)return{};var n,r,a=X7(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function X7(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var nR=/[ \f\n\r\t\v\u2028\u2029]+/,rR=t=>{var{children:e,breakAll:n,style:r}=t;try{var a=[];Et(e)||(n?a=e.toString().split(""):a=e.toString().split(nR));var o=a.map(c=>({word:c,width:Hc(c,r).width})),u=n?0:Hc(" ",r).width;return{wordsWithComputedWidth:o,spaceWidth:u}}catch{return null}},Q7=(t,e,n,r,a)=>{var{maxLines:o,children:u,style:c,breakAll:h}=t,d=xe(o),m=u,v=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return L.reduce((q,V)=>{var{word:Ce,width:Se}=V,X=q[q.length-1];if(X&&(r==null||a||X.width+Se+n<Number(r)))X.words.push(Ce),X.width+=Se+n;else{var ue={words:[Ce],width:Se};q.push(ue)}return q},[])},y=v(e),_=$=>$.reduce((L,q)=>L.width>q.width?L:q);if(!d||a)return y;var S=y.length>o||_(y).width>Number(r);if(!S)return y;for(var E="…",A=$=>{var L=m.slice(0,$),q=rR({breakAll:h,style:c,children:L+E}).wordsWithComputedWidth,V=v(q),Ce=V.length>o||_(V).width>Number(r);return[Ce,V]},j=0,I=m.length-1,P=0,U;j<=I&&P<=m.length-1;){var B=Math.floor((j+I)/2),H=B-1,[N,R]=A(H),[k]=A(B);if(!N&&!k&&(j=B+1),N&&k&&(I=B-1),!N&&k){U=R;break}P++}return U||y},cO=t=>{var e=Et(t)?[]:t.toString().split(nR);return[{words:e}]},W7=t=>{var{width:e,scaleToFit:n,children:r,style:a,breakAll:o,maxLines:u}=t;if((e||n)&&!ou.isSsr){var c,h,d=rR({breakAll:o,children:r,style:a});if(d){var{wordsWithComputedWidth:m,spaceWidth:v}=d;c=m,h=v}else return cO(r);return Q7({breakAll:o,children:r,maxLines:u,style:a},c,h,e,n)}return cO(r)},fO="#808080",Dx=C.forwardRef((t,e)=>{var{x:n=0,y:r=0,lineHeight:a="1em",capHeight:o="0.71em",scaleToFit:u=!1,textAnchor:c="start",verticalAnchor:h="end",fill:d=fO}=t,m=uO(t,G7),v=C.useMemo(()=>W7({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:u,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,u,m.style,m.width]),{dx:y,dy:_,angle:S,className:E,breakAll:A}=m,j=uO(m,Y7);if(!Ni(n)||!Ni(r))return null;var I=n+(xe(y)?y:0),P=r+(xe(_)?_:0),U;switch(h){case"start":U=p0("calc(".concat(o,")"));break;case"middle":U=p0("calc(".concat((v.length-1)/2," * -").concat(a," + (").concat(o," / 2))"));break;default:U=p0("calc(".concat(v.length-1," * -").concat(a,")"));break}var B=[];if(u){var H=v[0].width,{width:N}=m;B.push("scale(".concat(xe(N)?N/H:1,")"))}return S&&B.push("rotate(".concat(S,", ").concat(I,", ").concat(P,")")),B.length&&(j.transform=B.join(" ")),C.createElement("text",jb({},kt(j,!0),{ref:e,x:I,y:P,className:ct("recharts-text",E),textAnchor:c,fill:d.includes("url")?fO:d}),v.map((R,k)=>{var $=R.words.join(A?"":" ");return C.createElement("tspan",{x:I,dy:k===0?U:a,key:"".concat($,"-").concat(k)},$)}))});Dx.displayName="Text";var Z7=["offset"],J7=["labelRef"];function hO(t,e){if(t==null)return{};var n,r,a=eq(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function eq(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function dO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Mt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dO(Object(n),!0).forEach(function(r){tq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tq(t,e,n){return(e=nq(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nq(t){var e=rq(t,"string");return typeof e=="symbol"?e:e+""}function rq(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ua(){return ua=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ua.apply(null,arguments)}var iq=t=>{var{value:e,formatter:n}=t,r=Et(t.children)?e:t.children;return typeof n=="function"?n(r):r},Rx=t=>t!=null&&typeof t=="function",aq=(t,e)=>{var n=Qn(e-t),r=Math.min(Math.abs(e-t),360);return n*r},sq=(t,e,n,r)=>{var{position:a,offset:o,className:u}=t,{cx:c,cy:h,innerRadius:d,outerRadius:m,startAngle:v,endAngle:y,clockWise:_}=r,S=(d+m)/2,E=aq(v,y),A=E>=0?1:-1,j,I;a==="insideStart"?(j=v+A*o,I=_):a==="insideEnd"?(j=y-A*o,I=!_):a==="end"&&(j=y+A*o,I=_),I=E<=0?I:!I;var P=Cn(c,h,S,j),U=Cn(c,h,S,j+(I?1:-1)*359),B="M".concat(P.x,",").concat(P.y,`
    A`).concat(S,",").concat(S,",0,1,").concat(I?0:1,`,
    `).concat(U.x,",").concat(U.y),H=Et(t.id)?Zc("recharts-radial-line-"):t.id;return C.createElement("text",ua({},n,{dominantBaseline:"central",className:ct("recharts-radial-bar-label",u)}),C.createElement("defs",null,C.createElement("path",{id:H,d:B})),C.createElement("textPath",{xlinkHref:"#".concat(H)},e))},oq=(t,e,n)=>{var{cx:r,cy:a,innerRadius:o,outerRadius:u,startAngle:c,endAngle:h}=t,d=(c+h)/2;if(n==="outside"){var{x:m,y:v}=Cn(r,a,u+e,d);return{x:m,y:v,textAnchor:m>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"end"};var y=(o+u)/2,{x:_,y:S}=Cn(r,a,y,d);return{x:_,y:S,textAnchor:"middle",verticalAnchor:"middle"}},lq=(t,e)=>{var{parentViewBox:n,offset:r,position:a}=t,{x:o,y:u,width:c,height:h}=e,d=h>=0?1:-1,m=d*r,v=d>0?"end":"start",y=d>0?"start":"end",_=c>=0?1:-1,S=_*r,E=_>0?"end":"start",A=_>0?"start":"end";if(a==="top"){var j={x:o+c/2,y:u-d*r,textAnchor:"middle",verticalAnchor:v};return Mt(Mt({},j),n?{height:Math.max(u-n.y,0),width:c}:{})}if(a==="bottom"){var I={x:o+c/2,y:u+h+m,textAnchor:"middle",verticalAnchor:y};return Mt(Mt({},I),n?{height:Math.max(n.y+n.height-(u+h),0),width:c}:{})}if(a==="left"){var P={x:o-S,y:u+h/2,textAnchor:E,verticalAnchor:"middle"};return Mt(Mt({},P),n?{width:Math.max(P.x-n.x,0),height:h}:{})}if(a==="right"){var U={x:o+c+S,y:u+h/2,textAnchor:A,verticalAnchor:"middle"};return Mt(Mt({},U),n?{width:Math.max(n.x+n.width-U.x,0),height:h}:{})}var B=n?{width:c,height:h}:{};return a==="insideLeft"?Mt({x:o+S,y:u+h/2,textAnchor:A,verticalAnchor:"middle"},B):a==="insideRight"?Mt({x:o+c-S,y:u+h/2,textAnchor:E,verticalAnchor:"middle"},B):a==="insideTop"?Mt({x:o+c/2,y:u+m,textAnchor:"middle",verticalAnchor:y},B):a==="insideBottom"?Mt({x:o+c/2,y:u+h-m,textAnchor:"middle",verticalAnchor:v},B):a==="insideTopLeft"?Mt({x:o+S,y:u+m,textAnchor:A,verticalAnchor:y},B):a==="insideTopRight"?Mt({x:o+c-S,y:u+m,textAnchor:E,verticalAnchor:y},B):a==="insideBottomLeft"?Mt({x:o+S,y:u+h-m,textAnchor:A,verticalAnchor:v},B):a==="insideBottomRight"?Mt({x:o+c-S,y:u+h-m,textAnchor:E,verticalAnchor:v},B):a&&typeof a=="object"&&(xe(a.x)||ho(a.x))&&(xe(a.y)||ho(a.y))?Mt({x:o+ni(a.x,c),y:u+ni(a.y,h),textAnchor:"end",verticalAnchor:"end"},B):Mt({x:o+c/2,y:u+h/2,textAnchor:"middle",verticalAnchor:"middle"},B)},uq=t=>"cx"in t&&xe(t.cx);function dr(t){var{offset:e=5}=t,n=hO(t,Z7),r=Mt({offset:e},n),{viewBox:a,position:o,value:u,children:c,content:h,className:d="",textBreakAll:m,labelRef:v}=r,y=Ee(zN),_=D1(),S=o==="center"?_:y??_,E=a||S;if(!E||Et(u)&&Et(c)&&!C.isValidElement(h)&&typeof h!="function")return null;var A=Mt(Mt({},r),{},{viewBox:E});if(C.isValidElement(h)){var{labelRef:j}=A,I=hO(A,J7);return C.cloneElement(h,I)}var P;if(typeof h=="function"){if(P=C.createElement(h,A),C.isValidElement(P))return P}else P=iq(r);var U=uq(E),B=kt(r,!0);if(U&&(o==="insideStart"||o==="insideEnd"||o==="end"))return sq(r,P,B,E);var H=U?oq(E,r.offset,r.position):lq(r,E);return C.createElement(Dx,ua({ref:v,className:ct("recharts-label",d)},B,H,{breakAll:m}),P)}dr.displayName="Label";var iR=t=>{var{cx:e,cy:n,angle:r,startAngle:a,endAngle:o,r:u,radius:c,innerRadius:h,outerRadius:d,x:m,y:v,top:y,left:_,width:S,height:E,clockWise:A,labelViewBox:j}=t;if(j)return j;if(xe(S)&&xe(E)){if(xe(m)&&xe(v))return{x:m,y:v,width:S,height:E};if(xe(y)&&xe(_))return{x:y,y:_,width:S,height:E}}if(xe(m)&&xe(v))return{x:m,y:v,width:0,height:0};if(xe(e)&&xe(n))return{cx:e,cy:n,startAngle:a||r||0,endAngle:o||r||0,innerRadius:h||0,outerRadius:d||c||u||0,clockWise:A};if(t.viewBox)return t.viewBox},cq=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?C.createElement(dr,ua({key:"label-implicit"},r)):Ni(t)?C.createElement(dr,ua({key:"label-implicit",value:t},r)):C.isValidElement(t)?t.type===dr?C.cloneElement(t,Mt({key:"label-implicit"},r)):C.createElement(dr,ua({key:"label-implicit",content:t},r)):Rx(t)?C.createElement(dr,ua({key:"label-implicit",content:t},r)):t&&typeof t=="object"?C.createElement(dr,ua({},t,{key:"label-implicit"},r)):null},fq=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var{children:a,labelRef:o}=e,u=iR(e),c=f1(a,dr).map((d,m)=>C.cloneElement(d,{viewBox:n||u,key:"label-".concat(m)}));if(!r)return c;var h=cq(e.label,n||u,o);return[h,...c]};dr.parseViewBox=iR;dr.renderCallByParent=fq;var g0={},v0={},mO;function hq(){return mO||(mO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(v0)),v0}var y0={},pO;function dq(){return pO||(pO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(y0)),y0}var gO;function mq(){return gO||(gO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hq(),n=dq(),r=b1();function a(o){if(r.isArrayLike(o))return e.last(n.toArray(o))}t.last=a})(g0)),g0}var b0,vO;function pq(){return vO||(vO=1,b0=mq().last),b0}var gq=pq();const vq=ii(gq);var yq=["valueAccessor"],bq=["data","dataKey","clockWise","id","textBreakAll"];function gm(){return gm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gm.apply(null,arguments)}function yO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function bO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yO(Object(n),!0).forEach(function(r){xq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xq(t,e,n){return(e=_q(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _q(t){var e=wq(t,"string");return typeof e=="symbol"?e:e+""}function wq(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xO(t,e){if(t==null)return{};var n,r,a=Eq(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Eq(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Sq=t=>Array.isArray(t.value)?vq(t.value):t.value;function os(t){var{valueAccessor:e=Sq}=t,n=xO(t,yq),{data:r,dataKey:a,clockWise:o,id:u,textBreakAll:c}=n,h=xO(n,bq);return!r||!r.length?null:C.createElement(ri,{className:"recharts-label-list"},r.map((d,m)=>{var v=Et(a)?e(d,m):gn(d&&d.payload,a),y=Et(u)?{}:{id:"".concat(u,"-").concat(m)};return C.createElement(dr,gm({},kt(d,!0),h,y,{parentViewBox:d.parentViewBox,value:v,textBreakAll:c,viewBox:dr.parseViewBox(Et(o)?d:bO(bO({},d),{},{clockWise:o})),key:"label-".concat(m),index:m}))}))}os.displayName="LabelList";function Aq(t,e){return t?t===!0?C.createElement(os,{key:"labelList-implicit",data:e}):C.isValidElement(t)||Rx(t)?C.createElement(os,{key:"labelList-implicit",data:e,content:t}):typeof t=="object"?C.createElement(os,gm({data:e},t,{key:"labelList-implicit"})):null:null}function Tq(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var{children:r}=t,a=f1(r,os).map((u,c)=>C.cloneElement(u,{data:e,key:"labelList-".concat(c)}));if(!n)return a;var o=Aq(t.label,e);return[o,...a]}os.renderCallByParent=Tq;function Pb(){return Pb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pb.apply(null,arguments)}var aR=t=>{var{cx:e,cy:n,r,className:a}=t,o=ct("recharts-dot",a);return e===+e&&n===+n&&r===+r?C.createElement("circle",Pb({},Io(t),c1(t),{className:o,cx:e,cy:n,r})):null},Oq={radiusAxis:{},angleAxis:{}},sR=xr({name:"polarAxis",initialState:Oq,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:VZ,removeRadiusAxis:LZ,addAngleAxis:BZ,removeAngleAxis:UZ}=sR.actions,Cq=sR.reducer,x0={},_O;function jq(){return _O||(_O=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var a;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const o=n[Symbol.toStringTag];return o==null||!((a=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&a.writable)?!1:n.toString()===`[object ${o}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(x0)),x0}var _0,wO;function Pq(){return wO||(wO=1,_0=jq().isPlainObject),_0}var Nq=Pq();const Dq=ii(Nq);function vm(){return vm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vm.apply(null,arguments)}var EO=(t,e,n,r,a)=>{var o=n-r,u;return u="M ".concat(t,",").concat(e),u+="L ".concat(t+n,",").concat(e),u+="L ".concat(t+n-o/2,",").concat(e+a),u+="L ".concat(t+n-o/2-r,",").concat(e+a),u+="L ".concat(t,",").concat(e," Z"),u},Rq={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Iq=t=>{var e=Mi(t,Rq),n=C.useRef(),[r,a]=C.useState(-1);C.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var A=n.current.getTotalLength();A&&a(A)}catch{}},[]);var{x:o,y:u,upperWidth:c,lowerWidth:h,height:d,className:m}=e,{animationEasing:v,animationDuration:y,animationBegin:_,isUpdateAnimationActive:S}=e;if(o!==+o||u!==+u||c!==+c||h!==+h||d!==+d||c===0&&h===0||d===0)return null;var E=ct("recharts-trapezoid",m);return S?C.createElement(tm,{canBegin:r>0,from:{upperWidth:0,lowerWidth:0,height:d,x:o,y:u},to:{upperWidth:c,lowerWidth:h,height:d,x:o,y:u},duration:y,animationEasing:v,isActive:S},A=>{var{upperWidth:j,lowerWidth:I,height:P,x:U,y:B}=A;return C.createElement(tm,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:y,easing:v},C.createElement("path",vm({},kt(e,!0),{className:E,d:EO(U,B,j,I,P),ref:n})))}):C.createElement("g",null,C.createElement("path",vm({},kt(e,!0),{className:E,d:EO(o,u,c,h,d)})))},Mq=["option","shapeType","propTransformer","activeClassName","isActive"];function kq(t,e){if(t==null)return{};var n,r,a=Vq(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Vq(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function SO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ym(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SO(Object(n),!0).forEach(function(r){Lq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lq(t,e,n){return(e=Bq(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bq(t){var e=Uq(t,"string");return typeof e=="symbol"?e:e+""}function Uq(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zq(t,e){return ym(ym({},e),t)}function qq(t,e){return t==="symbols"}function AO(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return C.createElement(MP,n);case"trapezoid":return C.createElement(Iq,n);case"sector":return C.createElement(LP,n);case"symbols":if(qq(e))return C.createElement(g1,n);break;default:return null}}function $q(t){return C.isValidElement(t)?t.props:t}function Fq(t){var{option:e,shapeType:n,propTransformer:r=zq,activeClassName:a="recharts-active-shape",isActive:o}=t,u=kq(t,Mq),c;if(C.isValidElement(e))c=C.cloneElement(e,ym(ym({},u),$q(e)));else if(typeof e=="function")c=e(u);else if(Dq(e)&&typeof e!="boolean"){var h=r(e,u);c=C.createElement(AO,{shapeType:n,elementProps:h})}else{var d=u;c=C.createElement(AO,{shapeType:n,elementProps:d})}return o?C.createElement(ri,{className:a},c):c}var oR=(t,e)=>{var n=Yt();return(r,a)=>o=>{t==null||t(r,a,o),n(CD({activeIndex:String(a),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}},lR=t=>{var e=Yt();return(n,r)=>a=>{t==null||t(n,r,a),e(G8())}},uR=(t,e)=>{var n=Yt();return(r,a)=>o=>{t==null||t(r,a,o),n(Y8({activeIndex:String(a),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}};function cR(t){var{fn:e,args:n}=t,r=Yt(),a=Zn();return C.useEffect(()=>{if(!a){var o=e(n);return r(F8(o)),()=>{r(H8(o))}}},[e,n,r,a]),null}var Hq=()=>{};function fR(t){var{legendPayload:e}=t,n=Yt(),r=Zn();return C.useEffect(()=>r?Hq:(n(SV(e)),()=>{n(AV(e))}),[n,r,e]),null}function hR(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=C.useRef(Zc(e)),r=C.useRef(t);return r.current!==t&&(n.current=Zc(e),r.current=t),n.current}var w0,Kq=()=>{var[t]=C.useState(()=>Zc("uid-"));return t},Gq=(w0=pk.useId)!==null&&w0!==void 0?w0:Kq;function Yq(t,e){var n=Gq();return e||(t?"".concat(t,"-").concat(n):n)}var Xq=C.createContext(void 0),dR=t=>{var{id:e,type:n,children:r}=t,a=Yq("recharts-".concat(n),e);return C.createElement(Xq.Provider,{value:a},r(a))},Qq={cartesianItems:[],polarItems:[]},mR=xr({name:"graphicalItems",initialState:Qq,reducers:{addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:n,next:r}=e.payload,a=ha(t).cartesianItems.indexOf(n);a>-1&&(t.cartesianItems[a]=r)},removeCartesianGraphicalItem(t,e){var n=ha(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var n=ha(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:Wq,replaceCartesianGraphicalItem:Zq,removeCartesianGraphicalItem:Jq,addPolarGraphicalItem:zZ,removePolarGraphicalItem:qZ}=mR.actions,e$=mR.reducer;function pR(t){var e=Yt(),n=C.useRef(null);return C.useEffect(()=>{n.current===null?e(Wq(t)):n.current!==t&&e(Zq({prev:n.current,next:t})),n.current=t},[e,t]),C.useEffect(()=>()=>{n.current&&(e(Jq(n.current)),n.current=null)},[e]),null}function t$(){}var n$={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},TO={t:0},E0={t:1};function gR(t){var e=Mi(t,n$),{isActive:n,canBegin:r,duration:a,easing:o,begin:u,onAnimationEnd:c,onAnimationStart:h,children:d}=e,m=IP("JavascriptAnimate",e.animationManager),[v,y]=C.useState(n?TO:E0),_=C.useRef(null);return C.useEffect(()=>{n||y(E0)},[n]),C.useEffect(()=>{if(!n||!r)return t$;var S=RP(TO,E0,NP(o),a,y,m.getTimeoutController()),E=()=>{_.current=S()};return m.start([h,u,E,a,c]),()=>{m.stop(),_.current&&_.current(),c()}},[n,r,a,o,u,h,c,m]),d(v.t)}var r$=ne([vn],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),i$=ne([r$,wa,Ea],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),Ix=()=>Ee(i$),a$=()=>Ee(Iz);function OO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function CO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OO(Object(n),!0).forEach(function(r){s$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function s$(t,e,n){return(e=o$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o$(t){var e=l$(t,"string");return typeof e=="symbol"?e:e+""}function l$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var u$=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:a,dataKey:o}=t;if(a===!1||e.x==null||e.y==null)return null;var u=CO(CO({index:n,dataKey:o,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},kt(a,!1)),c1(a)),c;return C.isValidElement(a)?c=C.cloneElement(a,u):typeof a=="function"?c=a(u):c=C.createElement(aR,u),C.createElement(ri,{className:"recharts-active-dot"},c)};function c$(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:a}=t,o=Ee(jo),u=a$();if(e==null||u==null)return null;var c=e.find(h=>u.includes(h.payload));return Et(c)?null:u$({point:c,childIndex:Number(o),mainColor:n,dataKey:a,activeDot:r})}var f$="Invariant failed";function h$(t,e){throw new Error(f$)}var d$=["x","y"];function Nb(){return Nb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nb.apply(null,arguments)}function jO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Mc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jO(Object(n),!0).forEach(function(r){m$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function m$(t,e,n){return(e=p$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p$(t){var e=g$(t,"string");return typeof e=="symbol"?e:e+""}function g$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function v$(t,e){if(t==null)return{};var n,r,a=y$(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function y$(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function b$(t,e){var{x:n,y:r}=t,a=v$(t,d$),o="".concat(n),u=parseInt(o,10),c="".concat(r),h=parseInt(c,10),d="".concat(e.height||a.height),m=parseInt(d,10),v="".concat(e.width||a.width),y=parseInt(v,10);return Mc(Mc(Mc(Mc(Mc({},e),a),u?{x:u}:{}),h?{y:h}:{}),{},{height:m,width:y,name:e.name,radius:e.radius})}function vR(t){return C.createElement(Fq,Nb({shapeType:"rectangle",propTransformer:b$,activeClassName:"recharts-active-bar"},t))}var x$=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,a)=>{if(xe(e))return e;var o=xe(r)||Et(r);return o?e(r,a):(o||h$(),n)}},_$={},yR=xr({name:"errorBars",initialState:_$,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(a=>a.dataKey!==r.dataKey||a.direction!==r.direction))}}}),{addErrorBar:$Z,removeErrorBar:FZ}=yR.actions,w$=yR.reducer,E$=["children"];function S$(t,e){if(t==null)return{};var n,r,a=A$(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function A$(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var T$={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},O$=C.createContext(T$);function bR(t){var{children:e}=t,n=S$(t,E$);return C.createElement(O$.Provider,{value:n},e)}function Mx(t,e){var n,r,a=Ee(d=>Aa(d,t)),o=Ee(d=>Es(d,e)),u=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:cr.allowDataOverflow,c=(r=o==null?void 0:o.allowDataOverflow)!==null&&r!==void 0?r:fr.allowDataOverflow,h=u||c;return{needClip:h,needClipX:u,needClipY:c}}function xR(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,a=Ix(),{needClipX:o,needClipY:u,needClip:c}=Mx(e,n);if(!c)return null;var{x:h,y:d,width:m,height:v}=a;return C.createElement("clipPath",{id:"clipPath-".concat(r)},C.createElement("rect",{x:o?h:h-m/2,y:u?d:d-v/2,width:o?m:m*2,height:u?v:v*2}))}var C$=["onMouseEnter","onMouseLeave","onClick"],j$=["value","background","tooltipPosition"],P$=["id"],N$=["onMouseEnter","onClick","onMouseLeave"];function Jl(){return Jl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jl.apply(null,arguments)}function PO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Vn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PO(Object(n),!0).forEach(function(r){D$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function D$(t,e,n){return(e=R$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R$(t){var e=I$(t,"string");return typeof e=="symbol"?e:e+""}function I$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bm(t,e){if(t==null)return{};var n,r,a=M$(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function M$(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var k$=t=>{var{dataKey:e,name:n,fill:r,legendType:a,hide:o}=t;return[{inactive:o,dataKey:e,type:a,color:r,value:np(n,e),payload:t}]};function V$(t){var{dataKey:e,stroke:n,strokeWidth:r,fill:a,name:o,hide:u,unit:c}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:a,dataKey:e,nameKey:void 0,name:np(o,e),hide:u,type:t.tooltipType,color:t.fill,unit:c}}}function L$(t){var e=Ee(jo),{data:n,dataKey:r,background:a,allOtherBarProps:o}=t,{onMouseEnter:u,onMouseLeave:c,onClick:h}=o,d=bm(o,C$),m=oR(u,r),v=lR(c),y=uR(h,r);if(!a||n==null)return null;var _=kt(a,!1);return C.createElement(C.Fragment,null,n.map((S,E)=>{var{value:A,background:j,tooltipPosition:I}=S,P=bm(S,j$);if(!j)return null;var U=m(S,E),B=v(S,E),H=y(S,E),N=Vn(Vn(Vn(Vn(Vn({option:a,isActive:String(E)===e},P),{},{fill:"#eee"},j),_),Hm(d,S,E)),{},{onMouseEnter:U,onMouseLeave:B,onClick:H,dataKey:r,index:E,className:"recharts-bar-background-rectangle"});return C.createElement(vR,Jl({key:"background-bar-".concat(E)},N))}))}function _R(t){var{data:e,props:n,showLabels:r}=t,a=Io(n),{id:o}=a,u=bm(a,P$),{shape:c,dataKey:h,activeBar:d}=n,m=Ee(jo),v=Ee(zD),{onMouseEnter:y,onClick:_,onMouseLeave:S}=n,E=bm(n,N$),A=oR(y,h),j=lR(S),I=uR(_,h);return e?C.createElement(C.Fragment,null,e.map((P,U)=>{var B=d&&String(U)===m&&(v==null||h===v),H=B?d:c,N=Vn(Vn(Vn({},u),P),{},{isActive:B,option:H,index:U,dataKey:h});return C.createElement(ri,Jl({className:"recharts-bar-rectangle"},Hm(E,P,U),{onMouseEnter:A(P,U),onMouseLeave:j(P,U),onClick:I(P,U),key:"rectangle-".concat(P==null?void 0:P.x,"-").concat(P==null?void 0:P.y,"-").concat(P==null?void 0:P.value,"-").concat(U)}),C.createElement(vR,N))}),r&&os.renderCallByParent(n,e)):null}function B$(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:a,isAnimationActive:o,animationBegin:u,animationDuration:c,animationEasing:h,onAnimationEnd:d,onAnimationStart:m}=e,v=n.current,y=hR(e,"recharts-bar-"),[_,S]=C.useState(!1),E=C.useCallback(()=>{typeof d=="function"&&d(),S(!1)},[d]),A=C.useCallback(()=>{typeof m=="function"&&m(),S(!0)},[m]);return C.createElement(gR,{begin:u,duration:c,isActive:o,easing:h,onAnimationEnd:E,onAnimationStart:A,key:y},j=>{var I=j===1?r:r==null?void 0:r.map((P,U)=>{var B=v&&v[U];if(B)return Vn(Vn({},P),{},{x:Wr(B.x,P.x,j),y:Wr(B.y,P.y,j),width:Wr(B.width,P.width,j),height:Wr(B.height,P.height,j)});if(a==="horizontal"){var H=Wr(0,P.height,j);return Vn(Vn({},P),{},{y:P.y+P.height-H,height:H})}var N=Wr(0,P.width,j);return Vn(Vn({},P),{},{width:N})});return j>0&&(n.current=I??null),I==null?null:C.createElement(ri,null,C.createElement(_R,{props:e,data:I,showLabels:!_}))})}function U$(t){var{data:e,isAnimationActive:n}=t,r=C.useRef(null);return n&&e&&e.length&&(r.current==null||r.current!==e)?C.createElement(B$,{previousRectanglesRef:r,props:t}):C.createElement(_R,{props:t,data:e,showLabels:!0})}var wR=0,z$=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:gn(t,e)}};class q$ extends C.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:a,xAxisId:o,yAxisId:u,needClip:c,background:h,id:d}=this.props;if(e)return null;var m=ct("recharts-bar",a),v=d;return C.createElement(ri,{className:m,id:d},c&&C.createElement("defs",null,C.createElement(xR,{clipPathId:v,xAxisId:o,yAxisId:u})),C.createElement(ri,{className:"recharts-bar-rectangles",clipPath:c?"url(#clipPath-".concat(v,")"):void 0},C.createElement(L$,{data:n,dataKey:r,background:h,allOtherBarProps:this.props}),C.createElement(U$,this.props)),this.props.children)}}var $$={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!ou.isSsr,legendType:"rect",minPointSize:wR,xAxisId:0,yAxisId:0};function F$(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:a,minPointSize:o,activeBar:u,animationBegin:c,animationDuration:h,animationEasing:d,isAnimationActive:m}=t,{needClip:v}=Mx(e,n),y=sp(),_=Zn(),S=f1(t.children,ZD),E=Ee(I=>vF(I,e,n,_,t.id,S));if(y!=="vertical"&&y!=="horizontal")return null;var A,j=E==null?void 0:E[0];return j==null||j.height==null||j.width==null?A=0:A=y==="vertical"?j.height/2:j.width/2,C.createElement(bR,{xAxisId:e,yAxisId:n,data:E,dataPointFormatter:z$,errorBarOffset:A},C.createElement(q$,Jl({},t,{layout:y,needClip:v,data:E,xAxisId:e,yAxisId:n,hide:r,legendType:a,minPointSize:o,activeBar:u,animationBegin:c,animationDuration:h,animationEasing:d,isAnimationActive:m})))}function H$(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:a,bandSize:o,xAxis:u,yAxis:c,xAxisTicks:h,yAxisTicks:d,stackedData:m,displayedData:v,offset:y,cells:_}=t,S=e==="horizontal"?c:u,E=m?S.scale.domain():null,A=rV({numericAxis:S});return v.map((j,I)=>{var P,U,B,H,N,R;m?P=W5(m[I],E):(P=gn(j,n),Array.isArray(P)||(P=[A,P]));var k=x$(r,wR)(P[1],I);if(e==="horizontal"){var $,[L,q]=[c.scale(P[0]),c.scale(P[1])];U=gT({axis:u,ticks:h,bandSize:o,offset:a.offset,entry:j,index:I}),B=($=q??L)!==null&&$!==void 0?$:void 0,H=a.size;var V=L-q;if(N=gr(V)?0:V,R={x:U,y:y.top,width:H,height:y.height},Math.abs(k)>0&&Math.abs(N)<Math.abs(k)){var Ce=Qn(N||k)*(Math.abs(k)-Math.abs(N));B-=Ce,N+=Ce}}else{var[Se,X]=[u.scale(P[0]),u.scale(P[1])];if(U=Se,B=gT({axis:c,ticks:d,bandSize:o,offset:a.offset,entry:j,index:I}),H=X-Se,N=a.size,R={x:y.left,y:B,width:y.width,height:N},Math.abs(k)>0&&Math.abs(H)<Math.abs(k)){var ue=Qn(H||k)*(Math.abs(k)-Math.abs(H));H+=ue}}if(U==null||B==null||H==null||N==null)return null;var ee=Vn(Vn({},j),{},{x:U,y:B,width:H,height:N,value:m?P:P[1],payload:j,background:R,tooltipPosition:{x:U+H/2,y:B+N/2}},_&&_[I]&&_[I].props);return ee}).filter(Boolean)}function ER(t){var e=Mi(t,$$),n=Zn();return C.createElement(dR,{id:e.id,type:"bar"},r=>C.createElement(C.Fragment,null,C.createElement(fR,{legendPayload:k$(e)}),C.createElement(cR,{fn:V$,args:e}),C.createElement(pR,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:nV(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),C.createElement(F$,Jl({},e,{id:r}))))}ER.displayName="Bar";function NO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ed(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NO(Object(n),!0).forEach(function(r){K$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function K$(t,e,n){return(e=G$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function G$(t){var e=Y$(t,"string");return typeof e=="symbol"?e:e+""}function Y$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var X$=(t,e)=>e,Q$=(t,e,n)=>n,W$=(t,e,n,r)=>r,Z$=(t,e,n,r,a)=>a,Mf=ne([xp,Z$],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),J$=ne([Mf],t=>t==null?void 0:t.maxBarSize),eF=(t,e,n,r,a,o)=>o,DO=(t,e,n)=>{var r=n??t;if(!Et(r))return ni(r,e,0)},tF=ne([rt,xp,X$,Q$,W$],(t,e,n,r,a)=>e.filter(o=>t==="horizontal"?o.xAxisId===n:o.yAxisId===r).filter(o=>o.isPanorama===a).filter(o=>o.hide===!1).filter(o=>o.type==="bar")),nF=(t,e,n,r)=>{var a=rt(t);return a==="horizontal"?Sb(t,"yAxis",n,r):Sb(t,"xAxis",e,r)},rF=(t,e,n)=>{var r=rt(t);return r==="horizontal"?k2(t,"xAxis",e):k2(t,"yAxis",n)},iF=(t,e,n)=>{var r={},a=t.filter(bp),o=t.filter(d=>d.stackId==null),u=a.reduce((d,m)=>(d[m.stackId]||(d[m.stackId]=[]),d[m.stackId].push(m),d),r),c=Object.entries(u).map(d=>{var[m,v]=d,y=v.map(S=>S.dataKey),_=DO(e,n,v[0].barSize);return{stackId:m,dataKeys:y,barSize:_}}),h=o.map(d=>{var m=[d.dataKey].filter(y=>y!=null),v=DO(e,n,d.barSize);return{stackId:void 0,dataKeys:m,barSize:v}});return[...c,...h]},aF=ne([tF,FU,rF],iF),sF=(t,e,n,r,a)=>{var o,u,c=Mf(t,e,n,r,a);if(c!=null){var h=rt(t),d=IN(t),{maxBarSize:m}=c,v=Et(m)?d:m,y,_;return h==="horizontal"?(y=hs(t,"xAxis",e,r),_=fs(t,"xAxis",e,r)):(y=hs(t,"yAxis",n,r),_=fs(t,"yAxis",n,r)),(o=(u=tf(y,_,!0))!==null&&u!==void 0?u:v)!==null&&o!==void 0?o:0}},SR=(t,e,n,r)=>{var a=rt(t),o,u;return a==="horizontal"?(o=hs(t,"xAxis",e,r),u=fs(t,"xAxis",e,r)):(o=hs(t,"yAxis",n,r),u=fs(t,"yAxis",n,r)),tf(o,u)};function oF(t,e,n,r,a){var o=r.length;if(!(o<1)){var u=ni(t,n,0,!0),c,h=[];if(br(r[0].barSize)){var d=!1,m=n/o,v=r.reduce((j,I)=>j+(I.barSize||0),0);v+=(o-1)*u,v>=n&&(v-=(o-1)*u,u=0),v>=n&&m>0&&(d=!0,m*=.9,v=o*m);var y=(n-v)/2>>0,_={offset:y-u,size:0};c=r.reduce((j,I)=>{var P,U={stackId:I.stackId,dataKeys:I.dataKeys,position:{offset:_.offset+_.size+u,size:d?m:(P=I.barSize)!==null&&P!==void 0?P:0}},B=[...j,U];return _=B[B.length-1].position,B},h)}else{var S=ni(e,n,0,!0);n-2*S-(o-1)*u<=0&&(u=0);var E=(n-2*S-(o-1)*u)/o;E>1&&(E>>=0);var A=br(a)?Math.min(E,a):E;c=r.reduce((j,I,P)=>[...j,{stackId:I.stackId,dataKeys:I.dataKeys,position:{offset:S+(E+u)*P+(E-A)/2,size:A}}],h)}return c}}var lF=(t,e,n,r,a,o,u)=>{var c=Et(u)?e:u,h=oF(n,r,a!==o?a:o,t,c);return a!==o&&h!=null&&(h=h.map(d=>Ed(Ed({},d),{},{position:Ed(Ed({},d.position),{},{offset:d.position.offset-a/2})}))),h},uF=ne([aF,IN,$U,MN,sF,SR,J$],lF),cF=(t,e,n,r)=>hs(t,"xAxis",e,r),fF=(t,e,n,r)=>hs(t,"yAxis",n,r),hF=(t,e,n,r)=>fs(t,"xAxis",e,r),dF=(t,e,n,r)=>fs(t,"yAxis",n,r),mF=ne([uF,Mf],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),pF=(t,e)=>{var n=mx(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var a=t[r];if(a){var{stackedData:o}=a;if(o)return o.find(u=>u.key===n)}}}},gF=ne([nF,Mf],pF),vF=ne([vn,cF,fF,hF,dF,mF,rt,dp,SR,gF,Mf,eF],(t,e,n,r,a,o,u,c,h,d,m,v)=>{var{chartData:y,dataStartIndex:_,dataEndIndex:S}=c;if(!(m==null||o==null||u!=="horizontal"&&u!=="vertical"||e==null||n==null||r==null||a==null||h==null)){var{data:E}=m,A;if(E!=null&&E.length>0?A=E:A=y==null?void 0:y.slice(_,S+1),A!=null)return H$({layout:u,barSettings:m,pos:o,bandSize:h,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:a,stackedData:d,displayedData:A,offset:t,cells:v})}}),yF=t=>{var{chartData:e}=t,n=Yt(),r=Zn();return C.useEffect(()=>r?()=>{}:(n(K2(e)),()=>{n(K2(void 0))}),[e,n,r]),null},RO={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},AR=xr({name:"brush",initialState:RO,reducers:{setBrushSettings(t,e){return e.payload==null?RO:e.payload}}}),{setBrushSettings:HZ}=AR.actions,bF=AR.reducer;function xF(t,e,n){return(e=_F(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _F(t){var e=wF(t,"string");return typeof e=="symbol"?e:e+""}function wF(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class kx{static create(e){return new kx(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(e)+o}default:return this.scale(e)}if(n){var u=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+u}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],a=n[n.length-1];return r<=a?e>=r&&e<=a:e>=a&&e<=r}}xF(kx,"EPS",1e-4);function EF(t){return(t%180+180)%180}var SF=function(e){var{width:n,height:r}=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=EF(a),u=o*Math.PI/180,c=Math.atan(r/n),h=u>c&&u<Math.PI-c?r/Math.sin(u):n/Math.cos(u);return Math.abs(h)},AF={dots:[],areas:[],lines:[]},TR=xr({name:"referenceElements",initialState:AF,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=ha(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=ha(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=ha(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:KZ,removeDot:GZ,addArea:YZ,removeArea:XZ,addLine:QZ,removeLine:WZ}=TR.actions,TF=TR.reducer,OF=C.createContext(void 0),CF=t=>{var{children:e}=t,[n]=C.useState("".concat(Zc("recharts"),"-clip")),r=Ix();if(r==null)return null;var{x:a,y:o,width:u,height:c}=r;return C.createElement(OF.Provider,{value:n},C.createElement("defs",null,C.createElement("clipPath",{id:n},C.createElement("rect",{x:a,y:o,height:c,width:u}))),e)};function S0(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function OR(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],a=0;a<t.length;a+=e)r.push(t[a]);return r}function jF(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return SF(r,n)}function PF(t,e,n){var r=n==="width",{x:a,y:o,width:u,height:c}=t;return e===1?{start:r?a:o,end:r?a+u:o+c}:{start:r?a+u:o+c,end:r?a:o}}function xm(t,e,n,r,a){if(t*e<t*r||t*e>t*a)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-a)<=0}function NF(t,e){return OR(t,e+1)}function DF(t,e,n,r,a){for(var o=(r||[]).slice(),{start:u,end:c}=e,h=0,d=1,m=u,v=function(){var S=r==null?void 0:r[h];if(S===void 0)return{v:OR(r,d)};var E=h,A,j=()=>(A===void 0&&(A=n(S,E)),A),I=S.coordinate,P=h===0||xm(t,I,j,m,c);P||(h=0,m=u,d+=1),P&&(m=I+t*(j()/2+a),h+=d)},y;d<=o.length;)if(y=v(),y)return y.v;return[]}function IO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Mn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IO(Object(n),!0).forEach(function(r){RF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RF(t,e,n){return(e=IF(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IF(t){var e=MF(t,"string");return typeof e=="symbol"?e:e+""}function MF(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kF(t,e,n,r,a){for(var o=(r||[]).slice(),u=o.length,{start:c}=e,{end:h}=e,d=function(y){var _=o[y],S,E=()=>(S===void 0&&(S=n(_,y)),S);if(y===u-1){var A=t*(_.coordinate+t*E()/2-h);o[y]=_=Mn(Mn({},_),{},{tickCoord:A>0?_.coordinate-A*t:_.coordinate})}else o[y]=_=Mn(Mn({},_),{},{tickCoord:_.coordinate});var j=xm(t,_.tickCoord,E,c,h);j&&(h=_.tickCoord-t*(E()/2+a),o[y]=Mn(Mn({},_),{},{isShow:!0}))},m=u-1;m>=0;m--)d(m);return o}function VF(t,e,n,r,a,o){var u=(r||[]).slice(),c=u.length,{start:h,end:d}=e;if(o){var m=r[c-1],v=n(m,c-1),y=t*(m.coordinate+t*v/2-d);u[c-1]=m=Mn(Mn({},m),{},{tickCoord:y>0?m.coordinate-y*t:m.coordinate});var _=xm(t,m.tickCoord,()=>v,h,d);_&&(d=m.tickCoord-t*(v/2+a),u[c-1]=Mn(Mn({},m),{},{isShow:!0}))}for(var S=o?c-1:c,E=function(I){var P=u[I],U,B=()=>(U===void 0&&(U=n(P,I)),U);if(I===0){var H=t*(P.coordinate-t*B()/2-h);u[I]=P=Mn(Mn({},P),{},{tickCoord:H<0?P.coordinate-H*t:P.coordinate})}else u[I]=P=Mn(Mn({},P),{},{tickCoord:P.coordinate});var N=xm(t,P.tickCoord,B,h,d);N&&(h=P.tickCoord+t*(B()/2+a),u[I]=Mn(Mn({},P),{},{isShow:!0}))},A=0;A<S;A++)E(A);return u}function Vx(t,e,n){var{tick:r,ticks:a,viewBox:o,minTickGap:u,orientation:c,interval:h,tickFormatter:d,unit:m,angle:v}=t;if(!a||!a.length||!r)return[];if(xe(h)||ou.isSsr){var y;return(y=NF(a,xe(h)?h:0))!==null&&y!==void 0?y:[]}var _=[],S=c==="top"||c==="bottom"?"width":"height",E=m&&S==="width"?Hc(m,{fontSize:e,letterSpacing:n}):{width:0,height:0},A=(P,U)=>{var B=typeof d=="function"?d(P.value,U):P.value;return S==="width"?jF(Hc(B,{fontSize:e,letterSpacing:n}),E,v):Hc(B,{fontSize:e,letterSpacing:n})[S]},j=a.length>=2?Qn(a[1].coordinate-a[0].coordinate):1,I=PF(o,j,S);return h==="equidistantPreserveStart"?DF(j,I,A,a,u):(h==="preserveStart"||h==="preserveStartEnd"?_=VF(j,I,A,a,u,h==="preserveStartEnd"):_=kF(j,I,A,a,u),_.filter(P=>P.isShow))}var LF=["viewBox"],BF=["viewBox"];function Bl(){return Bl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bl.apply(null,arguments)}function MO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function tn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MO(Object(n),!0).forEach(function(r){Lx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kO(t,e){if(t==null)return{};var n,r,a=UF(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function UF(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Lx(t,e,n){return(e=zF(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zF(t){var e=qF(t,"string");return typeof e=="symbol"?e:e+""}function qF(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Ss extends C.Component{constructor(e){super(e),this.tickRefs=C.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(e,n){var{viewBox:r}=e,a=kO(e,LF),o=this.props,{viewBox:u}=o,c=kO(o,BF);return!S0(r,u)||!S0(a,c)||!S0(n,this.state)}getTickLineCoord(e){var{x:n,y:r,width:a,height:o,orientation:u,tickSize:c,mirror:h,tickMargin:d}=this.props,m,v,y,_,S,E,A=h?-1:1,j=e.tickSize||c,I=xe(e.tickCoord)?e.tickCoord:e.coordinate;switch(u){case"top":m=v=e.coordinate,_=r+ +!h*o,y=_-A*j,E=y-A*d,S=I;break;case"left":y=_=e.coordinate,v=n+ +!h*a,m=v-A*j,S=m-A*d,E=I;break;case"right":y=_=e.coordinate,v=n+ +h*a,m=v+A*j,S=m+A*d,E=I;break;default:m=v=e.coordinate,_=r+ +h*o,y=_+A*j,E=y+A*d,S=I;break}return{line:{x1:m,y1:y,x2:v,y2:_},tick:{x:S,y:E}}}getTickTextAnchor(){var{orientation:e,mirror:n}=this.props,r;switch(e){case"left":r=n?"start":"end";break;case"right":r=n?"end":"start";break;default:r="middle";break}return r}getTickVerticalAnchor(){var{orientation:e,mirror:n}=this.props;switch(e){case"left":case"right":return"middle";case"top":return n?"start":"end";default:return n?"end":"start"}}renderAxisLine(){var{x:e,y:n,width:r,height:a,orientation:o,mirror:u,axisLine:c}=this.props,h=tn(tn(tn({},kt(this.props,!1)),kt(c,!1)),{},{fill:"none"});if(o==="top"||o==="bottom"){var d=+(o==="top"&&!u||o==="bottom"&&u);h=tn(tn({},h),{},{x1:e,y1:n+d*a,x2:e+r,y2:n+d*a})}else{var m=+(o==="left"&&!u||o==="right"&&u);h=tn(tn({},h),{},{x1:e+m*r,y1:n,x2:e+m*r,y2:n+a})}return C.createElement("line",Bl({},h,{className:ct("recharts-cartesian-axis-line",Ao(c,"className"))}))}static renderTickItem(e,n,r){var a,o=ct(n.className,"recharts-cartesian-axis-tick-value");if(C.isValidElement(e))a=C.cloneElement(e,tn(tn({},n),{},{className:o}));else if(typeof e=="function")a=e(tn(tn({},n),{},{className:o}));else{var u="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(u=ct(u,e.className)),a=C.createElement(Dx,Bl({},n,{className:u}),r)}return a}renderTicks(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:a,stroke:o,tick:u,tickFormatter:c,unit:h,padding:d}=this.props,m=Vx(tn(tn({},this.props),{},{ticks:r}),e,n),v=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),_=Io(this.props),S=kt(u,!1),E=tn(tn({},_),{},{fill:"none"},kt(a,!1)),A=m.map((j,I)=>{var{line:P,tick:U}=this.getTickLineCoord(j),B=tn(tn(tn(tn({textAnchor:v,verticalAnchor:y},_),{},{stroke:"none",fill:o},S),U),{},{index:I,payload:j,visibleTicksCount:m.length,tickFormatter:c,padding:d});return C.createElement(ri,Bl({className:"recharts-cartesian-axis-tick",key:"tick-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},Hm(this.props,j,I)),a&&C.createElement("line",Bl({},E,P,{className:ct("recharts-cartesian-axis-tick-line",Ao(a,"className"))})),u&&Ss.renderTickItem(u,B,"".concat(typeof c=="function"?c(j.value,I):j.value).concat(h||"")))});return A.length>0?C.createElement("g",{className:"recharts-cartesian-axis-ticks"},A):null}render(){var{axisLine:e,width:n,height:r,className:a,hide:o}=this.props;if(o)return null;var{ticks:u}=this.props;return n!=null&&n<=0||r!=null&&r<=0?null:C.createElement(ri,{className:ct("recharts-cartesian-axis",a),ref:c=>{if(c){var h=c.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(h);var d=h[0];if(d){var m=window.getComputedStyle(d).fontSize,v=window.getComputedStyle(d).letterSpacing;(m!==this.state.fontSize||v!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(d).fontSize,letterSpacing:window.getComputedStyle(d).letterSpacing})}}}},e&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,u),dr.renderCallByParent(this.props))}}Lx(Ss,"displayName","CartesianAxis");Lx(Ss,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var $F=["x1","y1","x2","y2","key"],FF=["offset"],HF=["xAxisId","yAxisId"],KF=["xAxisId","yAxisId"];function VO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ln(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VO(Object(n),!0).forEach(function(r){GF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GF(t,e,n){return(e=YF(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YF(t){var e=XF(t,"string");return typeof e=="symbol"?e:e+""}function XF(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vo(){return vo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vo.apply(null,arguments)}function _m(t,e){if(t==null)return{};var n,r,a=QF(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function QF(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var WF=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:a,width:o,height:u,ry:c}=t;return C.createElement("rect",{x:r,y:a,ry:c,width:o,height:u,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function CR(t,e){var n;if(C.isValidElement(t))n=C.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var{x1:r,y1:a,x2:o,y2:u,key:c}=e,h=_m(e,$F),d=Io(h),{offset:m}=d,v=_m(d,FF);n=C.createElement("line",vo({},v,{x1:r,y1:a,x2:o,y2:u,fill:"none",key:c}))}return n}function ZF(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:a}=t;if(!r||!a||!a.length)return null;var{xAxisId:o,yAxisId:u}=t,c=_m(t,HF),h=a.map((d,m)=>{var v=Ln(Ln({},c),{},{x1:e,y1:d,x2:e+n,y2:d,key:"line-".concat(m),index:m});return CR(r,v)});return C.createElement("g",{className:"recharts-cartesian-grid-horizontal"},h)}function JF(t){var{y:e,height:n,vertical:r=!0,verticalPoints:a}=t;if(!r||!a||!a.length)return null;var{xAxisId:o,yAxisId:u}=t,c=_m(t,KF),h=a.map((d,m)=>{var v=Ln(Ln({},c),{},{x1:d,y1:e,x2:d,y2:e+n,key:"line-".concat(m),index:m});return CR(r,v)});return C.createElement("g",{className:"recharts-cartesian-grid-vertical"},h)}function eH(t){var{horizontalFill:e,fillOpacity:n,x:r,y:a,width:o,height:u,horizontalPoints:c,horizontal:h=!0}=t;if(!h||!e||!e.length)return null;var d=c.map(v=>Math.round(v+a-a)).sort((v,y)=>v-y);a!==d[0]&&d.unshift(0);var m=d.map((v,y)=>{var _=!d[y+1],S=_?a+u-v:d[y+1]-v;if(S<=0)return null;var E=y%e.length;return C.createElement("rect",{key:"react-".concat(y),y:v,x:r,height:S,width:o,stroke:"none",fill:e[E],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return C.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function tH(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:a,y:o,width:u,height:c,verticalPoints:h}=t;if(!e||!n||!n.length)return null;var d=h.map(v=>Math.round(v+a-a)).sort((v,y)=>v-y);a!==d[0]&&d.unshift(0);var m=d.map((v,y)=>{var _=!d[y+1],S=_?a+u-v:d[y+1]-v;if(S<=0)return null;var E=y%n.length;return C.createElement("rect",{key:"react-".concat(y),x:v,y:o,width:S,height:c,stroke:"none",fill:n[E],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return C.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var nH=(t,e)=>{var{xAxis:n,width:r,height:a,offset:o}=t;return _P(Vx(Ln(Ln(Ln({},Ss.defaultProps),n),{},{ticks:wP(n),viewBox:{x:0,y:0,width:r,height:a}})),o.left,o.left+o.width,e)},rH=(t,e)=>{var{yAxis:n,width:r,height:a,offset:o}=t;return _P(Vx(Ln(Ln(Ln({},Ss.defaultProps),n),{},{ticks:wP(n),viewBox:{x:0,y:0,width:r,height:a}})),o.top,o.top+o.height,e)},iH={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function Db(t){var e=R1(),n=I1(),r=AP(),a=Ln(Ln({},Mi(t,iH)),{},{x:xe(t.x)?t.x:r.left,y:xe(t.y)?t.y:r.top,width:xe(t.width)?t.width:r.width,height:xe(t.height)?t.height:r.height}),{xAxisId:o,yAxisId:u,x:c,y:h,width:d,height:m,syncWithTicks:v,horizontalValues:y,verticalValues:_}=a,S=Zn(),E=Ee(k=>V2(k,"xAxis",o,S)),A=Ee(k=>V2(k,"yAxis",u,S));if(!xe(d)||d<=0||!xe(m)||m<=0||!xe(c)||c!==+c||!xe(h)||h!==+h)return null;var j=a.verticalCoordinatesGenerator||nH,I=a.horizontalCoordinatesGenerator||rH,{horizontalPoints:P,verticalPoints:U}=a;if((!P||!P.length)&&typeof I=="function"){var B=y&&y.length,H=I({yAxis:A?Ln(Ln({},A),{},{ticks:B?y:A.ticks}):void 0,width:e,height:n,offset:r},B?!0:v);Fc(Array.isArray(H),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof H,"]")),Array.isArray(H)&&(P=H)}if((!U||!U.length)&&typeof j=="function"){var N=_&&_.length,R=j({xAxis:E?Ln(Ln({},E),{},{ticks:N?_:E.ticks}):void 0,width:e,height:n,offset:r},N?!0:v);Fc(Array.isArray(R),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof R,"]")),Array.isArray(R)&&(U=R)}return C.createElement("g",{className:"recharts-cartesian-grid"},C.createElement(WF,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),C.createElement(eH,vo({},a,{horizontalPoints:P})),C.createElement(tH,vo({},a,{verticalPoints:U})),C.createElement(ZF,vo({},a,{offset:r,horizontalPoints:P,xAxis:E,yAxis:A})),C.createElement(JF,vo({},a,{offset:r,verticalPoints:U,xAxis:E,yAxis:A})))}Db.displayName="CartesianGrid";var jR=(t,e,n,r)=>hs(t,"xAxis",e,r),PR=(t,e,n,r)=>fs(t,"xAxis",e,r),NR=(t,e,n,r)=>hs(t,"yAxis",n,r),DR=(t,e,n,r)=>fs(t,"yAxis",n,r),aH=ne([rt,jR,NR,PR,DR],(t,e,n,r,a)=>bs(t,"xAxis")?tf(e,r,!1):tf(n,a,!1)),sH=(t,e,n,r,a)=>a;function oH(t){return t.type==="line"}var lH=ne([xp,sH],(t,e)=>t.filter(oH).find(n=>n.id===e)),uH=ne([rt,jR,NR,PR,DR,lH,aH,dp],(t,e,n,r,a,o,u,c)=>{var{chartData:h,dataStartIndex:d,dataEndIndex:m}=c;if(!(o==null||e==null||n==null||r==null||a==null||r.length===0||a.length===0||u==null)){var{dataKey:v,data:y}=o,_;if(y!=null&&y.length>0?_=y:_=h==null?void 0:h.slice(d,m+1),_!=null)return PH({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:a,dataKey:v,bandSize:u,displayedData:_})}}),cH=["id"],fH=["type","layout","connectNulls","needClip"],hH=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function LO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Zr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LO(Object(n),!0).forEach(function(r){dH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dH(t,e,n){return(e=mH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mH(t){var e=pH(t,"string");return typeof e=="symbol"?e:e+""}function pH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bx(t,e){if(t==null)return{};var n,r,a=gH(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function gH(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Po(){return Po=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Po.apply(null,arguments)}var vH=t=>{var{dataKey:e,name:n,stroke:r,legendType:a,hide:o}=t;return[{inactive:o,dataKey:e,type:a,color:r,value:np(n,e),payload:t}]};function yH(t){var{dataKey:e,data:n,stroke:r,strokeWidth:a,fill:o,name:u,hide:c,unit:h}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:a,fill:o,dataKey:e,nameKey:void 0,name:np(u,e),hide:c,type:t.tooltipType,color:t.stroke,unit:h}}}var RR=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function bH(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],a=0;a<e;++a)r=[...r,...n];return r}var xH=(t,e,n)=>{var r=n.reduce((v,y)=>v+y);if(!r)return RR(e,t);for(var a=Math.floor(t/r),o=t%r,u=e-t,c=[],h=0,d=0;h<n.length;d+=n[h],++h)if(d+n[h]>o){c=[...n.slice(0,h),o-d];break}var m=c.length%2===0?[0,u]:[u];return[...bH(n,a),...c,...m].map(v=>"".concat(v,"px")).join(", ")};function _H(t,e){var n;if(C.isValidElement(t))n=C.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var r=ct("recharts-line-dot",typeof t!="boolean"?t.className:"");n=C.createElement(aR,Po({},e,{className:r}))}return n}function wH(t,e){return t==null?!1:e?!0:t.length===1}function EH(t){var{clipPathId:e,points:n,props:r}=t,{dot:a,dataKey:o,needClip:u}=r;if(!wH(n,a))return null;var{id:c}=r,h=Bx(r,cH),d=yj(a),m=Io(h),v=kt(a,!0),y=n.map((S,E)=>{var A=Zr(Zr(Zr({key:"dot-".concat(E),r:3},m),v),{},{index:E,cx:S.x,cy:S.y,dataKey:o,value:S.value,payload:S.payload,points:n});return _H(a,A)}),_={clipPath:u?"url(#clipPath-".concat(d?"":"dots-").concat(e,")"):void 0};return C.createElement(ri,Po({className:"recharts-line-dots",key:"dots"},_),y)}function Rb(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:a,props:o,showLabels:u}=t,{type:c,layout:h,connectNulls:d,needClip:m}=o,v=Bx(o,fH),y=Zr(Zr({},kt(v,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:m?"url(#clipPath-".concat(e,")"):void 0,points:r,type:c,layout:h,connectNulls:d,strokeDasharray:a??o.strokeDasharray});return C.createElement(C.Fragment,null,(r==null?void 0:r.length)>1&&C.createElement(CP,Po({},y,{pathRef:n})),C.createElement(EH,{points:r,clipPathId:e,props:o}),u&&os.renderCallByParent(o,r))}function SH(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function AH(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:a,longestAnimatedLengthRef:o}=t,{points:u,strokeDasharray:c,isAnimationActive:h,animationBegin:d,animationDuration:m,animationEasing:v,animateNewValues:y,width:_,height:S,onAnimationEnd:E,onAnimationStart:A}=n,j=a.current,I=hR(n,"recharts-line-"),[P,U]=C.useState(!1),B=C.useCallback(()=>{typeof E=="function"&&E(),U(!1)},[E]),H=C.useCallback(()=>{typeof A=="function"&&A(),U(!0)},[A]),N=SH(r.current),R=o.current;return C.createElement(gR,{begin:d,duration:m,isActive:h,easing:v,onAnimationEnd:B,onAnimationStart:H,key:I},k=>{var $=Wr(R,N+R,k),L=Math.min($,N),q;if(c){var V="".concat(c).split(/[,\s]+/gim).map(X=>parseFloat(X));q=xH(L,N,V)}else q=RR(N,L);if(j){var Ce=j.length/u.length,Se=k===1?u:u.map((X,ue)=>{var ee=Math.floor(ue*Ce);if(j[ee]){var de=j[ee];return Zr(Zr({},X),{},{x:Wr(de.x,X.x,k),y:Wr(de.y,X.y,k)})}return y?Zr(Zr({},X),{},{x:Wr(_*2,X.x,k),y:Wr(S/2,X.y,k)}):Zr(Zr({},X),{},{x:X.x,y:X.y})});return a.current=Se,C.createElement(Rb,{props:n,points:Se,clipPathId:e,pathRef:r,showLabels:!P,strokeDasharray:q})}return k>0&&N>0&&(a.current=u,o.current=L),C.createElement(Rb,{props:n,points:u,clipPathId:e,pathRef:r,showLabels:!P,strokeDasharray:q})})}function TH(t){var{clipPathId:e,props:n}=t,{points:r,isAnimationActive:a}=n,o=C.useRef(null),u=C.useRef(0),c=C.useRef(null),h=o.current;return a&&r&&r.length&&h!==r?C.createElement(AH,{props:n,clipPathId:e,previousPointsRef:o,longestAnimatedLengthRef:u,pathRef:c}):C.createElement(Rb,{props:n,points:r,clipPathId:e,pathRef:c,showLabels:!0})}var OH=(t,e)=>({x:t.x,y:t.y,value:t.value,errorVal:gn(t.payload,e)});class CH extends C.Component{render(){var e,{hide:n,dot:r,points:a,className:o,xAxisId:u,yAxisId:c,top:h,left:d,width:m,height:v,id:y,needClip:_}=this.props;if(n)return null;var S=ct("recharts-line",o),E=y,{r:A=3,strokeWidth:j=2}=(e=kt(r,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},I=yj(r),P=A*2+j;return C.createElement(C.Fragment,null,C.createElement(ri,{className:S},_&&C.createElement("defs",null,C.createElement(xR,{clipPathId:E,xAxisId:u,yAxisId:c}),!I&&C.createElement("clipPath",{id:"clipPath-dots-".concat(E)},C.createElement("rect",{x:d-P/2,y:h-P/2,width:m+P,height:v+P}))),C.createElement(TH,{props:this.props,clipPathId:E}),C.createElement(bR,{xAxisId:u,yAxisId:c,data:a,dataPointFormatter:OH,errorBarOffset:0},this.props.children)),C.createElement(c$,{activeDot:this.props.activeDot,points:a,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var IR={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!ou.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function jH(t){var e=Mi(t,IR),{activeDot:n,animateNewValues:r,animationBegin:a,animationDuration:o,animationEasing:u,connectNulls:c,dot:h,hide:d,isAnimationActive:m,label:v,legendType:y,xAxisId:_,yAxisId:S,id:E}=e,A=Bx(e,hH),{needClip:j}=Mx(_,S),I=Ix(),P=sp(),U=Zn(),B=Ee($=>uH($,_,S,U,E));if(P!=="horizontal"&&P!=="vertical"||B==null||I==null)return null;var{height:H,width:N,x:R,y:k}=I;return C.createElement(CH,Po({},A,{id:E,connectNulls:c,dot:h,activeDot:n,animateNewValues:r,animationBegin:a,animationDuration:o,animationEasing:u,isAnimationActive:m,hide:d,label:v,legendType:y,xAxisId:_,yAxisId:S,points:B,layout:P,height:H,width:N,left:R,top:k,needClip:j}))}function PH(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:a,yAxisTicks:o,dataKey:u,bandSize:c,displayedData:h}=t;return h.map((d,m)=>{var v=gn(d,u);if(e==="horizontal"){var y=pT({axis:n,ticks:a,bandSize:c,entry:d,index:m}),_=Et(v)?null:r.scale(v);return{x:y,y:_,value:v,payload:d}}var S=Et(v)?null:n.scale(v),E=pT({axis:r,ticks:o,bandSize:c,entry:d,index:m});return S==null||E==null?null:{x:S,y:E,value:v,payload:d}}).filter(Boolean)}function MR(t){var e=Mi(t,IR),n=Zn();return C.createElement(dR,{id:e.id,type:"line"},r=>C.createElement(C.Fragment,null,C.createElement(fR,{legendPayload:vH(e)}),C.createElement(cR,{fn:yH,args:e}),C.createElement(pR,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),C.createElement(jH,Po({},e,{id:r}))))}MR.displayName="Line";function BO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function UO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BO(Object(n),!0).forEach(function(r){NH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NH(t,e,n){return(e=DH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DH(t){var e=RH(t,"string");return typeof e=="symbol"?e:e+""}function RH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var IH={xAxis:{},yAxis:{},zAxis:{}},kR=xr({name:"cartesianAxis",initialState:IH,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload;t.yAxis[n]&&(t.yAxis[n]=UO(UO({},t.yAxis[n]),{},{width:r}))}}}),{addXAxis:MH,removeXAxis:kH,addYAxis:VH,removeYAxis:LH,addZAxis:ZZ,removeZAxis:JZ,updateYAxisWidth:BH}=kR.actions,UH=kR.reducer,zH=["children"],qH=["dangerouslySetInnerHTML","ticks"];function VR(t,e,n){return(e=$H(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $H(t){var e=FH(t,"string");return typeof e=="symbol"?e:e+""}function FH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ib(){return Ib=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ib.apply(null,arguments)}function LR(t,e){if(t==null)return{};var n,r,a=HH(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function HH(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function KH(t){var e=Yt(),n=C.useMemo(()=>{var{children:o}=t,u=LR(t,zH);return u},[t]),r=Ee(o=>Aa(o,n.id)),a=n===r;return C.useEffect(()=>(e(MH(n)),()=>{e(kH(n))}),[n,e]),a?t.children:null}var GH=t=>{var{xAxisId:e,className:n}=t,r=Ee(SP),a=Zn(),o="xAxis",u=Ee(_=>du(_,o,e,a)),c=Ee(_=>wD(_,o,e,a)),h=Ee(_=>yD(_,e)),d=Ee(_=>M8(_,e));if(h==null||d==null)return null;var{dangerouslySetInnerHTML:m,ticks:v}=t,y=LR(t,qH);return C.createElement(Ss,Ib({},y,{scale:u,x:d.x,y:d.y,width:h.width,height:h.height,className:ct("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:c}))},YH=t=>{var e,n,r,a,o;return C.createElement(KH,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.xAxisId,scale:t.scale,type:t.type,padding:t.padding,allowDataOverflow:t.allowDataOverflow,domain:t.domain,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,includeHidden:(n=t.includeHidden)!==null&&n!==void 0?n:!1,reversed:t.reversed,ticks:t.ticks,height:t.height,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(r=t.angle)!==null&&r!==void 0?r:0,minTickGap:(a=t.minTickGap)!==null&&a!==void 0?a:5,tick:(o=t.tick)!==null&&o!==void 0?o:!0,tickFormatter:t.tickFormatter},C.createElement(GH,t))};class wm extends C.Component{render(){return C.createElement(YH,this.props)}}VR(wm,"displayName","XAxis");VR(wm,"defaultProps",{allowDataOverflow:cr.allowDataOverflow,allowDecimals:cr.allowDecimals,allowDuplicatedCategory:cr.allowDuplicatedCategory,height:cr.height,hide:!1,mirror:cr.mirror,orientation:cr.orientation,padding:cr.padding,reversed:cr.reversed,scale:cr.scale,tickCount:cr.tickCount,type:cr.type,xAxisId:0});var XH=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:a=0,tickMargin:o=0}=t,u=0;if(e){e.forEach(m=>{if(m){var v=m.getBoundingClientRect();v.width>u&&(u=v.width)}});var c=n?n.getBoundingClientRect().width:0,h=a+o,d=u+h+c+(n?r:0);return Math.round(d)}return 0},QH=["dangerouslySetInnerHTML","ticks"];function BR(t,e,n){return(e=WH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WH(t){var e=ZH(t,"string");return typeof e=="symbol"?e:e+""}function ZH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mb(){return Mb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mb.apply(null,arguments)}function JH(t,e){if(t==null)return{};var n,r,a=eK(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function eK(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function tK(t){var e=Yt();return C.useEffect(()=>(e(VH(t)),()=>{e(LH(t))}),[t,e]),null}var nK=t=>{var e,{yAxisId:n,className:r,width:a,label:o}=t,u=C.useRef(null),c=C.useRef(null),h=Ee(SP),d=Zn(),m=Yt(),v="yAxis",y=Ee(P=>du(P,v,n,d)),_=Ee(P=>bD(P,n)),S=Ee(P=>k8(P,n)),E=Ee(P=>wD(P,v,n,d));if(C.useLayoutEffect(()=>{var P;if(!(a!=="auto"||!_||Rx(o)||C.isValidElement(o))){var U=u.current,B=U==null||(P=U.tickRefs)===null||P===void 0?void 0:P.current,{tickSize:H,tickMargin:N}=U.props,R=XH({ticks:B,label:c.current,labelGapWithTick:5,tickSize:H,tickMargin:N});Math.round(_.width)!==Math.round(R)&&m(BH({id:n,width:R}))}},[u,u==null||(e=u.current)===null||e===void 0||(e=e.tickRefs)===null||e===void 0?void 0:e.current,_==null?void 0:_.width,_,m,o,n,a]),_==null||S==null)return null;var{dangerouslySetInnerHTML:A,ticks:j}=t,I=JH(t,QH);return C.createElement(Ss,Mb({},I,{ref:u,labelRef:c,scale:y,x:S.x,y:S.y,width:_.width,height:_.height,className:ct("recharts-".concat(v," ").concat(v),r),viewBox:h,ticks:E}))},rK=t=>{var e,n,r,a,o;return C.createElement(C.Fragment,null,C.createElement(tK,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:(n=t.includeHidden)!==null&&n!==void 0?n:!1,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(r=t.angle)!==null&&r!==void 0?r:0,minTickGap:(a=t.minTickGap)!==null&&a!==void 0?a:5,tick:(o=t.tick)!==null&&o!==void 0?o:!0,tickFormatter:t.tickFormatter}),C.createElement(nK,t))},iK={allowDataOverflow:fr.allowDataOverflow,allowDecimals:fr.allowDecimals,allowDuplicatedCategory:fr.allowDuplicatedCategory,hide:!1,mirror:fr.mirror,orientation:fr.orientation,padding:fr.padding,reversed:fr.reversed,scale:fr.scale,tickCount:fr.tickCount,type:fr.type,width:fr.width,yAxisId:0};class Em extends C.Component{render(){return C.createElement(rK,this.props)}}BR(Em,"displayName","YAxis");BR(Em,"defaultProps",iK);var A0={exports:{}},T0={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zO;function aK(){if(zO)return T0;zO=1;var t=su();function e(h,d){return h===d&&(h!==0||1/h===1/d)||h!==h&&d!==d}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,a=t.useRef,o=t.useEffect,u=t.useMemo,c=t.useDebugValue;return T0.useSyncExternalStoreWithSelector=function(h,d,m,v,y){var _=a(null);if(_.current===null){var S={hasValue:!1,value:null};_.current=S}else S=_.current;_=u(function(){function A(B){if(!j){if(j=!0,I=B,B=v(B),y!==void 0&&S.hasValue){var H=S.value;if(y(H,B))return P=H}return P=B}if(H=P,n(I,B))return H;var N=v(B);return y!==void 0&&y(H,N)?(I=B,H):(I=B,P=N)}var j=!1,I,P,U=m===void 0?null:m;return[function(){return A(d())},U===null?void 0:function(){return A(U())}]},[d,m,v,y]);var E=r(h,_[0],_[1]);return o(function(){S.hasValue=!0,S.value=E},[E]),c(E),E},T0}var qO;function sK(){return qO||(qO=1,A0.exports=aK()),A0.exports}sK();function oK(t){t()}function lK(){let t=null,e=null;return{clear(){t=null,e=null},notify(){oK(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const a=e={callback:n,next:null,prev:e};return a.prev?a.prev.next=a:t=a,function(){!r||t===null||(r=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var $O={notify(){},get:()=>[]};function uK(t,e){let n,r=$O,a=0,o=!1;function u(E){m();const A=r.subscribe(E);let j=!1;return()=>{j||(j=!0,A(),v())}}function c(){r.notify()}function h(){S.onStateChange&&S.onStateChange()}function d(){return o}function m(){a++,n||(n=t.subscribe(h),r=lK())}function v(){a--,n&&a===0&&(n(),n=void 0,r.clear(),r=$O)}function y(){o||(o=!0,m())}function _(){o&&(o=!1,v())}const S={addNestedSub:u,notifyNestedSubs:c,handleChangeWrapper:h,isSubscribed:d,trySubscribe:y,tryUnsubscribe:_,getListeners:()=>r};return S}var cK=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fK=cK(),hK=()=>typeof navigator<"u"&&navigator.product==="ReactNative",dK=hK(),mK=()=>fK||dK?C.useLayoutEffect:C.useEffect,pK=mK(),O0=Symbol.for("react-redux-context"),C0=typeof globalThis<"u"?globalThis:{};function gK(){if(!C.createContext)return{};const t=C0[O0]??(C0[O0]=new Map);let e=t.get(C.createContext);return e||(e=C.createContext(null),t.set(C.createContext,e)),e}var vK=gK();function yK(t){const{children:e,context:n,serverState:r,store:a}=t,o=C.useMemo(()=>{const h=uK(a);return{store:a,subscription:h,getServerState:r?()=>r:void 0}},[a,r]),u=C.useMemo(()=>a.getState(),[a]);pK(()=>{const{subscription:h}=o;return h.onStateChange=h.notifyNestedSubs,h.trySubscribe(),u!==a.getState()&&h.notifyNestedSubs(),()=>{h.tryUnsubscribe(),h.onStateChange=void 0}},[o,u]);const c=n||vK;return C.createElement(c.Provider,{value:o},e)}var bK=yK,xK=(t,e)=>e,Ux=ne([xK,rt,zN,sn,VD,Ta,zz,vn],Kz),zx=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},UR=zr("mouseClick"),zR=Sf();zR.startListening({actionCreator:UR,effect:(t,e)=>{var n=t.payload,r=Ux(e.getState(),zx(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(X8({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var kb=zr("mouseMove"),qR=Sf();qR.startListening({actionCreator:kb,effect:(t,e)=>{var n=t.payload,r=e.getState(),a=Ex(r,r.tooltip.settings.shared),o=Ux(r,zx(n));a==="axis"&&((o==null?void 0:o.activeIndex)!=null?e.dispatch(PD({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):e.dispatch(jD()))}});function _K(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":e}var FO={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},$R=xr({name:"rootProps",initialState:FO,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:FO.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),wK=$R.reducer,{updateOptions:EK}=$R.actions,FR=xr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:eJ}=FR.actions,SK=FR.reducer,HR=zr("keyDown"),KR=zr("focus"),qx=Sf();qx.startListening({actionCreator:HR,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip,o=t.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var u=Number(Sx(a,pu(n))),c=Ta(n);if(o==="Enter"){var h=pm(n,"axis","hover",String(a.index));e.dispatch(Tb({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:h}));return}var d=U8(n),m=d==="left-to-right"?1:-1,v=o==="ArrowRight"?1:-1,y=u+v*m;if(!(c==null||y>=c.length||y<0)){var _=pm(n,"axis","hover",String(y));e.dispatch(Tb({active:!0,activeIndex:y.toString(),activeDataKey:void 0,activeCoordinate:_}))}}}}});qx.startListening({actionCreator:KR,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip;if(!a.active&&a.index==null){var o="0",u=pm(n,"axis","hover",String(o));e.dispatch(Tb({activeDataKey:void 0,active:!0,activeIndex:o,activeCoordinate:u}))}}}});var kr=zr("externalEvent"),GR=Sf();GR.startListening({actionCreator:kr,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:Nz(n),activeDataKey:zD(n),activeIndex:jo(n),activeLabel:UD(n),activeTooltipIndex:jo(n),isTooltipActive:Dz(n)};t.payload.handler(r,t.payload.reactEvent)}}});var AK=ne([mu],t=>t.tooltipItemPayloads),TK=ne([AK,Rf,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var a=t.find(c=>c.settings.dataKey===r);if(a!=null){var{positions:o}=a;if(o!=null){var u=e(o,n);return u}}}),YR=zr("touchMove"),XR=Sf();XR.startListening({actionCreator:YR,effect:(t,e)=>{var n=t.payload,r=e.getState(),a=Ex(r,r.tooltip.settings.shared);if(a==="axis"){var o=Ux(r,zx({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&e.dispatch(PD({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(a==="item"){var u,c=n.touches[0],h=document.elementFromPoint(c.clientX,c.clientY);if(!h||!h.getAttribute)return;var d=h.getAttribute(fV),m=(u=h.getAttribute(hV))!==null&&u!==void 0?u:void 0,v=TK(e.getState(),d,m);e.dispatch(CD({activeDataKey:m,activeIndex:d,activeCoordinate:v}))}}});var OK=Wj({brush:bF,cartesianAxis:UH,chartData:l7,errorBars:w$,graphicalItems:e$,layout:I5,legend:TV,options:r7,polarAxis:Cq,polarOptions:SK,referenceElements:TF,rootProps:wK,tooltip:Q8}),CK=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return a5({reducer:OK,preloadedState:e,middleware:r=>r({serializableCheck:!1}).concat([zR.middleware,qR.middleware,qx.middleware,GR.middleware,XR.middleware]),devTools:{serialize:{replacer:_K},name:"recharts-".concat(n)}})};function jK(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,a=Zn(),o=C.useRef(null);if(a)return n;o.current==null&&(o.current=CK(e,r));var u=S1;return C.createElement(bK,{context:u,store:o.current},n)}function PK(t){var{layout:e,width:n,height:r,margin:a}=t,o=Yt(),u=Zn();return C.useEffect(()=>{u||(o(N5(e)),o(D5({width:n,height:r})),o(P5(a)))},[o,u,e,n,r,a]),null}function NK(t){var e=Yt();return C.useEffect(()=>{e(EK(t))},[e,t]),null}var DK=["children"];function RK(t,e){if(t==null)return{};var n,r,a=IK(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function IK(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Sm(){return Sm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sm.apply(null,arguments)}var MK={width:"100%",height:"100%"},kK=C.forwardRef((t,e)=>{var n=R1(),r=I1(),a=OP();if(!Zd(n)||!Zd(r))return null;var{children:o,otherAttributes:u,title:c,desc:h}=t,d,m;return typeof u.tabIndex=="number"?d=u.tabIndex:d=a?0:void 0,typeof u.role=="string"?m=u.role:m=a?"application":void 0,C.createElement(h1,Sm({},u,{title:c,desc:h,role:m,tabIndex:d,width:n,height:r,style:MK,ref:e}),o)}),VK=t=>{var{children:e}=t,n=Ee(ap);if(!n)return null;var{width:r,height:a,y:o,x:u}=n;return C.createElement(h1,{width:r,height:a,x:u,y:o},e)},HO=C.forwardRef((t,e)=>{var{children:n}=t,r=RK(t,DK),a=Zn();return a?C.createElement(VK,null,n):C.createElement(kK,Sm({ref:e},r),n)});function LK(){var t=Yt(),[e,n]=C.useState(null),r=Ee(cV);return C.useEffect(()=>{if(e!=null){var a=e.getBoundingClientRect(),o=a.width/e.offsetWidth;br(o)&&o!==r&&t(R5(o))}},[e,t,r]),n}function KO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function BK(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KO(Object(n),!0).forEach(function(r){UK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UK(t,e,n){return(e=zK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zK(t){var e=qK(t,"string");return typeof e=="symbol"?e:e+""}function qK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $K=C.forwardRef((t,e)=>{var{children:n,className:r,height:a,onClick:o,onContextMenu:u,onDoubleClick:c,onMouseDown:h,onMouseEnter:d,onMouseLeave:m,onMouseMove:v,onMouseUp:y,onTouchEnd:_,onTouchMove:S,onTouchStart:E,style:A,width:j}=t,I=Yt(),[P,U]=C.useState(null),[B,H]=C.useState(null);f7();var N=LK(),R=C.useCallback(ie=>{N(ie),typeof e=="function"&&e(ie),U(ie),H(ie)},[N,e,U,H]),k=C.useCallback(ie=>{I(UR(ie)),I(kr({handler:o,reactEvent:ie}))},[I,o]),$=C.useCallback(ie=>{I(kb(ie)),I(kr({handler:d,reactEvent:ie}))},[I,d]),L=C.useCallback(ie=>{I(jD()),I(kr({handler:m,reactEvent:ie}))},[I,m]),q=C.useCallback(ie=>{I(kb(ie)),I(kr({handler:v,reactEvent:ie}))},[I,v]),V=C.useCallback(()=>{I(KR())},[I]),Ce=C.useCallback(ie=>{I(HR(ie.key))},[I]),Se=C.useCallback(ie=>{I(kr({handler:u,reactEvent:ie}))},[I,u]),X=C.useCallback(ie=>{I(kr({handler:c,reactEvent:ie}))},[I,c]),ue=C.useCallback(ie=>{I(kr({handler:h,reactEvent:ie}))},[I,h]),ee=C.useCallback(ie=>{I(kr({handler:y,reactEvent:ie}))},[I,y]),de=C.useCallback(ie=>{I(kr({handler:E,reactEvent:ie}))},[I,E]),z=C.useCallback(ie=>{I(YR(ie)),I(kr({handler:S,reactEvent:ie}))},[I,S]),re=C.useCallback(ie=>{I(kr({handler:_,reactEvent:ie}))},[I,_]);return C.createElement(GD.Provider,{value:P},C.createElement(xj.Provider,{value:B},C.createElement("div",{className:ct("recharts-wrapper",r),style:BK({position:"relative",cursor:"default",width:j,height:a},A),onClick:k,onContextMenu:Se,onDoubleClick:X,onFocus:V,onKeyDown:Ce,onMouseDown:ue,onMouseEnter:$,onMouseLeave:L,onMouseMove:q,onMouseUp:ee,onTouchEnd:re,onTouchMove:z,onTouchStart:de,ref:R},n)))}),FK=["children","className","width","height","style","compact","title","desc"];function HK(t,e){if(t==null)return{};var n,r,a=KK(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function KK(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var GK=C.forwardRef((t,e)=>{var{children:n,className:r,width:a,height:o,style:u,compact:c,title:h,desc:d}=t,m=HK(t,FK),v=Io(m);return c?C.createElement(HO,{otherAttributes:v,title:h,desc:d},n):C.createElement($K,{className:r,style:u,width:a,height:o,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},C.createElement(HO,{otherAttributes:v,title:h,desc:d,ref:e},C.createElement(CF,null,n)))}),YK=["width","height"];function Vb(){return Vb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vb.apply(null,arguments)}function XK(t,e){if(t==null)return{};var n,r,a=QK(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function QK(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var WK={top:5,right:5,bottom:5,left:5},ZK={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:WK,reverseStackOrder:!1,syncMethod:"index"},QR=C.forwardRef(function(e,n){var r,a=Mi(e.categoricalChartProps,ZK),{width:o,height:u}=a,c=XK(a,YK);if(!Zd(o)||!Zd(u))return null;var{chartName:h,defaultTooltipEventType:d,validateTooltipEventTypes:m,tooltipPayloadSearcher:v,categoricalChartProps:y}=e,_={chartName:h,defaultTooltipEventType:d,validateTooltipEventTypes:m,tooltipPayloadSearcher:v,eventEmitter:void 0};return C.createElement(jK,{preloadedState:{options:_},reduxStoreName:(r=y.id)!==null&&r!==void 0?r:h},C.createElement(yF,{chartData:y.data}),C.createElement(PK,{width:o,height:u,layout:a.layout,margin:a.margin}),C.createElement(NK,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),C.createElement(GK,Vb({},c,{width:o,height:u,ref:n})))}),JK=["axis"],eG=C.forwardRef((t,e)=>C.createElement(QR,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:JK,tooltipPayloadSearcher:YD,categoricalChartProps:t,ref:e})),tG=["axis","item"],nG=C.forwardRef((t,e)=>C.createElement(QR,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:tG,tooltipPayloadSearcher:YD,categoricalChartProps:t,ref:e}));const Sd=({title:t,value:e,icon:n,color:r})=>x.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-medium text-gray-500",children:t}),x.jsx("p",{className:"text-3xl font-bold text-gray-800",children:e})]}),x.jsx("div",{className:`p-3 rounded-full ${r}`,children:n})]}),GO=({title:t,children:e})=>x.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[x.jsx("h3",{className:"text-xl font-bold mb-4 text-gray-700",children:t}),x.jsx("div",{style:{width:"100%",height:300},children:x.jsx(C7,{children:e})})]}),rG=({invoices:t})=>x.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[x.jsx("h3",{className:"text-xl font-bold mb-4 text-gray-700",children:"أحدث الفواتير"}),x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full text-right",children:[x.jsx("thead",{children:x.jsxs("tr",{className:"border-b",children:[x.jsx("th",{className:"p-2",children:"رقم الفاتورة"}),x.jsx("th",{className:"p-2",children:"العميل"}),x.jsx("th",{className:"p-2",children:"التاريخ"}),x.jsx("th",{className:"p-2",children:"الإجمالي"})]})}),x.jsx("tbody",{children:t.slice(0,5).map(e=>{var n;return x.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[x.jsx("td",{className:"p-2",children:e.id}),x.jsx("td",{className:"p-2",children:((n=e.customer)==null?void 0:n.name)||"عميل نقدي"}),x.jsx("td",{className:"p-2",children:e.date}),x.jsxs("td",{className:"p-2",children:[e.total.toFixed(2)," ج.م"]})]},e.id)})})]})})]}),iG=({products:t})=>x.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[x.jsx("h3",{className:"text-xl font-bold mb-4 text-gray-700",children:"أحدث المنتجات المضافة"}),x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full text-right",children:[x.jsx("thead",{children:x.jsxs("tr",{className:"border-b",children:[x.jsx("th",{className:"p-2",children:"المنتج"}),x.jsx("th",{className:"p-2",children:"السعر"}),x.jsx("th",{className:"p-2",children:"الكمية"})]})}),x.jsx("tbody",{children:t.slice(0,5).map(e=>x.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[x.jsx("td",{className:"p-2",children:e.name}),x.jsxs("td",{className:"p-2",children:[e.price.toFixed(2)," ج.م"]}),x.jsxs("td",{className:"p-2",children:[e.quantity," ",e.unit.name]})]},e.id))})]})})]}),j0=()=>{const{products:t,customers:e,invoices:n}=si(),r=n.reduce((v,y)=>v+y.total,0),a=n.length,o=n.reduce((v,y)=>{const _=y.items.reduce((S,E)=>{const A=t.find(j=>j.id===E.product.id);return A?S+(E.price-A.purchasePrice)*E.quantity:S},0);return v+_},0),u=t.reduce((v,y)=>v+y.purchasePrice*y.quantity,0);t.filter(v=>v.quantity===0).length,t.length,e.length;const c=n.reduce((v,y)=>{const _=new Date(y.date).toLocaleDateString("ar-EG",{weekday:"long"});return v[_]=(v[_]||0)+y.total,v},{}),h=Object.keys(c).map(v=>({name:v,sales:c[v]})),d=n.flatMap(v=>v.items).reduce((v,y)=>(v[y.product.name]=(v[y.product.name]||0)+y.quantity,v),{}),m=Object.keys(d).map(v=>({name:v.length>15?v.substring(0,15)+"...":v,quantitySold:d[v]})).sort((v,y)=>y.quantitySold-v.quantitySold).slice(0,5);return x.jsxs("div",{children:[x.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-8",children:"لوحة التحكم الشاملة"}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[x.jsx(Sd,{title:"إجمالي المبيعات",value:`${r.toFixed(2)} ج.م`,icon:x.jsx($0,{className:"h-8 w-8 text-white"}),color:"bg-green-500"}),x.jsx(Sd,{title:"إجمالي الأرباح",value:`${o.toFixed(2)} ج.م`,icon:x.jsx($0,{className:"h-8 w-8 text-white"}),color:"bg-teal-500"}),x.jsx(Sd,{title:"قيمة المخزون",value:`${u.toFixed(2)} ج.م`,icon:x.jsx(oj,{className:"h-8 w-8 text-white"}),color:"bg-orange-500"}),x.jsx(Sd,{title:"إجمالي الفواتير",value:a,icon:x.jsx(s1,{className:"h-8 w-8 text-white"}),color:"bg-blue-500"})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[x.jsx(GO,{title:"ملخص المبيعات اليومي",children:x.jsxs(eG,{data:h,children:[x.jsx(Db,{strokeDasharray:"3 3"}),x.jsx(wm,{dataKey:"name"}),x.jsx(Em,{}),x.jsx(Q2,{formatter:v=>`${v.toFixed(2)} ج.م`}),x.jsx(nf,{}),x.jsx(MR,{type:"monotone",dataKey:"sales",name:"المبيعات",stroke:"#3b82f6",strokeWidth:2})]})}),x.jsx(GO,{title:"المنتجات الأكثر مبيعاً",children:x.jsxs(nG,{data:m,layout:"vertical",children:[x.jsx(Db,{strokeDasharray:"3 3"}),x.jsx(wm,{type:"number"}),x.jsx(Em,{dataKey:"name",type:"category",width:100}),x.jsx(Q2,{formatter:v=>`${v} قطعة`}),x.jsx(nf,{}),x.jsx(ER,{dataKey:"quantitySold",name:"الكمية المباعة",fill:"#8b5cf6"})]})})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[x.jsx(rG,{invoices:n}),x.jsx(iG,{products:t})]})]})},aG=()=>{};var YO={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},sG=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=t[n++];e[r++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=t[n++],u=t[n++],c=t[n++],h=((a&7)<<18|(o&63)<<12|(u&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const o=t[n++],u=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(o&63)<<6|u&63)}}return e.join("")},ZR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const o=t[a],u=a+1<t.length,c=u?t[a+1]:0,h=a+2<t.length,d=h?t[a+2]:0,m=o>>2,v=(o&3)<<4|c>>4;let y=(c&15)<<2|d>>6,_=d&63;h||(_=64,u||(y=64)),r.push(n[m],n[v],n[y],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(WR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):sG(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const o=n[t.charAt(a++)],c=a<t.length?n[t.charAt(a)]:0;++a;const d=a<t.length?n[t.charAt(a)]:64;++a;const v=a<t.length?n[t.charAt(a)]:64;if(++a,o==null||c==null||d==null||v==null)throw new oG;const y=o<<2|c>>4;if(r.push(y),d!==64){const _=c<<4&240|d>>2;if(r.push(_),v!==64){const S=d<<6&192|v;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class oG extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lG=function(t){const e=WR(t);return ZR.encodeByteArray(e,!0)},Am=function(t){return lG(t).replace(/\./g,"")},uG=function(t){try{return ZR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cG(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fG=()=>cG().__FIREBASE_DEFAULTS__,hG=()=>{if(typeof process>"u"||typeof YO>"u")return;const t=YO.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},dG=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&uG(t[1]);return e&&JSON.parse(e)},$x=()=>{try{return aG()||fG()||hG()||dG()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},mG=t=>{var e,n;return(n=(e=$x())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},pG=t=>{const e=mG(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},JR=()=>{var t;return(t=$x())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gG{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fx(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function vG(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yG(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Am(JSON.stringify(n)),Am(JSON.stringify(u)),""].join(".")}const Kc={};function bG(){const t={prod:[],emulator:[]};for(const e of Object.keys(Kc))Kc[e]?t.emulator.push(e):t.prod.push(e);return t}function xG(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let XO=!1;function _G(t,e){if(typeof window>"u"||typeof document>"u"||!Fx(window.location.host)||Kc[t]===e||Kc[t]||XO)return;Kc[t]=e;function n(y){return`__firebase__banner__${y}`}const r="__firebase__banner",o=bG().prod.length>0;function u(){const y=document.getElementById(r);y&&y.remove()}function c(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function h(y,_){y.setAttribute("width","24"),y.setAttribute("id",_),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function d(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{XO=!0,u()},y}function m(y,_){y.setAttribute("id",_),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function v(){const y=xG(r),_=n("text"),S=document.getElementById(_)||document.createElement("span"),E=n("learnmore"),A=document.getElementById(E)||document.createElement("a"),j=n("preprendIcon"),I=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const P=y.element;c(P),m(A,E);const U=d();h(I,j),P.append(I,S,A,U),document.body.appendChild(P)}o?(S.innerText="Preview backend disconnected.",I.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(I.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wG(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function EG(){var e;const t=(e=$x())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function SG(){return!EG()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function AG(){try{return typeof indexedDB=="object"}catch{return!1}}function TG(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var o;e(((o=a.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OG="FirebaseError";class gu extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=OG,Object.setPrototypeOf(this,gu.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,eI.prototype.create)}}class eI{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,o=this.errors[e],u=o?CG(o,r):"Error",c=`${this.serviceName}: ${u} (${a}).`;return new gu(a,c,r)}}function CG(t,e){return t.replace(jG,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const jG=/\{\$([^}]+)}/g;function Tm(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const o=t[a],u=e[a];if(QO(o)&&QO(u)){if(!Tm(o,u))return!1}else if(o!==u)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function QO(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ff(t){return t&&t._delegate?t._delegate:t}class hf{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PG{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new gG;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(DG(e))try{this.getOrInitializeService({instanceIdentifier:co})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:a});r.resolve(o)}catch{}}}}clearInstance(e=co){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=co){return this.instances.has(e)}getOptions(e=co){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,u]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&u.resolve(a)}return a}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const o=this.instances.get(r);return o&&e(o,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:NG(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=co){return this.component?this.component.multipleInstances?e:co:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function NG(t){return t===co?void 0:t}function DG(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RG{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new PG(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ze||(Ze={}));const IG={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},MG=Ze.INFO,kG={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},VG=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=kG[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class tI{constructor(e){this.name=e,this._logLevel=MG,this._logHandler=VG,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?IG[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...e),this._logHandler(this,Ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...e),this._logHandler(this,Ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...e),this._logHandler(this,Ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...e),this._logHandler(this,Ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...e),this._logHandler(this,Ze.ERROR,...e)}}const LG=(t,e)=>e.some(n=>t instanceof n);let WO,ZO;function BG(){return WO||(WO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function UG(){return ZO||(ZO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nI=new WeakMap,Lb=new WeakMap,rI=new WeakMap,P0=new WeakMap,Hx=new WeakMap;function zG(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",o),t.removeEventListener("error",u)},o=()=>{n(ls(t.result)),a()},u=()=>{r(t.error),a()};t.addEventListener("success",o),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&nI.set(n,t)}).catch(()=>{}),Hx.set(e,t),e}function qG(t){if(Lb.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",u),t.removeEventListener("abort",u)},o=()=>{n(),a()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",o),t.addEventListener("error",u),t.addEventListener("abort",u)});Lb.set(t,e)}let Bb={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Lb.get(t);if(e==="objectStoreNames")return t.objectStoreNames||rI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ls(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function $G(t){Bb=t(Bb)}function FG(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(N0(this),e,...n);return rI.set(r,e.sort?e.sort():[e]),ls(r)}:UG().includes(t)?function(...e){return t.apply(N0(this),e),ls(nI.get(this))}:function(...e){return ls(t.apply(N0(this),e))}}function HG(t){return typeof t=="function"?FG(t):(t instanceof IDBTransaction&&qG(t),LG(t,BG())?new Proxy(t,Bb):t)}function ls(t){if(t instanceof IDBRequest)return zG(t);if(P0.has(t))return P0.get(t);const e=HG(t);return e!==t&&(P0.set(t,e),Hx.set(e,t)),e}const N0=t=>Hx.get(t);function KG(t,e,{blocked:n,upgrade:r,blocking:a,terminated:o}={}){const u=indexedDB.open(t,e),c=ls(u);return r&&u.addEventListener("upgradeneeded",h=>{r(ls(u.result),h.oldVersion,h.newVersion,ls(u.transaction),h)}),n&&u.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),c.then(h=>{o&&h.addEventListener("close",()=>o()),a&&h.addEventListener("versionchange",d=>a(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const GG=["get","getKey","getAll","getAllKeys","count"],YG=["put","add","delete","clear"],D0=new Map;function JO(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(D0.get(e))return D0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=YG.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||GG.includes(n)))return;const o=async function(u,...c){const h=this.transaction(u,a?"readwrite":"readonly");let d=h.store;return r&&(d=d.index(c.shift())),(await Promise.all([d[n](...c),a&&h.done]))[0]};return D0.set(e,o),o}$G(t=>({...t,get:(e,n,r)=>JO(e,n)||t.get(e,n,r),has:(e,n)=>!!JO(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XG{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(QG(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function QG(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ub="@firebase/app",eC="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba=new tI("@firebase/app"),WG="@firebase/app-compat",ZG="@firebase/analytics-compat",JG="@firebase/analytics",eY="@firebase/app-check-compat",tY="@firebase/app-check",nY="@firebase/auth",rY="@firebase/auth-compat",iY="@firebase/database",aY="@firebase/data-connect",sY="@firebase/database-compat",oY="@firebase/functions",lY="@firebase/functions-compat",uY="@firebase/installations",cY="@firebase/installations-compat",fY="@firebase/messaging",hY="@firebase/messaging-compat",dY="@firebase/performance",mY="@firebase/performance-compat",pY="@firebase/remote-config",gY="@firebase/remote-config-compat",vY="@firebase/storage",yY="@firebase/storage-compat",bY="@firebase/firestore",xY="@firebase/ai",_Y="@firebase/firestore-compat",wY="firebase",EY="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="[DEFAULT]",SY={[Ub]:"fire-core",[WG]:"fire-core-compat",[JG]:"fire-analytics",[ZG]:"fire-analytics-compat",[tY]:"fire-app-check",[eY]:"fire-app-check-compat",[nY]:"fire-auth",[rY]:"fire-auth-compat",[iY]:"fire-rtdb",[aY]:"fire-data-connect",[sY]:"fire-rtdb-compat",[oY]:"fire-fn",[lY]:"fire-fn-compat",[uY]:"fire-iid",[cY]:"fire-iid-compat",[fY]:"fire-fcm",[hY]:"fire-fcm-compat",[dY]:"fire-perf",[mY]:"fire-perf-compat",[pY]:"fire-rc",[gY]:"fire-rc-compat",[vY]:"fire-gcs",[yY]:"fire-gcs-compat",[bY]:"fire-fst",[_Y]:"fire-fst-compat",[xY]:"fire-vertex","fire-js":"fire-js",[wY]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om=new Map,AY=new Map,qb=new Map;function tC(t,e){try{t.container.addComponent(e)}catch(n){ba.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Cm(t){const e=t.name;if(qb.has(e))return ba.debug(`There were multiple attempts to register component ${e}.`),!1;qb.set(e,t);for(const n of Om.values())tC(n,t);for(const n of AY.values())tC(n,t);return!0}function TY(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function OY(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CY={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},us=new eI("app","Firebase",CY);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jY{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new hf("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw us.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PY=EY;function iI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:zb,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw us.create("bad-app-name",{appName:String(a)});if(n||(n=JR()),!n)throw us.create("no-options");const o=Om.get(a);if(o){if(Tm(n,o.options)&&Tm(r,o.config))return o;throw us.create("duplicate-app",{appName:a})}const u=new RG(a);for(const h of qb.values())u.addComponent(h);const c=new jY(n,r,u);return Om.set(a,c),c}function NY(t=zb){const e=Om.get(t);if(!e&&t===zb&&JR())return iI();if(!e)throw us.create("no-app",{appName:t});return e}function ql(t,e,n){let r=SY[t]??t;n&&(r+=`-${n}`);const a=r.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const u=[`Unable to register library "${r}" with version "${e}":`];a&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ba.warn(u.join(" "));return}Cm(new hf(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DY="firebase-heartbeat-database",RY=1,df="firebase-heartbeat-store";let R0=null;function aI(){return R0||(R0=KG(DY,RY,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(df)}catch(n){console.warn(n)}}}}).catch(t=>{throw us.create("idb-open",{originalErrorMessage:t.message})})),R0}async function IY(t){try{const n=(await aI()).transaction(df),r=await n.objectStore(df).get(sI(t));return await n.done,r}catch(e){if(e instanceof gu)ba.warn(e.message);else{const n=us.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ba.warn(n.message)}}}async function nC(t,e){try{const r=(await aI()).transaction(df,"readwrite");await r.objectStore(df).put(e,sI(t)),await r.done}catch(n){if(n instanceof gu)ba.warn(n.message);else{const r=us.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ba.warn(r.message)}}}function sI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MY=1024,kY=30;class VY{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new BY(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=rC();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:a}),this._heartbeatsCache.heartbeats.length>kY){const u=UY(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ba.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=rC(),{heartbeatsToSend:r,unsentEntries:a}=LY(this._heartbeatsCache.heartbeats),o=Am(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return ba.warn(n),""}}}function rC(){return new Date().toISOString().substring(0,10)}function LY(t,e=MY){const n=[];let r=t.slice();for(const a of t){const o=n.find(u=>u.agent===a.agent);if(o){if(o.dates.push(a.date),iC(n)>e){o.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),iC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class BY{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return AG()?TG().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await IY(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return nC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return nC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function iC(t){return Am(JSON.stringify({version:2,heartbeats:t})).length}function UY(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zY(t){Cm(new hf("platform-logger",e=>new XG(e),"PRIVATE")),Cm(new hf("heartbeat",e=>new VY(e),"PRIVATE")),ql(Ub,eC,t),ql(Ub,eC,"esm2020"),ql("fire-js","")}zY("");var qY="firebase",$Y="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ql(qY,$Y,"app");var aC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cs,oI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,R){function k(){}k.prototype=R.prototype,N.D=R.prototype,N.prototype=new k,N.prototype.constructor=N,N.C=function($,L,q){for(var V=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)V[Ce-2]=arguments[Ce];return R.prototype[L].apply($,V)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(N,R,k){k||(k=0);var $=Array(16);if(typeof R=="string")for(var L=0;16>L;++L)$[L]=R.charCodeAt(k++)|R.charCodeAt(k++)<<8|R.charCodeAt(k++)<<16|R.charCodeAt(k++)<<24;else for(L=0;16>L;++L)$[L]=R[k++]|R[k++]<<8|R[k++]<<16|R[k++]<<24;R=N.g[0],k=N.g[1],L=N.g[2];var q=N.g[3],V=R+(q^k&(L^q))+$[0]+3614090360&4294967295;R=k+(V<<7&4294967295|V>>>25),V=q+(L^R&(k^L))+$[1]+3905402710&4294967295,q=R+(V<<12&4294967295|V>>>20),V=L+(k^q&(R^k))+$[2]+606105819&4294967295,L=q+(V<<17&4294967295|V>>>15),V=k+(R^L&(q^R))+$[3]+3250441966&4294967295,k=L+(V<<22&4294967295|V>>>10),V=R+(q^k&(L^q))+$[4]+4118548399&4294967295,R=k+(V<<7&4294967295|V>>>25),V=q+(L^R&(k^L))+$[5]+1200080426&4294967295,q=R+(V<<12&4294967295|V>>>20),V=L+(k^q&(R^k))+$[6]+2821735955&4294967295,L=q+(V<<17&4294967295|V>>>15),V=k+(R^L&(q^R))+$[7]+4249261313&4294967295,k=L+(V<<22&4294967295|V>>>10),V=R+(q^k&(L^q))+$[8]+1770035416&4294967295,R=k+(V<<7&4294967295|V>>>25),V=q+(L^R&(k^L))+$[9]+2336552879&4294967295,q=R+(V<<12&4294967295|V>>>20),V=L+(k^q&(R^k))+$[10]+4294925233&4294967295,L=q+(V<<17&4294967295|V>>>15),V=k+(R^L&(q^R))+$[11]+2304563134&4294967295,k=L+(V<<22&4294967295|V>>>10),V=R+(q^k&(L^q))+$[12]+1804603682&4294967295,R=k+(V<<7&4294967295|V>>>25),V=q+(L^R&(k^L))+$[13]+4254626195&4294967295,q=R+(V<<12&4294967295|V>>>20),V=L+(k^q&(R^k))+$[14]+2792965006&4294967295,L=q+(V<<17&4294967295|V>>>15),V=k+(R^L&(q^R))+$[15]+1236535329&4294967295,k=L+(V<<22&4294967295|V>>>10),V=R+(L^q&(k^L))+$[1]+4129170786&4294967295,R=k+(V<<5&4294967295|V>>>27),V=q+(k^L&(R^k))+$[6]+3225465664&4294967295,q=R+(V<<9&4294967295|V>>>23),V=L+(R^k&(q^R))+$[11]+643717713&4294967295,L=q+(V<<14&4294967295|V>>>18),V=k+(q^R&(L^q))+$[0]+3921069994&4294967295,k=L+(V<<20&4294967295|V>>>12),V=R+(L^q&(k^L))+$[5]+3593408605&4294967295,R=k+(V<<5&4294967295|V>>>27),V=q+(k^L&(R^k))+$[10]+38016083&4294967295,q=R+(V<<9&4294967295|V>>>23),V=L+(R^k&(q^R))+$[15]+3634488961&4294967295,L=q+(V<<14&4294967295|V>>>18),V=k+(q^R&(L^q))+$[4]+3889429448&4294967295,k=L+(V<<20&4294967295|V>>>12),V=R+(L^q&(k^L))+$[9]+568446438&4294967295,R=k+(V<<5&4294967295|V>>>27),V=q+(k^L&(R^k))+$[14]+3275163606&4294967295,q=R+(V<<9&4294967295|V>>>23),V=L+(R^k&(q^R))+$[3]+4107603335&4294967295,L=q+(V<<14&4294967295|V>>>18),V=k+(q^R&(L^q))+$[8]+1163531501&4294967295,k=L+(V<<20&4294967295|V>>>12),V=R+(L^q&(k^L))+$[13]+2850285829&4294967295,R=k+(V<<5&4294967295|V>>>27),V=q+(k^L&(R^k))+$[2]+4243563512&4294967295,q=R+(V<<9&4294967295|V>>>23),V=L+(R^k&(q^R))+$[7]+1735328473&4294967295,L=q+(V<<14&4294967295|V>>>18),V=k+(q^R&(L^q))+$[12]+2368359562&4294967295,k=L+(V<<20&4294967295|V>>>12),V=R+(k^L^q)+$[5]+4294588738&4294967295,R=k+(V<<4&4294967295|V>>>28),V=q+(R^k^L)+$[8]+2272392833&4294967295,q=R+(V<<11&4294967295|V>>>21),V=L+(q^R^k)+$[11]+1839030562&4294967295,L=q+(V<<16&4294967295|V>>>16),V=k+(L^q^R)+$[14]+4259657740&4294967295,k=L+(V<<23&4294967295|V>>>9),V=R+(k^L^q)+$[1]+2763975236&4294967295,R=k+(V<<4&4294967295|V>>>28),V=q+(R^k^L)+$[4]+1272893353&4294967295,q=R+(V<<11&4294967295|V>>>21),V=L+(q^R^k)+$[7]+4139469664&4294967295,L=q+(V<<16&4294967295|V>>>16),V=k+(L^q^R)+$[10]+3200236656&4294967295,k=L+(V<<23&4294967295|V>>>9),V=R+(k^L^q)+$[13]+681279174&4294967295,R=k+(V<<4&4294967295|V>>>28),V=q+(R^k^L)+$[0]+3936430074&4294967295,q=R+(V<<11&4294967295|V>>>21),V=L+(q^R^k)+$[3]+3572445317&4294967295,L=q+(V<<16&4294967295|V>>>16),V=k+(L^q^R)+$[6]+76029189&4294967295,k=L+(V<<23&4294967295|V>>>9),V=R+(k^L^q)+$[9]+3654602809&4294967295,R=k+(V<<4&4294967295|V>>>28),V=q+(R^k^L)+$[12]+3873151461&4294967295,q=R+(V<<11&4294967295|V>>>21),V=L+(q^R^k)+$[15]+530742520&4294967295,L=q+(V<<16&4294967295|V>>>16),V=k+(L^q^R)+$[2]+3299628645&4294967295,k=L+(V<<23&4294967295|V>>>9),V=R+(L^(k|~q))+$[0]+4096336452&4294967295,R=k+(V<<6&4294967295|V>>>26),V=q+(k^(R|~L))+$[7]+1126891415&4294967295,q=R+(V<<10&4294967295|V>>>22),V=L+(R^(q|~k))+$[14]+2878612391&4294967295,L=q+(V<<15&4294967295|V>>>17),V=k+(q^(L|~R))+$[5]+4237533241&4294967295,k=L+(V<<21&4294967295|V>>>11),V=R+(L^(k|~q))+$[12]+1700485571&4294967295,R=k+(V<<6&4294967295|V>>>26),V=q+(k^(R|~L))+$[3]+2399980690&4294967295,q=R+(V<<10&4294967295|V>>>22),V=L+(R^(q|~k))+$[10]+4293915773&4294967295,L=q+(V<<15&4294967295|V>>>17),V=k+(q^(L|~R))+$[1]+2240044497&4294967295,k=L+(V<<21&4294967295|V>>>11),V=R+(L^(k|~q))+$[8]+1873313359&4294967295,R=k+(V<<6&4294967295|V>>>26),V=q+(k^(R|~L))+$[15]+4264355552&4294967295,q=R+(V<<10&4294967295|V>>>22),V=L+(R^(q|~k))+$[6]+2734768916&4294967295,L=q+(V<<15&4294967295|V>>>17),V=k+(q^(L|~R))+$[13]+1309151649&4294967295,k=L+(V<<21&4294967295|V>>>11),V=R+(L^(k|~q))+$[4]+4149444226&4294967295,R=k+(V<<6&4294967295|V>>>26),V=q+(k^(R|~L))+$[11]+3174756917&4294967295,q=R+(V<<10&4294967295|V>>>22),V=L+(R^(q|~k))+$[2]+718787259&4294967295,L=q+(V<<15&4294967295|V>>>17),V=k+(q^(L|~R))+$[9]+3951481745&4294967295,N.g[0]=N.g[0]+R&4294967295,N.g[1]=N.g[1]+(L+(V<<21&4294967295|V>>>11))&4294967295,N.g[2]=N.g[2]+L&4294967295,N.g[3]=N.g[3]+q&4294967295}r.prototype.u=function(N,R){R===void 0&&(R=N.length);for(var k=R-this.blockSize,$=this.B,L=this.h,q=0;q<R;){if(L==0)for(;q<=k;)a(this,N,q),q+=this.blockSize;if(typeof N=="string"){for(;q<R;)if($[L++]=N.charCodeAt(q++),L==this.blockSize){a(this,$),L=0;break}}else for(;q<R;)if($[L++]=N[q++],L==this.blockSize){a(this,$),L=0;break}}this.h=L,this.o+=R},r.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var R=1;R<N.length-8;++R)N[R]=0;var k=8*this.o;for(R=N.length-8;R<N.length;++R)N[R]=k&255,k/=256;for(this.u(N),N=Array(16),R=k=0;4>R;++R)for(var $=0;32>$;$+=8)N[k++]=this.g[R]>>>$&255;return N};function o(N,R){var k=c;return Object.prototype.hasOwnProperty.call(k,N)?k[N]:k[N]=R(N)}function u(N,R){this.h=R;for(var k=[],$=!0,L=N.length-1;0<=L;L--){var q=N[L]|0;$&&q==R||(k[L]=q,$=!1)}this.g=k}var c={};function h(N){return-128<=N&&128>N?o(N,function(R){return new u([R|0],0>R?-1:0)}):new u([N|0],0>N?-1:0)}function d(N){if(isNaN(N)||!isFinite(N))return v;if(0>N)return A(d(-N));for(var R=[],k=1,$=0;N>=k;$++)R[$]=N/k|0,k*=4294967296;return new u(R,0)}function m(N,R){if(N.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(N.charAt(0)=="-")return A(m(N.substring(1),R));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=d(Math.pow(R,8)),$=v,L=0;L<N.length;L+=8){var q=Math.min(8,N.length-L),V=parseInt(N.substring(L,L+q),R);8>q?(q=d(Math.pow(R,q)),$=$.j(q).add(d(V))):($=$.j(k),$=$.add(d(V)))}return $}var v=h(0),y=h(1),_=h(16777216);t=u.prototype,t.m=function(){if(E(this))return-A(this).m();for(var N=0,R=1,k=0;k<this.g.length;k++){var $=this.i(k);N+=(0<=$?$:4294967296+$)*R,R*=4294967296}return N},t.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(S(this))return"0";if(E(this))return"-"+A(this).toString(N);for(var R=d(Math.pow(N,6)),k=this,$="";;){var L=U(k,R).g;k=j(k,L.j(R));var q=((0<k.g.length?k.g[0]:k.h)>>>0).toString(N);if(k=L,S(k))return q+$;for(;6>q.length;)q="0"+q;$=q+$}},t.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function S(N){if(N.h!=0)return!1;for(var R=0;R<N.g.length;R++)if(N.g[R]!=0)return!1;return!0}function E(N){return N.h==-1}t.l=function(N){return N=j(this,N),E(N)?-1:S(N)?0:1};function A(N){for(var R=N.g.length,k=[],$=0;$<R;$++)k[$]=~N.g[$];return new u(k,~N.h).add(y)}t.abs=function(){return E(this)?A(this):this},t.add=function(N){for(var R=Math.max(this.g.length,N.g.length),k=[],$=0,L=0;L<=R;L++){var q=$+(this.i(L)&65535)+(N.i(L)&65535),V=(q>>>16)+(this.i(L)>>>16)+(N.i(L)>>>16);$=V>>>16,q&=65535,V&=65535,k[L]=V<<16|q}return new u(k,k[k.length-1]&-2147483648?-1:0)};function j(N,R){return N.add(A(R))}t.j=function(N){if(S(this)||S(N))return v;if(E(this))return E(N)?A(this).j(A(N)):A(A(this).j(N));if(E(N))return A(this.j(A(N)));if(0>this.l(_)&&0>N.l(_))return d(this.m()*N.m());for(var R=this.g.length+N.g.length,k=[],$=0;$<2*R;$++)k[$]=0;for($=0;$<this.g.length;$++)for(var L=0;L<N.g.length;L++){var q=this.i($)>>>16,V=this.i($)&65535,Ce=N.i(L)>>>16,Se=N.i(L)&65535;k[2*$+2*L]+=V*Se,I(k,2*$+2*L),k[2*$+2*L+1]+=q*Se,I(k,2*$+2*L+1),k[2*$+2*L+1]+=V*Ce,I(k,2*$+2*L+1),k[2*$+2*L+2]+=q*Ce,I(k,2*$+2*L+2)}for($=0;$<R;$++)k[$]=k[2*$+1]<<16|k[2*$];for($=R;$<2*R;$++)k[$]=0;return new u(k,0)};function I(N,R){for(;(N[R]&65535)!=N[R];)N[R+1]+=N[R]>>>16,N[R]&=65535,R++}function P(N,R){this.g=N,this.h=R}function U(N,R){if(S(R))throw Error("division by zero");if(S(N))return new P(v,v);if(E(N))return R=U(A(N),R),new P(A(R.g),A(R.h));if(E(R))return R=U(N,A(R)),new P(A(R.g),R.h);if(30<N.g.length){if(E(N)||E(R))throw Error("slowDivide_ only works with positive integers.");for(var k=y,$=R;0>=$.l(N);)k=B(k),$=B($);var L=H(k,1),q=H($,1);for($=H($,2),k=H(k,2);!S($);){var V=q.add($);0>=V.l(N)&&(L=L.add(k),q=V),$=H($,1),k=H(k,1)}return R=j(N,L.j(R)),new P(L,R)}for(L=v;0<=N.l(R);){for(k=Math.max(1,Math.floor(N.m()/R.m())),$=Math.ceil(Math.log(k)/Math.LN2),$=48>=$?1:Math.pow(2,$-48),q=d(k),V=q.j(R);E(V)||0<V.l(N);)k-=$,q=d(k),V=q.j(R);S(q)&&(q=y),L=L.add(q),N=j(N,V)}return new P(L,N)}t.A=function(N){return U(this,N).h},t.and=function(N){for(var R=Math.max(this.g.length,N.g.length),k=[],$=0;$<R;$++)k[$]=this.i($)&N.i($);return new u(k,this.h&N.h)},t.or=function(N){for(var R=Math.max(this.g.length,N.g.length),k=[],$=0;$<R;$++)k[$]=this.i($)|N.i($);return new u(k,this.h|N.h)},t.xor=function(N){for(var R=Math.max(this.g.length,N.g.length),k=[],$=0;$<R;$++)k[$]=this.i($)^N.i($);return new u(k,this.h^N.h)};function B(N){for(var R=N.g.length+1,k=[],$=0;$<R;$++)k[$]=N.i($)<<1|N.i($-1)>>>31;return new u(k,N.h)}function H(N,R){var k=R>>5;R%=32;for(var $=N.g.length-k,L=[],q=0;q<$;q++)L[q]=0<R?N.i(q+k)>>>R|N.i(q+k+1)<<32-R:N.i(q+k);return new u(L,N.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,oI=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=d,u.fromString=m,cs=u}).apply(typeof aC<"u"?aC:typeof self<"u"?self:typeof window<"u"?window:{});var Ad=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lI,Uc,uI,Rd,$b,cI,fI,hI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,w,T){return p==Array.prototype||p==Object.prototype||(p[w]=T.value),p};function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ad=="object"&&Ad];for(var w=0;w<p.length;++w){var T=p[w];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function a(p,w){if(w)e:{var T=r;p=p.split(".");for(var M=0;M<p.length-1;M++){var Y=p[M];if(!(Y in T))break e;T=T[Y]}p=p[p.length-1],M=T[p],w=w(M),w!=M&&w!=null&&e(T,p,{configurable:!0,writable:!0,value:w})}}function o(p,w){p instanceof String&&(p+="");var T=0,M=!1,Y={next:function(){if(!M&&T<p.length){var te=T++;return{value:w(te,p[te]),done:!1}}return M=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}a("Array.prototype.values",function(p){return p||function(){return o(this,function(w,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},c=this||self;function h(p){var w=typeof p;return w=w!="object"?w:p?Array.isArray(p)?"array":w:"null",w=="array"||w=="object"&&typeof p.length=="number"}function d(p){var w=typeof p;return w=="object"&&p!=null||w=="function"}function m(p,w,T){return p.call.apply(p.bind,arguments)}function v(p,w,T){if(!p)throw Error();if(2<arguments.length){var M=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,M),p.apply(w,Y)}}return function(){return p.apply(w,arguments)}}function y(p,w,T){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:v,y.apply(null,arguments)}function _(p,w){var T=Array.prototype.slice.call(arguments,1);return function(){var M=T.slice();return M.push.apply(M,arguments),p.apply(this,M)}}function S(p,w){function T(){}T.prototype=w.prototype,p.aa=w.prototype,p.prototype=new T,p.prototype.constructor=p,p.Qb=function(M,Y,te){for(var me=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)me[Ye-2]=arguments[Ye];return w.prototype[Y].apply(M,me)}}function E(p){const w=p.length;if(0<w){const T=Array(w);for(let M=0;M<w;M++)T[M]=p[M];return T}return[]}function A(p,w){for(let T=1;T<arguments.length;T++){const M=arguments[T];if(h(M)){const Y=p.length||0,te=M.length||0;p.length=Y+te;for(let me=0;me<te;me++)p[Y+me]=M[me]}else p.push(M)}}class j{constructor(w,T){this.i=w,this.j=T,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function I(p){return/^[\s\xa0]*$/.test(p)}function P(){var p=c.navigator;return p&&(p=p.userAgent)?p:""}function U(p){return U[" "](p),p}U[" "]=function(){};var B=P().indexOf("Gecko")!=-1&&!(P().toLowerCase().indexOf("webkit")!=-1&&P().indexOf("Edge")==-1)&&!(P().indexOf("Trident")!=-1||P().indexOf("MSIE")!=-1)&&P().indexOf("Edge")==-1;function H(p,w,T){for(const M in p)w.call(T,p[M],M,p)}function N(p,w){for(const T in p)w.call(void 0,p[T],T,p)}function R(p){const w={};for(const T in p)w[T]=p[T];return w}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $(p,w){let T,M;for(let Y=1;Y<arguments.length;Y++){M=arguments[Y];for(T in M)p[T]=M[T];for(let te=0;te<k.length;te++)T=k[te],Object.prototype.hasOwnProperty.call(M,T)&&(p[T]=M[T])}}function L(p){var w=1;p=p.split(":");const T=[];for(;0<w&&p.length;)T.push(p.shift()),w--;return p.length&&T.push(p.join(":")),T}function q(p){c.setTimeout(()=>{throw p},0)}function V(){var p=de;let w=null;return p.g&&(w=p.g,p.g=p.g.next,p.g||(p.h=null),w.next=null),w}class Ce{constructor(){this.h=this.g=null}add(w,T){const M=Se.get();M.set(w,T),this.h?this.h.next=M:this.g=M,this.h=M}}var Se=new j(()=>new X,p=>p.reset());class X{constructor(){this.next=this.g=this.h=null}set(w,T){this.h=w,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,ee=!1,de=new Ce,z=()=>{const p=c.Promise.resolve(void 0);ue=()=>{p.then(re)}};var re=()=>{for(var p;p=V();){try{p.h.call(p.g)}catch(T){q(T)}var w=Se;w.j(p),100>w.h&&(w.h++,p.next=w.g,w.g=p)}ee=!1};function ie(){this.s=this.s,this.C=this.C}ie.prototype.s=!1,ie.prototype.ma=function(){this.s||(this.s=!0,this.N())},ie.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(p,w){this.type=p,this.g=this.target=w,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var ge=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var p=!1,w=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const T=()=>{};c.addEventListener("test",T,w),c.removeEventListener("test",T,w)}catch{}return p})();function Oe(p,w){if(ce.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var T=this.type=p.type,M=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=w,w=p.relatedTarget){if(B){e:{try{U(w.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(w=null)}}else T=="mouseover"?w=p.fromElement:T=="mouseout"&&(w=p.toElement);this.relatedTarget=w,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:Pe[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&Oe.aa.h.call(this)}}S(Oe,ce);var Pe={2:"touch",3:"pen",4:"mouse"};Oe.prototype.h=function(){Oe.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var Nt="closure_listenable_"+(1e6*Math.random()|0),Je=0;function pe(p,w,T,M,Y){this.listener=p,this.proxy=null,this.src=w,this.type=T,this.capture=!!M,this.ha=Y,this.key=++Je,this.da=this.fa=!1}function Me(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Ve(p){this.src=p,this.g={},this.h=0}Ve.prototype.add=function(p,w,T,M,Y){var te=p.toString();p=this.g[te],p||(p=this.g[te]=[],this.h++);var me=_e(p,w,M,Y);return-1<me?(w=p[me],T||(w.fa=!1)):(w=new pe(w,this.src,te,!!M,Y),w.fa=T,p.push(w)),w};function fe(p,w){var T=w.type;if(T in p.g){var M=p.g[T],Y=Array.prototype.indexOf.call(M,w,void 0),te;(te=0<=Y)&&Array.prototype.splice.call(M,Y,1),te&&(Me(w),p.g[T].length==0&&(delete p.g[T],p.h--))}}function _e(p,w,T,M){for(var Y=0;Y<p.length;++Y){var te=p[Y];if(!te.da&&te.listener==w&&te.capture==!!T&&te.ha==M)return Y}return-1}var Ae="closure_lm_"+(1e6*Math.random()|0),Ge={};function St(p,w,T,M,Y){if(Array.isArray(w)){for(var te=0;te<w.length;te++)St(p,w[te],T,M,Y);return null}return T=zf(T),p&&p[Nt]?p.K(w,T,d(M)?!!M.capture:!1,Y):ft(p,w,T,!1,M,Y)}function ft(p,w,T,M,Y,te){if(!w)throw Error("Invalid event type");var me=d(Y)?!!Y.capture:!!Y,Ye=Pn(p);if(Ye||(p[Ae]=Ye=new Ve(p)),T=Ye.add(w,T,M,me,te),T.proxy)return T;if(M=oi(),T.proxy=M,M.src=p,M.listener=T,p.addEventListener)ge||(Y=me),Y===void 0&&(Y=!1),p.addEventListener(w.toString(),M,Y);else if(p.attachEvent)p.attachEvent(Fr(w.toString()),M);else if(p.addListener&&p.removeListener)p.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return T}function oi(){function p(T){return w.call(p.src,p.listener,T)}const w=Ts;return p}function As(p,w,T,M,Y){if(Array.isArray(w))for(var te=0;te<w.length;te++)As(p,w[te],T,M,Y);else M=d(M)?!!M.capture:!!M,T=zf(T),p&&p[Nt]?(p=p.i,w=String(w).toString(),w in p.g&&(te=p.g[w],T=_e(te,T,M,Y),-1<T&&(Me(te[T]),Array.prototype.splice.call(te,T,1),te.length==0&&(delete p.g[w],p.h--)))):p&&(p=Pn(p))&&(w=p.g[w.toString()],p=-1,w&&(p=_e(w,T,M,Y)),(T=-1<p?w[p]:null)&&ki(T))}function ki(p){if(typeof p!="number"&&p&&!p.da){var w=p.src;if(w&&w[Nt])fe(w.i,p);else{var T=p.type,M=p.proxy;w.removeEventListener?w.removeEventListener(T,M,p.capture):w.detachEvent?w.detachEvent(Fr(T),M):w.addListener&&w.removeListener&&w.removeListener(M),(T=Pn(w))?(fe(T,p),T.h==0&&(T.src=null,w[Ae]=null)):Me(p)}}}function Fr(p){return p in Ge?Ge[p]:Ge[p]="on"+p}function Ts(p,w){if(p.da)p=!0;else{w=new Oe(w,this);var T=p.listener,M=p.ha||p.src;p.fa&&ki(p),p=T.call(M,w)}return p}function Pn(p){return p=p[Ae],p instanceof Ve?p:null}var er="__closure_events_fn_"+(1e9*Math.random()>>>0);function zf(p){return typeof p=="function"?p:(p[er]||(p[er]=function(w){return p.handleEvent(w)}),p[er])}function Dt(){ie.call(this),this.i=new Ve(this),this.M=this,this.F=null}S(Dt,ie),Dt.prototype[Nt]=!0,Dt.prototype.removeEventListener=function(p,w,T,M){As(this,p,w,T,M)};function st(p,w){var T,M=p.F;if(M)for(T=[];M;M=M.F)T.push(M);if(p=p.M,M=w.type||w,typeof w=="string")w=new ce(w,p);else if(w instanceof ce)w.target=w.target||p;else{var Y=w;w=new ce(M,p),$(w,Y)}if(Y=!0,T)for(var te=T.length-1;0<=te;te--){var me=w.g=T[te];Y=tr(me,M,!0,w)&&Y}if(me=w.g=p,Y=tr(me,M,!0,w)&&Y,Y=tr(me,M,!1,w)&&Y,T)for(te=0;te<T.length;te++)me=w.g=T[te],Y=tr(me,M,!1,w)&&Y}Dt.prototype.N=function(){if(Dt.aa.N.call(this),this.i){var p=this.i,w;for(w in p.g){for(var T=p.g[w],M=0;M<T.length;M++)Me(T[M]);delete p.g[w],p.h--}}this.F=null},Dt.prototype.K=function(p,w,T,M){return this.i.add(String(p),w,!1,T,M)},Dt.prototype.L=function(p,w,T,M){return this.i.add(String(p),w,!0,T,M)};function tr(p,w,T,M){if(w=p.i.g[String(w)],!w)return!0;w=w.concat();for(var Y=!0,te=0;te<w.length;++te){var me=w[te];if(me&&!me.da&&me.capture==T){var Ye=me.listener,Wt=me.ha||me.src;me.fa&&fe(p.i,me),Y=Ye.call(Wt,M)!==!1&&Y}}return Y&&!M.defaultPrevented}function Nn(p,w,T){if(typeof p=="function")T&&(p=y(p,T));else if(p&&typeof p.handleEvent=="function")p=y(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:c.setTimeout(p,w||0)}function qf(p){p.g=Nn(()=>{p.g=null,p.i&&(p.i=!1,qf(p))},p.l);const w=p.h;p.h=null,p.m.apply(null,w)}class Up extends ie{constructor(w,T){super(),this.m=w,this.l=T,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:qf(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Os(p){ie.call(this),this.h=p,this.g={}}S(Os,ie);var Cs=[];function js(p){H(p.g,function(w,T){this.g.hasOwnProperty(T)&&ki(w)},p),p.g={}}Os.prototype.N=function(){Os.aa.N.call(this),js(this)},Os.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hr=c.JSON.stringify,qo=c.JSON.parse,Ps=class{stringify(p){return c.JSON.stringify(p,void 0)}parse(p){return c.JSON.parse(p,void 0)}};function _u(){}_u.prototype.h=null;function wu(p){return p.h||(p.h=p.i())}function Eu(){}var Vi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Li(){ce.call(this,"d")}S(Li,ce);function Su(){ce.call(this,"c")}S(Su,ce);var li={},Au=null;function Oa(){return Au=Au||new Dt}li.La="serverreachability";function $o(p){ce.call(this,li.La,p)}S($o,ce);function Ca(p){const w=Oa();st(w,new $o(w))}li.STAT_EVENT="statevent";function $f(p,w){ce.call(this,li.STAT_EVENT,p),this.stat=w}S($f,ce);function At(p){const w=Oa();st(w,new $f(w,p))}li.Ma="timingevent";function Qt(p,w){ce.call(this,li.Ma,p),this.size=w}S(Qt,ce);function zt(p,w){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){p()},w)}function _r(){this.g=!0}_r.prototype.xa=function(){this.g=!1};function Tu(p,w,T,M,Y,te){p.info(function(){if(p.g)if(te)for(var me="",Ye=te.split("&"),Wt=0;Wt<Ye.length;Wt++){var Xe=Ye[Wt].split("=");if(1<Xe.length){var un=Xe[0];Xe=Xe[1];var Zt=un.split("_");me=2<=Zt.length&&Zt[1]=="type"?me+(un+"="+Xe+"&"):me+(un+"=redacted&")}}else me=null;else me=te;return"XMLHTTP REQ ("+M+") [attempt "+Y+"]: "+w+`
`+T+`
`+me})}function zp(p,w,T,M,Y,te,me){p.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+Y+"]: "+w+`
`+T+`
`+te+" "+me})}function ja(p,w,T,M){p.info(function(){return"XMLHTTP TEXT ("+w+"): "+Ns(p,T)+(M?" "+M:"")})}function Ff(p,w){p.info(function(){return"TIMEOUT: "+w})}_r.prototype.info=function(){};function Ns(p,w){if(!p.g)return w;if(!w)return null;try{var T=JSON.parse(w);if(T){for(p=0;p<T.length;p++)if(Array.isArray(T[p])){var M=T[p];if(!(2>M.length)){var Y=M[1];if(Array.isArray(Y)&&!(1>Y.length)){var te=Y[0];if(te!="noop"&&te!="stop"&&te!="close")for(var me=1;me<Y.length;me++)Y[me]=""}}}}return Hr(T)}catch{return w}}var Pa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Bi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ui;function ci(){}S(ci,_u),ci.prototype.g=function(){return new XMLHttpRequest},ci.prototype.i=function(){return{}},ui=new ci;function Un(p,w,T,M){this.j=p,this.i=w,this.l=T,this.R=M||1,this.U=new Os(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Vt}function Vt(){this.i=null,this.g="",this.h=!1}var Ou={},Fo={};function Kr(p,w,T){p.L=1,p.v=ks(nr(w)),p.m=T,p.P=!0,Ui(p,null)}function Ui(p,w){p.F=Date.now(),Ds(p),p.A=nr(p.v);var T=p.A,M=p.R;Array.isArray(M)||(M=[String(M)]),Ru(T.i,"t",M),p.C=0,T=p.j.J,p.h=new Vt,p.g=sh(p.j,T?w:null,!p.m),0<p.O&&(p.M=new Up(y(p.Y,p,p.g),p.O)),w=p.U,T=p.g,M=p.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(Cs[0]=Y.toString()),Y=Cs);for(var te=0;te<Y.length;te++){var me=St(T,Y[te],M||w.handleEvent,!1,w.h||w);if(!me)break;w.g[me.key]=me}w=p.H?R(p.H):{},p.m?(p.u||(p.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,w)):(p.u="GET",p.g.ea(p.A,p.u,null,w)),Ca(),Tu(p.i,p.u,p.A,p.l,p.R,p.m)}Un.prototype.ca=function(p){p=p.target;const w=this.M;w&&Ar(p)==3?w.j():this.Y(p)},Un.prototype.Y=function(p){try{if(p==this.g)e:{const Zt=Ar(this.g);var w=this.g.Ba();const Yi=this.g.Z();if(!(3>Zt)&&(Zt!=3||this.g&&(this.h.h||this.g.oa()||Zf(this.g)))){this.J||Zt!=4||w==7||(w==8||0>=Yi?Ca(3):Ca(2)),Na(this);var T=this.g.Z();this.X=T;t:if(Hf(this)){var M=Zf(this.g);p="";var Y=M.length,te=Ar(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){bn(this),fi(this);var me="";break t}this.h.i=new c.TextDecoder}for(w=0;w<Y;w++)this.h.h=!0,p+=this.h.i.decode(M[w],{stream:!(te&&w==Y-1)});M.length=0,this.h.g+=p,this.C=0,me=this.h.g}else me=this.g.oa();if(this.o=T==200,zp(this.i,this.u,this.A,this.l,this.R,Zt,T),this.o){if(this.T&&!this.K){t:{if(this.g){var Ye,Wt=this.g;if((Ye=Wt.g?Wt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(Ye)){var Xe=Ye;break t}}Xe=null}if(T=Xe)ja(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Rs(this,T);else{this.o=!1,this.s=3,At(12),bn(this),fi(this);break e}}if(this.P){T=!0;let xn;for(;!this.J&&this.C<me.length;)if(xn=Kf(this,me),xn==Fo){Zt==4&&(this.s=4,At(14),T=!1),ja(this.i,this.l,null,"[Incomplete Response]");break}else if(xn==Ou){this.s=4,At(15),ja(this.i,this.l,me,"[Invalid Chunk]"),T=!1;break}else ja(this.i,this.l,xn,null),Rs(this,xn);if(Hf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Zt!=4||me.length!=0||this.h.h||(this.s=1,At(16),T=!1),this.o=this.o&&T,!T)ja(this.i,this.l,me,"[Invalid Chunked Response]"),bn(this),fi(this);else if(0<me.length&&!this.W){this.W=!0;var un=this.j;un.g==this&&un.ba&&!un.M&&(un.j.info("Great, no buffering proxy detected. Bytes received: "+me.length),Fs(un),un.M=!0,At(11))}}else ja(this.i,this.l,me,null),Rs(this,me);Zt==4&&bn(this),this.o&&!this.J&&(Zt==4?rh(this.j,this):(this.o=!1,Ds(this)))}else Kp(this.g),T==400&&0<me.indexOf("Unknown SID")?(this.s=3,At(12)):(this.s=0,At(13)),bn(this),fi(this)}}}catch{}finally{}};function Hf(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function Kf(p,w){var T=p.C,M=w.indexOf(`
`,T);return M==-1?Fo:(T=Number(w.substring(T,M)),isNaN(T)?Ou:(M+=1,M+T>w.length?Fo:(w=w.slice(M,M+T),p.C=M+T,w)))}Un.prototype.cancel=function(){this.J=!0,bn(this)};function Ds(p){p.S=Date.now()+p.I,Gf(p,p.I)}function Gf(p,w){if(p.B!=null)throw Error("WatchDog timer not null");p.B=zt(y(p.ba,p),w)}function Na(p){p.B&&(c.clearTimeout(p.B),p.B=null)}Un.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(Ff(this.i,this.A),this.L!=2&&(Ca(),At(17)),bn(this),this.s=2,fi(this)):Gf(this,this.S-p)};function fi(p){p.j.G==0||p.J||rh(p.j,p)}function bn(p){Na(p);var w=p.M;w&&typeof w.ma=="function"&&w.ma(),p.M=null,js(p.U),p.g&&(w=p.g,p.g=null,w.abort(),w.ma())}function Rs(p,w){try{var T=p.j;if(T.G!=0&&(T.g==p||Cu(T.h,p))){if(!p.K&&Cu(T.h,p)&&T.G==3){try{var M=T.Da.g.parse(w)}catch{M=null}if(Array.isArray(M)&&M.length==3){var Y=M;if(Y[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<p.F)nl(T),el(T);else break e;Lu(T),At(18)}}else T.za=Y[1],0<T.za-T.T&&37500>Y[2]&&T.F&&T.v==0&&!T.C&&(T.C=zt(y(T.Za,T),6e3));if(1>=Ko(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Gi(T,11)}else if((p.K||T.g==p)&&nl(T),!I(w))for(Y=T.Da.g.parse(w),w=0;w<Y.length;w++){let Xe=Y[w];if(T.T=Xe[0],Xe=Xe[1],T.G==2)if(Xe[0]=="c"){T.K=Xe[1],T.ia=Xe[2];const un=Xe[3];un!=null&&(T.la=un,T.j.info("VER="+T.la));const Zt=Xe[4];Zt!=null&&(T.Aa=Zt,T.j.info("SVER="+T.Aa));const Yi=Xe[5];Yi!=null&&typeof Yi=="number"&&0<Yi&&(M=1.5*Yi,T.L=M,T.j.info("backChannelRequestTimeoutMs_="+M)),M=T;const xn=p.g;if(xn){const yi=xn.g?xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yi){var te=M.h;te.g||yi.indexOf("spdy")==-1&&yi.indexOf("quic")==-1&&yi.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(Go(te,te.h),te.h=null))}if(M.D){const Uu=xn.g?xn.g.getResponseHeader("X-HTTP-Session-Id"):null;Uu&&(M.ya=Uu,ht(M.I,M.D,Uu))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-p.F,T.j.info("Handshake RTT: "+T.R+"ms")),M=T;var me=p;if(M.qa=ah(M,M.J?M.ia:null,M.W),me.K){zn(M.h,me);var Ye=me,Wt=M.L;Wt&&(Ye.I=Wt),Ye.B&&(Na(Ye),Ds(Ye)),M.g=me}else th(M);0<T.i.length&&tl(T)}else Xe[0]!="stop"&&Xe[0]!="close"||Gi(T,7);else T.G==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?Gi(T,7):ku(T):Xe[0]!="noop"&&T.l&&T.l.ta(Xe),T.v=0)}}Ca(4)}catch{}}var Yf=class{constructor(p,w){this.g=p,this.map=w}};function zi(p){this.l=p||10,c.PerformanceNavigationTiming?(p=c.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ho(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function Ko(p){return p.h?1:p.g?p.g.size:0}function Cu(p,w){return p.h?p.h==w:p.g?p.g.has(w):!1}function Go(p,w){p.g?p.g.add(w):p.h=w}function zn(p,w){p.h&&p.h==w?p.h=null:p.g&&p.g.has(w)&&p.g.delete(w)}zi.prototype.cancel=function(){if(this.i=ju(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function ju(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let w=p.i;for(const T of p.g.values())w=w.concat(T.D);return w}return E(p.i)}function qp(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(h(p)){for(var w=[],T=p.length,M=0;M<T;M++)w.push(p[M]);return w}w=[],T=0;for(M in p)w[T++]=p[M];return w}function Yo(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(h(p)||typeof p=="string"){var w=[];p=p.length;for(var T=0;T<p;T++)w.push(T);return w}w=[],T=0;for(const M in p)w[T++]=M;return w}}}function Pu(p,w){if(p.forEach&&typeof p.forEach=="function")p.forEach(w,void 0);else if(h(p)||typeof p=="string")Array.prototype.forEach.call(p,w,void 0);else for(var T=Yo(p),M=qp(p),Y=M.length,te=0;te<Y;te++)w.call(void 0,M[te],T&&T[te],p)}var Is=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $p(p,w){if(p){p=p.split("&");for(var T=0;T<p.length;T++){var M=p[T].indexOf("="),Y=null;if(0<=M){var te=p[T].substring(0,M);Y=p[T].substring(M+1)}else te=p[T];w(te,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function qt(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof qt){this.h=p.h,Ms(this,p.j),this.o=p.o,this.g=p.g,Da(this,p.s),this.l=p.l;var w=p.i,T=new $i;T.i=w.i,w.g&&(T.g=new Map(w.g),T.h=w.h),qi(this,T),this.m=p.m}else p&&(w=String(p).match(Is))?(this.h=!1,Ms(this,w[1]||"",!0),this.o=wr(w[2]||""),this.g=wr(w[3]||"",!0),Da(this,w[4]),this.l=wr(w[5]||"",!0),qi(this,w[6]||"",!0),this.m=wr(w[7]||"")):(this.h=!1,this.i=new $i(null,this.h))}qt.prototype.toString=function(){var p=[],w=this.j;w&&p.push(Vs(w,Nu,!0),":");var T=this.g;return(T||w=="file")&&(p.push("//"),(w=this.o)&&p.push(Vs(w,Nu,!0),"@"),p.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&p.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&p.push("/"),p.push(Vs(T,T.charAt(0)=="/"?Fp:Du,!0))),(T=this.i.toString())&&p.push("?",T),(T=this.m)&&p.push("#",Vs(T,Xo)),p.join("")};function nr(p){return new qt(p)}function Ms(p,w,T){p.j=T?wr(w,!0):w,p.j&&(p.j=p.j.replace(/:$/,""))}function Da(p,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);p.s=w}else p.s=null}function qi(p,w,T){w instanceof $i?(p.i=w,Qf(p.i,p.h)):(T||(w=Vs(w,Hp)),p.i=new $i(w,p.h))}function ht(p,w,T){p.i.set(w,T)}function ks(p){return ht(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function wr(p,w){return p?w?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Vs(p,w,T){return typeof p=="string"?(p=encodeURI(p).replace(w,Xf),T&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Xf(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var Nu=/[#\/\?@]/g,Du=/[#\?:]/g,Fp=/[#\?]/g,Hp=/[#\?@]/g,Xo=/#/g;function $i(p,w){this.h=this.g=null,this.i=p||null,this.j=!!w}function Er(p){p.g||(p.g=new Map,p.h=0,p.i&&$p(p.i,function(w,T){p.add(decodeURIComponent(w.replace(/\+/g," ")),T)}))}t=$i.prototype,t.add=function(p,w){Er(this),this.i=null,p=hi(this,p);var T=this.g.get(p);return T||this.g.set(p,T=[]),T.push(w),this.h+=1,this};function Fi(p,w){Er(p),w=hi(p,w),p.g.has(w)&&(p.i=null,p.h-=p.g.get(w).length,p.g.delete(w))}function Hi(p,w){return Er(p),w=hi(p,w),p.g.has(w)}t.forEach=function(p,w){Er(this),this.g.forEach(function(T,M){T.forEach(function(Y){p.call(w,Y,M,this)},this)},this)},t.na=function(){Er(this);const p=Array.from(this.g.values()),w=Array.from(this.g.keys()),T=[];for(let M=0;M<w.length;M++){const Y=p[M];for(let te=0;te<Y.length;te++)T.push(w[M])}return T},t.V=function(p){Er(this);let w=[];if(typeof p=="string")Hi(this,p)&&(w=w.concat(this.g.get(hi(this,p))));else{p=Array.from(this.g.values());for(let T=0;T<p.length;T++)w=w.concat(p[T])}return w},t.set=function(p,w){return Er(this),this.i=null,p=hi(this,p),Hi(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[w]),this.h+=1,this},t.get=function(p,w){return p?(p=this.V(p),0<p.length?String(p[0]):w):w};function Ru(p,w,T){Fi(p,w),0<T.length&&(p.i=null,p.g.set(hi(p,w),E(T)),p.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],w=Array.from(this.g.keys());for(var T=0;T<w.length;T++){var M=w[T];const te=encodeURIComponent(String(M)),me=this.V(M);for(M=0;M<me.length;M++){var Y=te;me[M]!==""&&(Y+="="+encodeURIComponent(String(me[M]))),p.push(Y)}}return this.i=p.join("&")};function hi(p,w){return w=String(w),p.j&&(w=w.toLowerCase()),w}function Qf(p,w){w&&!p.j&&(Er(p),p.i=null,p.g.forEach(function(T,M){var Y=M.toLowerCase();M!=Y&&(Fi(this,M),Ru(this,Y,T))},p)),p.j=w}function Ls(p,w){const T=new _r;if(c.Image){const M=new Image;M.onload=_(Sr,T,"TestLoadImage: loaded",!0,w,M),M.onerror=_(Sr,T,"TestLoadImage: error",!1,w,M),M.onabort=_(Sr,T,"TestLoadImage: abort",!1,w,M),M.ontimeout=_(Sr,T,"TestLoadImage: timeout",!1,w,M),c.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=p}else w(!1)}function Gr(p,w){const T=new _r,M=new AbortController,Y=setTimeout(()=>{M.abort(),Sr(T,"TestPingServer: timeout",!1,w)},1e4);fetch(p,{signal:M.signal}).then(te=>{clearTimeout(Y),te.ok?Sr(T,"TestPingServer: ok",!0,w):Sr(T,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(Y),Sr(T,"TestPingServer: error",!1,w)})}function Sr(p,w,T,M,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),M(T)}catch{}}function Bs(){this.g=new Ps}function di(p,w,T){const M=T||"";try{Pu(p,function(Y,te){let me=Y;d(Y)&&(me=Hr(Y)),w.push(M+te+"="+encodeURIComponent(me))})}catch(Y){throw w.push(M+"type="+encodeURIComponent("_badmap")),Y}}function Ra(p){this.l=p.Ub||null,this.j=p.eb||!1}S(Ra,_u),Ra.prototype.g=function(){return new Ki(this.l,this.j)},Ra.prototype.i=(function(p){return function(){return p}})({});function Ki(p,w){Dt.call(this),this.D=p,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Ki,Dt),t=Ki.prototype,t.open=function(p,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=w,this.readyState=1,pi(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(w.body=p),(this.D||c).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,mi(this)),this.readyState=0},t.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,pi(this)),this.g&&(this.readyState=3,pi(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Iu(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function Iu(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}t.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var w=p.value?p.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!p.done}))&&(this.response=this.responseText+=w)}p.done?mi(this):pi(this),this.readyState==3&&Iu(this)}},t.Ra=function(p){this.g&&(this.response=this.responseText=p,mi(this))},t.Qa=function(p){this.g&&(this.response=p,mi(this))},t.ga=function(){this.g&&mi(this)};function mi(p){p.readyState=4,p.l=null,p.j=null,p.v=null,pi(p)}t.setRequestHeader=function(p,w){this.u.append(p,w)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],w=this.h.entries();for(var T=w.next();!T.done;)T=T.value,p.push(T[0]+": "+T[1]),T=w.next();return p.join(`\r
`)};function pi(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Ki.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function Mu(p){let w="";return H(p,function(T,M){w+=M,w+=":",w+=T,w+=`\r
`}),w}function ln(p,w,T){e:{for(M in T){var M=!1;break e}M=!0}M||(T=Mu(T),typeof p=="string"?T!=null&&encodeURIComponent(String(T)):ht(p,w,T))}function it(p){Dt.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(it,Dt);var Qo=/^https?$/i,Us=["POST","PUT"];t=it.prototype,t.Ha=function(p){this.J=p},t.ea=function(p,w,T,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);w=w?w.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ui.g(),this.v=this.o?wu(this.o):wu(ui),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(w,String(p),!0),this.B=!1}catch(te){Wf(this,te);return}if(p=T||"",T=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var Y in M)T.set(Y,M[Y]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const te of M.keys())T.set(te,M.get(te));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(T.keys()).find(te=>te.toLowerCase()=="content-type"),Y=c.FormData&&p instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Us,w,void 0))||M||Y||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,me]of T)this.g.setRequestHeader(te,me);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{zs(this),this.u=!0,this.g.send(p),this.u=!1}catch(te){Wf(this,te)}};function Wf(p,w){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=w,p.m=5,Wo(p),gi(p)}function Wo(p){p.A||(p.A=!0,st(p,"complete"),st(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,st(this,"complete"),st(this,"abort"),gi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gi(this,!0)),it.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Zo(this):this.bb())},t.bb=function(){Zo(this)};function Zo(p){if(p.h&&typeof u<"u"&&(!p.v[1]||Ar(p)!=4||p.Z()!=2)){if(p.u&&Ar(p)==4)Nn(p.Ea,0,p);else if(st(p,"readystatechange"),Ar(p)==4){p.h=!1;try{const me=p.Z();e:switch(me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var T;if(!(T=w)){var M;if(M=me===0){var Y=String(p.D).match(Is)[1]||null;!Y&&c.self&&c.self.location&&(Y=c.self.location.protocol.slice(0,-1)),M=!Qo.test(Y?Y.toLowerCase():"")}T=M}if(T)st(p,"complete"),st(p,"success");else{p.m=6;try{var te=2<Ar(p)?p.g.statusText:""}catch{te=""}p.l=te+" ["+p.Z()+"]",Wo(p)}}finally{gi(p)}}}}function gi(p,w){if(p.g){zs(p);const T=p.g,M=p.v[0]?()=>{}:null;p.g=null,p.v=null,w||st(p,"ready");try{T.onreadystatechange=M}catch{}}}function zs(p){p.I&&(c.clearTimeout(p.I),p.I=null)}t.isActive=function(){return!!this.g};function Ar(p){return p.g?p.g.readyState:0}t.Z=function(){try{return 2<Ar(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(p){if(this.g){var w=this.g.responseText;return p&&w.indexOf(p)==0&&(w=w.substring(p.length)),qo(w)}};function Zf(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Kp(p){const w={};p=(p.g&&2<=Ar(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<p.length;M++){if(I(p[M]))continue;var T=L(p[M]);const Y=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const te=w[Y]||[];w[Y]=te,te.push(T)}N(w,function(M){return M.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function qs(p,w,T){return T&&T.internalChannelParams&&T.internalChannelParams[p]||w}function Jo(p){this.Aa=0,this.i=[],this.j=new _r,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=qs("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=qs("baseRetryDelayMs",5e3,p),this.cb=qs("retryDelaySeedMs",1e4,p),this.Wa=qs("forwardChannelMaxRetries",2,p),this.wa=qs("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new zi(p&&p.concurrentRequestLimit),this.Da=new Bs,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Jo.prototype,t.la=8,t.G=1,t.connect=function(p,w,T,M){At(0),this.W=p,this.H=w||{},T&&M!==void 0&&(this.H.OSID=T,this.H.OAID=M),this.F=this.X,this.I=ah(this,null,this.W),tl(this)};function ku(p){if(Jf(p),p.G==3){var w=p.U++,T=nr(p.I);if(ht(T,"SID",p.K),ht(T,"RID",w),ht(T,"TYPE","terminate"),$s(p,T),w=new Un(p,p.j,w),w.L=2,w.v=ks(nr(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(w.v.toString(),"")}catch{}!T&&c.Image&&(new Image().src=w.v,T=!0),T||(w.g=sh(w.j,null),w.g.ea(w.v)),w.F=Date.now(),Ds(w)}ih(p)}function el(p){p.g&&(Fs(p),p.g.cancel(),p.g=null)}function Jf(p){el(p),p.u&&(c.clearTimeout(p.u),p.u=null),nl(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&c.clearTimeout(p.s),p.s=null)}function tl(p){if(!Ho(p.h)&&!p.s){p.s=!0;var w=p.Ga;ue||z(),ee||(ue(),ee=!0),de.add(w,p),p.B=0}}function Gp(p,w){return Ko(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=w.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=zt(y(p.Ga,p,w),Bu(p,p.B)),p.B++,!0)}t.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const Y=new Un(this,this.j,p);let te=this.o;if(this.S&&(te?(te=R(te),$(te,this.S)):te=this.S),this.m!==null||this.O||(Y.H=te,te=null),this.P)e:{for(var w=0,T=0;T<this.i.length;T++){t:{var M=this.i[T];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(w+=M,4096<w){w=T;break e}if(w===4096||T===this.i.length-1){w=T+1;break e}}w=1e3}else w=1e3;w=eh(this,Y,w),T=nr(this.I),ht(T,"RID",p),ht(T,"CVER",22),this.D&&ht(T,"X-HTTP-Session-Id",this.D),$s(this,T),te&&(this.O?w="headers="+encodeURIComponent(String(Mu(te)))+"&"+w:this.m&&ln(T,this.m,te)),Go(this.h,Y),this.Ua&&ht(T,"TYPE","init"),this.P?(ht(T,"$req",w),ht(T,"SID","null"),Y.T=!0,Kr(Y,T,null)):Kr(Y,T,w),this.G=2}}else this.G==3&&(p?Vu(this,p):this.i.length==0||Ho(this.h)||Vu(this))};function Vu(p,w){var T;w?T=w.l:T=p.U++;const M=nr(p.I);ht(M,"SID",p.K),ht(M,"RID",T),ht(M,"AID",p.T),$s(p,M),p.m&&p.o&&ln(M,p.m,p.o),T=new Un(p,p.j,T,p.B+1),p.m===null&&(T.H=p.o),w&&(p.i=w.D.concat(p.i)),w=eh(p,T,1e3),T.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),Go(p.h,T),Kr(T,M,w)}function $s(p,w){p.H&&H(p.H,function(T,M){ht(w,M,T)}),p.l&&Pu({},function(T,M){ht(w,M,T)})}function eh(p,w,T){T=Math.min(p.i.length,T);var M=p.l?y(p.l.Na,p.l,p):null;e:{var Y=p.i;let te=-1;for(;;){const me=["count="+T];te==-1?0<T?(te=Y[0].g,me.push("ofs="+te)):te=0:me.push("ofs="+te);let Ye=!0;for(let Wt=0;Wt<T;Wt++){let Xe=Y[Wt].g;const un=Y[Wt].map;if(Xe-=te,0>Xe)te=Math.max(0,Y[Wt].g-100),Ye=!1;else try{di(un,me,"req"+Xe+"_")}catch{M&&M(un)}}if(Ye){M=me.join("&");break e}}}return p=p.i.splice(0,T),w.D=p,M}function th(p){if(!p.g&&!p.u){p.Y=1;var w=p.Fa;ue||z(),ee||(ue(),ee=!0),de.add(w,p),p.v=0}}function Lu(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=zt(y(p.Fa,p),Bu(p,p.v)),p.v++,!0)}t.Fa=function(){if(this.u=null,nh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=zt(y(this.ab,this),p)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,At(10),el(this),nh(this))};function Fs(p){p.A!=null&&(c.clearTimeout(p.A),p.A=null)}function nh(p){p.g=new Un(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var w=nr(p.qa);ht(w,"RID","rpc"),ht(w,"SID",p.K),ht(w,"AID",p.T),ht(w,"CI",p.F?"0":"1"),!p.F&&p.ja&&ht(w,"TO",p.ja),ht(w,"TYPE","xmlhttp"),$s(p,w),p.m&&p.o&&ln(w,p.m,p.o),p.L&&(p.g.I=p.L);var T=p.g;p=p.ia,T.L=1,T.v=ks(nr(w)),T.m=null,T.P=!0,Ui(T,p)}t.Za=function(){this.C!=null&&(this.C=null,el(this),Lu(this),At(19))};function nl(p){p.C!=null&&(c.clearTimeout(p.C),p.C=null)}function rh(p,w){var T=null;if(p.g==w){nl(p),Fs(p),p.g=null;var M=2}else if(Cu(p.h,w))T=w.D,zn(p.h,w),M=1;else return;if(p.G!=0){if(w.o)if(M==1){T=w.m?w.m.length:0,w=Date.now()-w.F;var Y=p.B;M=Oa(),st(M,new Qt(M,T)),tl(p)}else th(p);else if(Y=w.s,Y==3||Y==0&&0<w.X||!(M==1&&Gp(p,w)||M==2&&Lu(p)))switch(T&&0<T.length&&(w=p.h,w.i=w.i.concat(T)),Y){case 1:Gi(p,5);break;case 4:Gi(p,10);break;case 3:Gi(p,6);break;default:Gi(p,2)}}}function Bu(p,w){let T=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(T*=2),T*w}function Gi(p,w){if(p.j.info("Error code "+w),w==2){var T=y(p.fb,p),M=p.Xa;const Y=!M;M=new qt(M||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ms(M,"https"),ks(M),Y?Ls(M.toString(),T):Gr(M.toString(),T)}else At(2);p.G=0,p.l&&p.l.sa(w),ih(p),Jf(p)}t.fb=function(p){p?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function ih(p){if(p.G=0,p.ka=[],p.l){const w=ju(p.h);(w.length!=0||p.i.length!=0)&&(A(p.ka,w),A(p.ka,p.i),p.h.i.length=0,E(p.i),p.i.length=0),p.l.ra()}}function ah(p,w,T){var M=T instanceof qt?nr(T):new qt(T);if(M.g!="")w&&(M.g=w+"."+M.g),Da(M,M.s);else{var Y=c.location;M=Y.protocol,w=w?w+"."+Y.hostname:Y.hostname,Y=+Y.port;var te=new qt(null);M&&Ms(te,M),w&&(te.g=w),Y&&Da(te,Y),T&&(te.l=T),M=te}return T=p.D,w=p.ya,T&&w&&ht(M,T,w),ht(M,"VER",p.la),$s(p,M),M}function sh(p,w,T){if(w&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=p.Ca&&!p.pa?new it(new Ra({eb:T})):new it(p.pa),w.Ha(p.J),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function oh(){}t=oh.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function rl(){}rl.prototype.g=function(p,w){return new qn(p,w)};function qn(p,w){Dt.call(this),this.g=new Jo(w),this.l=p,this.h=w&&w.messageUrlParams||null,p=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(p?p["X-WebChannel-Content-Type"]=w.messageContentType:p={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(p?p["X-WebChannel-Client-Profile"]=w.va:p={"X-WebChannel-Client-Profile":w.va}),this.g.S=p,(p=w&&w.Sb)&&!I(p)&&(this.g.m=p),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!I(w)&&(this.g.D=w,p=this.h,p!==null&&w in p&&(p=this.h,w in p&&delete p[w])),this.j=new vi(this)}S(qn,Dt),qn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},qn.prototype.close=function(){ku(this.g)},qn.prototype.o=function(p){var w=this.g;if(typeof p=="string"){var T={};T.__data__=p,p=T}else this.u&&(T={},T.__data__=Hr(p),p=T);w.i.push(new Yf(w.Ya++,p)),w.G==3&&tl(w)},qn.prototype.N=function(){this.g.l=null,delete this.j,ku(this.g),delete this.g,qn.aa.N.call(this)};function lh(p){Li.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var w=p.__sm__;if(w){e:{for(const T in w){p=T;break e}p=void 0}(this.i=p)&&(p=this.i,w=w!==null&&p in w?w[p]:void 0),this.data=w}else this.data=p}S(lh,Li);function uh(){Su.call(this),this.status=1}S(uh,Su);function vi(p){this.g=p}S(vi,oh),vi.prototype.ua=function(){st(this.g,"a")},vi.prototype.ta=function(p){st(this.g,new lh(p))},vi.prototype.sa=function(p){st(this.g,new uh)},vi.prototype.ra=function(){st(this.g,"b")},rl.prototype.createWebChannel=rl.prototype.g,qn.prototype.send=qn.prototype.o,qn.prototype.open=qn.prototype.m,qn.prototype.close=qn.prototype.close,hI=function(){return new rl},fI=function(){return Oa()},cI=li,$b={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pa.NO_ERROR=0,Pa.TIMEOUT=8,Pa.HTTP_ERROR=6,Rd=Pa,Bi.COMPLETE="complete",uI=Bi,Eu.EventType=Vi,Vi.OPEN="a",Vi.CLOSE="b",Vi.ERROR="c",Vi.MESSAGE="d",Dt.prototype.listen=Dt.prototype.K,Uc=Eu,it.prototype.listenOnce=it.prototype.L,it.prototype.getLastError=it.prototype.Ka,it.prototype.getLastErrorCode=it.prototype.Ba,it.prototype.getStatus=it.prototype.Z,it.prototype.getResponseJson=it.prototype.Oa,it.prototype.getResponseText=it.prototype.oa,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Ha,lI=it}).apply(typeof Ad<"u"?Ad:typeof self<"u"?self:typeof window<"u"?window:{});const sC="@firebase/firestore",oC="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kn.UNAUTHENTICATED=new kn(null),kn.GOOGLE_CREDENTIALS=new kn("google-credentials-uid"),kn.FIRST_PARTY=new kn("first-party-uid"),kn.MOCK_USER=new kn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vu="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No=new tI("@firebase/firestore");function Il(){return No.logLevel}function ve(t,...e){if(No.logLevel<=Ze.DEBUG){const n=e.map(Kx);No.debug(`Firestore (${vu}): ${t}`,...n)}}function xa(t,...e){if(No.logLevel<=Ze.ERROR){const n=e.map(Kx);No.error(`Firestore (${vu}): ${t}`,...n)}}function eu(t,...e){if(No.logLevel<=Ze.WARN){const n=e.map(Kx);No.warn(`Firestore (${vu}): ${t}`,...n)}}function Kx(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,dI(t,r,n)}function dI(t,e,n){let r=`FIRESTORE (${vu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw xa(r),new Error(r)}function at(t,e,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,t||dI(e,a,r)}function Le(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends gu{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class FY{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(kn.UNAUTHENTICATED)))}shutdown(){}}class HY{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class KY{constructor(e){this.t=e,this.currentUser=kn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){at(this.o===void 0,42304);let r=this.i;const a=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let o=new Eo;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Eo,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const h=o;e.enqueueRetryable((async()=>{await h.promise,await a(this.currentUser)}))},c=h=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((h=>c(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Eo)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(at(typeof r.accessToken=="string",31837,{l:r}),new mI(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return at(e===null||typeof e=="string",2055,{h:e}),new kn(e)}}class GY{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=kn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class YY{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new GY(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(kn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class lC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class XY{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,OY(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){at(this.o===void 0,3512);const r=o=>{o.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,ve("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const a=o=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>a(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new lC(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(at(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new lC(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QY(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=QY(40);for(let o=0;o<a.length;++o)r.length<20&&a[o]<n&&(r+=e.charAt(a[o]%62))}return r}}function He(t,e){return t<e?-1:t>e?1:0}function Fb(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const a=t.charAt(r),o=e.charAt(r);if(a!==o)return I0(a)===I0(o)?He(a,o):I0(a)?1:-1}return He(t.length,e.length)}const WY=55296,ZY=57343;function I0(t){const e=t.charCodeAt(0);return e>=WY&&e<=ZY}function tu(t,e,n){return t.length===e.length&&t.every(((r,a)=>n(r,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC="__name__";class Si{constructor(e,n,r){n===void 0?n=0:n>e.length&&Re(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Re(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Si.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Si?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const o=Si.compareSegments(e.get(a),n.get(a));if(o!==0)return o}return He(e.length,n.length)}static compareSegments(e,n){const r=Si.isNumericId(e),a=Si.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?Si.extractNumericId(e).compare(Si.extractNumericId(n)):Fb(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return cs.fromString(e.substring(4,e.length-2))}}class jt extends Si{construct(e,n,r){return new jt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Te(he.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((a=>a.length>0)))}return new jt(n)}static emptyPath(){return new jt([])}}const JY=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class On extends Si{construct(e,n,r){return new On(e,n,r)}static isValidIdentifier(e){return JY.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),On.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===uC}static keyField(){return new On([uC])}static fromServerFormat(e){const n=[];let r="",a=0;const o=()=>{if(r.length===0)throw new Te(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;a<e.length;){const c=e[a];if(c==="\\"){if(a+1===e.length)throw new Te(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[a+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Te(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,a+=2}else c==="`"?(u=!u,a++):c!=="."||u?(r+=c,a++):(o(),a++)}if(o(),u)throw new Te(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new On(n)}static emptyPath(){return new On([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.path=e}static fromPath(e){return new je(jt.fromString(e))}static fromName(e){return new je(jt.fromString(e).popFirst(5))}static empty(){return new je(jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&jt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return jt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new je(new jt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eX(t,e,n){if(!n)throw new Te(he.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function tX(t,e,n,r){if(e===!0&&r===!0)throw new Te(he.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function cC(t){if(!je.isDocumentKey(t))throw new Te(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function pI(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Yx(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Re(12329,{type:typeof t})}function $l(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Te(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Yx(t);throw new Te(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(t,e){const n={typeString:t};return e&&(n.value=e),n}function kf(t,e){if(!pI(t))throw new Te(he.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const a=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const u=t[r];if(a&&typeof u!==a){n=`JSON field '${r}' must be a ${a}.`;break}if(o!==void 0&&u!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new Te(he.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC=-62135596800,hC=1e6;class wt{static now(){return wt.fromMillis(Date.now())}static fromDate(e){return wt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*hC);return new wt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Te(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Te(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<fC)throw new Te(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/hC}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:wt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(kf(e,wt._jsonSchema))return new wt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-fC;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}wt._jsonSchemaVersion="firestore/timestamp/1.0",wt._jsonSchema={type:Kt("string",wt._jsonSchemaVersion),seconds:Kt("number"),nanoseconds:Kt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new wt(0,0))}static max(){return new ke(new wt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mf=-1;function nX(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=ke.fromTimestamp(r===1e9?new wt(n+1,0):new wt(n,r));return new ds(a,je.empty(),e)}function rX(t){return new ds(t.readTime,t.key,mf)}class ds{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ds(ke.min(),je.empty(),mf)}static max(){return new ds(ke.max(),je.empty(),mf)}}function iX(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=je.comparator(t.documentKey,e.documentKey),n!==0?n:He(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aX="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sX{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yu(t){if(t.code!==he.FAILED_PRECONDITION||t.message!==aX)throw t;ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new le(((r,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,a)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof le?n:le.resolve(n)}catch(n){return le.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):le.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):le.reject(n)}static resolve(e){return new le(((n,r)=>{n(e)}))}static reject(e){return new le(((n,r)=>{r(e)}))}static waitFor(e){return new le(((n,r)=>{let a=0,o=0,u=!1;e.forEach((c=>{++a,c.next((()=>{++o,u&&o===a&&n()}),(h=>r(h)))})),u=!0,o===a&&n()}))}static or(e){let n=le.resolve(!1);for(const r of e)n=n.next((a=>a?le.resolve(a):r()));return n}static forEach(e,n){const r=[];return e.forEach(((a,o)=>{r.push(n.call(this,a,o))})),this.waitFor(r)}static mapArray(e,n){return new le(((r,a)=>{const o=e.length,u=new Array(o);let c=0;for(let h=0;h<o;h++){const d=h;n(e[d]).next((m=>{u[d]=m,++c,c===o&&r(u)}),(m=>a(m)))}}))}static doWhile(e,n){return new le(((r,a)=>{const o=()=>{e()===!0?n().next((()=>{o()}),a):r()};o()}))}}function oX(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function bu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Tp.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx=-1;function Op(t){return t==null}function jm(t){return t===0&&1/t==-1/0}function lX(t){return typeof t=="number"&&Number.isInteger(t)&&!jm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI="";function uX(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=dC(e)),e=cX(t.get(n),e);return dC(e)}function cX(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const o=t.charAt(a);switch(o){case"\0":n+="";break;case gI:n+="";break;default:n+=o}}return n}function dC(t){return t+gI+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Lo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function vI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e,n){this.comparator=e,this.root=n||Tn.EMPTY}insert(e,n){return new Pt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Tn.BLACK,null,null))}remove(e){return new Pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Td(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Td(this.root,e,this.comparator,!1)}getReverseIterator(){return new Td(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Td(this.root,e,this.comparator,!0)}}class Td{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Tn{constructor(e,n,r,a,o){this.key=e,this.value=n,this.color=r??Tn.RED,this.left=a??Tn.EMPTY,this.right=o??Tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,o){return new Tn(e??this.key,n??this.value,r??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const o=r(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,n,r),null):o===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Tn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Re(27949);return e+(this.isRed()?0:1)}}Tn.EMPTY=null,Tn.RED=!0,Tn.BLACK=!1;Tn.EMPTY=new class{constructor(){this.size=0}get key(){throw Re(57766)}get value(){throw Re(16141)}get color(){throw Re(16727)}get left(){throw Re(29726)}get right(){throw Re(36894)}copy(e,n,r,a,o){return this}insert(e,n,r){return new Tn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.comparator=e,this.data=new Pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new pC(this.data.getIterator())}getIteratorFrom(e){return new pC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof rn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=r.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new rn(this.comparator);return n.data=e,n}}class pC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e){this.fields=e,e.sort(On.comparator)}static empty(){return new ti([])}unionWith(e){let n=new rn(On.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ti(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return tu(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new yI("Invalid base64 string: "+o):o}})(e);return new jn(n)}static fromUint8Array(e){const n=(function(a){let o="";for(let u=0;u<a.length;++u)o+=String.fromCharCode(a[u]);return o})(e);return new jn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jn.EMPTY_BYTE_STRING=new jn("");const fX=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ms(t){if(at(!!t,39018),typeof t=="string"){let e=0;const n=fX.exec(t);if(at(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ut(t.seconds),nanos:Ut(t.nanos)}}function Ut(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ps(t){return typeof t=="string"?jn.fromBase64String(t):jn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI="server_timestamp",xI="__type__",_I="__previous_value__",wI="__local_write_time__";function Qx(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[xI])==null?void 0:r.stringValue)===bI}function Cp(t){const e=t.mapValue.fields[_I];return Qx(e)?Cp(e):e}function pf(t){const e=ms(t.mapValue.fields[wI].timestampValue);return new wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hX{constructor(e,n,r,a,o,u,c,h,d,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=d,this.isUsingEmulator=m}}const Pm="(default)";class gf{constructor(e,n){this.projectId=e,this.database=n||Pm}static empty(){return new gf("","")}get isDefaultDatabase(){return this.database===Pm}isEqual(e){return e instanceof gf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI="__type__",dX="__max__",Od={mapValue:{}},SI="__vector__",Nm="value";function gs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Qx(t)?4:pX(t)?9007199254740991:mX(t)?10:11:Re(28295,{value:t})}function Ri(t,e){if(t===e)return!0;const n=gs(t);if(n!==gs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return pf(t).isEqual(pf(e));case 3:return(function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const u=ms(a.timestampValue),c=ms(o.timestampValue);return u.seconds===c.seconds&&u.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,o){return ps(a.bytesValue).isEqual(ps(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,o){return Ut(a.geoPointValue.latitude)===Ut(o.geoPointValue.latitude)&&Ut(a.geoPointValue.longitude)===Ut(o.geoPointValue.longitude)})(t,e);case 2:return(function(a,o){if("integerValue"in a&&"integerValue"in o)return Ut(a.integerValue)===Ut(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const u=Ut(a.doubleValue),c=Ut(o.doubleValue);return u===c?jm(u)===jm(c):isNaN(u)&&isNaN(c)}return!1})(t,e);case 9:return tu(t.arrayValue.values||[],e.arrayValue.values||[],Ri);case 10:case 11:return(function(a,o){const u=a.mapValue.fields||{},c=o.mapValue.fields||{};if(mC(u)!==mC(c))return!1;for(const h in u)if(u.hasOwnProperty(h)&&(c[h]===void 0||!Ri(u[h],c[h])))return!1;return!0})(t,e);default:return Re(52216,{left:t})}}function vf(t,e){return(t.values||[]).find((n=>Ri(n,e)))!==void 0}function nu(t,e){if(t===e)return 0;const n=gs(t),r=gs(e);if(n!==r)return He(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return He(t.booleanValue,e.booleanValue);case 2:return(function(o,u){const c=Ut(o.integerValue||o.doubleValue),h=Ut(u.integerValue||u.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1})(t,e);case 3:return gC(t.timestampValue,e.timestampValue);case 4:return gC(pf(t),pf(e));case 5:return Fb(t.stringValue,e.stringValue);case 6:return(function(o,u){const c=ps(o),h=ps(u);return c.compareTo(h)})(t.bytesValue,e.bytesValue);case 7:return(function(o,u){const c=o.split("/"),h=u.split("/");for(let d=0;d<c.length&&d<h.length;d++){const m=He(c[d],h[d]);if(m!==0)return m}return He(c.length,h.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,u){const c=He(Ut(o.latitude),Ut(u.latitude));return c!==0?c:He(Ut(o.longitude),Ut(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return vC(t.arrayValue,e.arrayValue);case 10:return(function(o,u){var y,_,S,E;const c=o.fields||{},h=u.fields||{},d=(y=c[Nm])==null?void 0:y.arrayValue,m=(_=h[Nm])==null?void 0:_.arrayValue,v=He(((S=d==null?void 0:d.values)==null?void 0:S.length)||0,((E=m==null?void 0:m.values)==null?void 0:E.length)||0);return v!==0?v:vC(d,m)})(t.mapValue,e.mapValue);case 11:return(function(o,u){if(o===Od.mapValue&&u===Od.mapValue)return 0;if(o===Od.mapValue)return 1;if(u===Od.mapValue)return-1;const c=o.fields||{},h=Object.keys(c),d=u.fields||{},m=Object.keys(d);h.sort(),m.sort();for(let v=0;v<h.length&&v<m.length;++v){const y=Fb(h[v],m[v]);if(y!==0)return y;const _=nu(c[h[v]],d[m[v]]);if(_!==0)return _}return He(h.length,m.length)})(t.mapValue,e.mapValue);default:throw Re(23264,{he:n})}}function gC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return He(t,e);const n=ms(t),r=ms(e),a=He(n.seconds,r.seconds);return a!==0?a:He(n.nanos,r.nanos)}function vC(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const o=nu(n[a],r[a]);if(o)return o}return He(n.length,r.length)}function ru(t){return Hb(t)}function Hb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=ms(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ps(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return je.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",a=!0;for(const o of n.values||[])a?a=!1:r+=",",r+=Hb(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let a="{",o=!0;for(const u of r)o?o=!1:a+=",",a+=`${u}:${Hb(n.fields[u])}`;return a+"}"})(t.mapValue):Re(61005,{value:t})}function Id(t){switch(gs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Cp(t);return e?16+Id(e):16;case 5:return 2*t.stringValue.length;case 6:return ps(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,o)=>a+Id(o)),0)})(t.arrayValue);case 10:case 11:return(function(r){let a=0;return Lo(r.fields,((o,u)=>{a+=o.length+Id(u)})),a})(t.mapValue);default:throw Re(13486,{value:t})}}function Kb(t){return!!t&&"integerValue"in t}function Wx(t){return!!t&&"arrayValue"in t}function yC(t){return!!t&&"nullValue"in t}function bC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Md(t){return!!t&&"mapValue"in t}function mX(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[EI])==null?void 0:r.stringValue)===SI}function Gc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Lo(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Gc(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Gc(t.arrayValue.values[n]);return e}return{...t}}function pX(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===dX}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e){this.value=e}static empty(){return new Lr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Md(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gc(n)}setAll(e){let n=On.emptyPath(),r={},a=[];e.forEach(((u,c)=>{if(!n.isImmediateParentOf(c)){const h=this.getFieldsMap(n);this.applyChanges(h,r,a),r={},a=[],n=c.popLast()}u?r[c.lastSegment()]=Gc(u):a.push(c.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,a)}delete(e){const n=this.field(e.popLast());Md(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ri(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];Md(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){Lo(n,((a,o)=>e[a]=o));for(const a of r)delete e[a]}clone(){return new Lr(Gc(this.value))}}function AI(t){const e=[];return Lo(t.fields,((n,r)=>{const a=new On([n]);if(Md(r)){const o=AI(r.mapValue).fields;if(o.length===0)e.push(a);else for(const u of o)e.push(a.child(u))}else e.push(a)})),new ti(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e,n,r,a,o,u,c){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=o,this.data=u,this.documentState=c}static newInvalidDocument(e){return new Bn(e,0,ke.min(),ke.min(),ke.min(),Lr.empty(),0)}static newFoundDocument(e,n,r,a){return new Bn(e,1,n,ke.min(),r,a,0)}static newNoDocument(e,n){return new Bn(e,2,n,ke.min(),ke.min(),Lr.empty(),0)}static newUnknownDocument(e,n){return new Bn(e,3,n,ke.min(),ke.min(),Lr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Lr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Lr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e,n){this.position=e,this.inclusive=n}}function xC(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const o=e[a],u=t.position[a];if(o.field.isKeyField()?r=je.comparator(je.fromName(u.referenceValue),n.key):r=nu(u,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function _C(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ri(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e,n="asc"){this.field=e,this.dir=n}}function gX(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{}class nn extends TI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new yX(e,n,r):n==="array-contains"?new _X(e,r):n==="in"?new wX(e,r):n==="not-in"?new EX(e,r):n==="array-contains-any"?new SX(e,r):new nn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new bX(e,r):new xX(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(nu(n,this.value)):n!==null&&gs(this.value)===gs(n)&&this.matchesComparison(nu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ii extends TI{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ii(e,n)}matches(e){return OI(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function OI(t){return t.op==="and"}function CI(t){return vX(t)&&OI(t)}function vX(t){for(const e of t.filters)if(e instanceof Ii)return!1;return!0}function Gb(t){if(t instanceof nn)return t.field.canonicalString()+t.op.toString()+ru(t.value);if(CI(t))return t.filters.map((e=>Gb(e))).join(",");{const e=t.filters.map((n=>Gb(n))).join(",");return`${t.op}(${e})`}}function jI(t,e){return t instanceof nn?(function(r,a){return a instanceof nn&&r.op===a.op&&r.field.isEqual(a.field)&&Ri(r.value,a.value)})(t,e):t instanceof Ii?(function(r,a){return a instanceof Ii&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((o,u,c)=>o&&jI(u,a.filters[c])),!0):!1})(t,e):void Re(19439)}function PI(t){return t instanceof nn?(function(n){return`${n.field.canonicalString()} ${n.op} ${ru(n.value)}`})(t):t instanceof Ii?(function(n){return n.op.toString()+" {"+n.getFilters().map(PI).join(" ,")+"}"})(t):"Filter"}class yX extends nn{constructor(e,n,r){super(e,n,r),this.key=je.fromName(r.referenceValue)}matches(e){const n=je.comparator(e.key,this.key);return this.matchesComparison(n)}}class bX extends nn{constructor(e,n){super(e,"in",n),this.keys=NI("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class xX extends nn{constructor(e,n){super(e,"not-in",n),this.keys=NI("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function NI(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>je.fromName(r.referenceValue)))}class _X extends nn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Wx(n)&&vf(n.arrayValue,this.value)}}class wX extends nn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&vf(this.value.arrayValue,n)}}class EX extends nn{constructor(e,n){super(e,"not-in",n)}matches(e){if(vf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!vf(this.value.arrayValue,n)}}class SX extends nn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Wx(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>vf(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AX{constructor(e,n=null,r=[],a=[],o=null,u=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=o,this.startAt=u,this.endAt=c,this.Te=null}}function wC(t,e=null,n=[],r=[],a=null,o=null,u=null){return new AX(t,e,n,r,a,o,u)}function Zx(t){const e=Le(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Gb(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),Op(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>ru(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>ru(r))).join(",")),e.Te=n}return e.Te}function Jx(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!gX(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!jI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!_C(t.startAt,e.startAt)&&_C(t.endAt,e.endAt)}function Yb(t){return je.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e,n=null,r=[],a=[],o=null,u="F",c=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=o,this.limitType=u,this.startAt=c,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function TX(t,e,n,r,a,o,u,c){return new jp(t,e,n,r,a,o,u,c)}function e_(t){return new jp(t)}function EC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function OX(t){return t.collectionGroup!==null}function Yc(t){const e=Le(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let c=new rn(On.comparator);return u.filters.forEach((h=>{h.getFlattenedFilters().forEach((d=>{d.isInequality()&&(c=c.add(d.field))}))})),c})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Rm(o,r))})),n.has(On.keyField().canonicalString())||e.Ie.push(new Rm(On.keyField(),r))}return e.Ie}function Oi(t){const e=Le(t);return e.Ee||(e.Ee=CX(e,Yc(t))),e.Ee}function CX(t,e){if(t.limitType==="F")return wC(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const o=a.dir==="desc"?"asc":"desc";return new Rm(a.field,o)}));const n=t.endAt?new Dm(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Dm(t.startAt.position,t.startAt.inclusive):null;return wC(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Xb(t,e,n){return new jp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Pp(t,e){return Jx(Oi(t),Oi(e))&&t.limitType===e.limitType}function DI(t){return`${Zx(Oi(t))}|lt:${t.limitType}`}function Ml(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((a=>PI(a))).join(", ")}]`),Op(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((a=>ru(a))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((a=>ru(a))).join(",")),`Target(${r})`})(Oi(t))}; limitType=${t.limitType})`}function Np(t,e){return e.isFoundDocument()&&(function(r,a){const o=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):je.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,a){for(const o of Yc(r))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,a){for(const o of r.filters)if(!o.matches(a))return!1;return!0})(t,e)&&(function(r,a){return!(r.startAt&&!(function(u,c,h){const d=xC(u,c,h);return u.inclusive?d<=0:d<0})(r.startAt,Yc(r),a)||r.endAt&&!(function(u,c,h){const d=xC(u,c,h);return u.inclusive?d>=0:d>0})(r.endAt,Yc(r),a))})(t,e)}function jX(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function RI(t){return(e,n)=>{let r=!1;for(const a of Yc(t)){const o=PX(a,e,n);if(o!==0)return o;r=r||a.field.isKeyField()}return 0}}function PX(t,e,n){const r=t.field.isKeyField()?je.comparator(e.key,n.key):(function(o,u,c){const h=u.data.field(o),d=c.data.field(o);return h!==null&&d!==null?nu(h,d):Re(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Re(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,o]of r)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Lo(this.inner,((n,r)=>{for(const[a,o]of r)e(a,o)}))}isEmpty(){return vI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NX=new Pt(je.comparator);function _a(){return NX}const II=new Pt(je.comparator);function zc(...t){let e=II;for(const n of t)e=e.insert(n.key,n);return e}function MI(t){let e=II;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function yo(){return Xc()}function kI(){return Xc()}function Xc(){return new Bo((t=>t.toString()),((t,e)=>t.isEqual(e)))}const DX=new Pt(je.comparator),RX=new rn(je.comparator);function Ke(...t){let e=RX;for(const n of t)e=e.add(n);return e}const IX=new rn(He);function MX(){return IX}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jm(e)?"-0":e}}function VI(t){return{integerValue:""+t}}function kX(t,e){return lX(e)?VI(e):t_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(){this._=void 0}}function VX(t,e,n){return t instanceof Im?(function(a,o){const u={fields:{[xI]:{stringValue:bI},[wI]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&Qx(o)&&(o=Cp(o)),o&&(u.fields[_I]=o),{mapValue:u}})(n,e):t instanceof yf?BI(t,e):t instanceof bf?UI(t,e):(function(a,o){const u=LI(a,o),c=SC(u)+SC(a.Ae);return Kb(u)&&Kb(a.Ae)?VI(c):t_(a.serializer,c)})(t,e)}function LX(t,e,n){return t instanceof yf?BI(t,e):t instanceof bf?UI(t,e):n}function LI(t,e){return t instanceof Mm?(function(r){return Kb(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class Im extends Dp{}class yf extends Dp{constructor(e){super(),this.elements=e}}function BI(t,e){const n=zI(e);for(const r of t.elements)n.some((a=>Ri(a,r)))||n.push(r);return{arrayValue:{values:n}}}class bf extends Dp{constructor(e){super(),this.elements=e}}function UI(t,e){let n=zI(e);for(const r of t.elements)n=n.filter((a=>!Ri(a,r)));return{arrayValue:{values:n}}}class Mm extends Dp{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function SC(t){return Ut(t.integerValue||t.doubleValue)}function zI(t){return Wx(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function BX(t,e){return t.field.isEqual(e.field)&&(function(r,a){return r instanceof yf&&a instanceof yf||r instanceof bf&&a instanceof bf?tu(r.elements,a.elements,Ri):r instanceof Mm&&a instanceof Mm?Ri(r.Ae,a.Ae):r instanceof Im&&a instanceof Im})(t.transform,e.transform)}class UX{constructor(e,n){this.version=e,this.transformResults=n}}class ma{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ma}static exists(e){return new ma(void 0,e)}static updateTime(e){return new ma(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Rp{}function qI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new FI(t.key,ma.none()):new Vf(t.key,t.data,ma.none());{const n=t.data,r=Lr.empty();let a=new rn(On.comparator);for(let o of e.fields)if(!a.has(o)){let u=n.field(o);u===null&&o.length>1&&(o=o.popLast(),u=n.field(o)),u===null?r.delete(o):r.set(o,u),a=a.add(o)}return new Uo(t.key,r,new ti(a.toArray()),ma.none())}}function zX(t,e,n){t instanceof Vf?(function(a,o,u){const c=a.value.clone(),h=TC(a.fieldTransforms,o,u.transformResults);c.setAll(h),o.convertToFoundDocument(u.version,c).setHasCommittedMutations()})(t,e,n):t instanceof Uo?(function(a,o,u){if(!kd(a.precondition,o))return void o.convertToUnknownDocument(u.version);const c=TC(a.fieldTransforms,o,u.transformResults),h=o.data;h.setAll($I(a)),h.setAll(c),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(t,e,n):(function(a,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function Qc(t,e,n,r){return t instanceof Vf?(function(o,u,c,h){if(!kd(o.precondition,u))return c;const d=o.value.clone(),m=OC(o.fieldTransforms,h,u);return d.setAll(m),u.convertToFoundDocument(u.version,d).setHasLocalMutations(),null})(t,e,n,r):t instanceof Uo?(function(o,u,c,h){if(!kd(o.precondition,u))return c;const d=OC(o.fieldTransforms,h,u),m=u.data;return m.setAll($I(o)),m.setAll(d),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((v=>v.field)))})(t,e,n,r):(function(o,u,c){return kd(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):c})(t,e,n)}function qX(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),o=LI(r.transform,a||null);o!=null&&(n===null&&(n=Lr.empty()),n.set(r.field,o))}return n||null}function AC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&tu(r,a,((o,u)=>BX(o,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Vf extends Rp{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Uo extends Rp{constructor(e,n,r,a,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function $I(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function TC(t,e,n){const r=new Map;at(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const o=t[a],u=o.transform,c=e.data.field(o.field);r.set(o.field,LX(u,c,n[a]))}return r}function OC(t,e,n){const r=new Map;for(const a of t){const o=a.transform,u=n.data.field(a.field);r.set(a.field,VX(o,u,e))}return r}class FI extends Rp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $X extends Rp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FX{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&zX(o,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Qc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Qc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=kI();return this.mutations.forEach((a=>{const o=e.get(a.key),u=o.overlayedDocument;let c=this.applyToLocalView(u,o.mutatedFields);c=n.has(a.key)?null:c;const h=qI(u,c);h!==null&&r.set(a.key,h),u.isValidDocument()||u.convertToNoDocument(ke.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ke())}isEqual(e){return this.batchId===e.batchId&&tu(this.mutations,e.mutations,((n,r)=>AC(n,r)))&&tu(this.baseMutations,e.baseMutations,((n,r)=>AC(n,r)))}}class n_{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){at(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return DX})();const o=e.mutations;for(let u=0;u<o.length;u++)a=a.insert(o[u].key,r[u].version);return new n_(e,n,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HX{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KX{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ht,We;function GX(t){switch(t){case he.OK:return Re(64938);case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0;default:return Re(15467,{code:t})}}function HI(t){if(t===void 0)return xa("GRPC error has no .code"),he.UNKNOWN;switch(t){case Ht.OK:return he.OK;case Ht.CANCELLED:return he.CANCELLED;case Ht.UNKNOWN:return he.UNKNOWN;case Ht.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case Ht.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case Ht.INTERNAL:return he.INTERNAL;case Ht.UNAVAILABLE:return he.UNAVAILABLE;case Ht.UNAUTHENTICATED:return he.UNAUTHENTICATED;case Ht.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case Ht.NOT_FOUND:return he.NOT_FOUND;case Ht.ALREADY_EXISTS:return he.ALREADY_EXISTS;case Ht.PERMISSION_DENIED:return he.PERMISSION_DENIED;case Ht.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case Ht.ABORTED:return he.ABORTED;case Ht.OUT_OF_RANGE:return he.OUT_OF_RANGE;case Ht.UNIMPLEMENTED:return he.UNIMPLEMENTED;case Ht.DATA_LOSS:return he.DATA_LOSS;default:return Re(39323,{code:t})}}(We=Ht||(Ht={}))[We.OK=0]="OK",We[We.CANCELLED=1]="CANCELLED",We[We.UNKNOWN=2]="UNKNOWN",We[We.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",We[We.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",We[We.NOT_FOUND=5]="NOT_FOUND",We[We.ALREADY_EXISTS=6]="ALREADY_EXISTS",We[We.PERMISSION_DENIED=7]="PERMISSION_DENIED",We[We.UNAUTHENTICATED=16]="UNAUTHENTICATED",We[We.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",We[We.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",We[We.ABORTED=10]="ABORTED",We[We.OUT_OF_RANGE=11]="OUT_OF_RANGE",We[We.UNIMPLEMENTED=12]="UNIMPLEMENTED",We[We.INTERNAL=13]="INTERNAL",We[We.UNAVAILABLE=14]="UNAVAILABLE",We[We.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YX(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XX=new cs([4294967295,4294967295],0);function CC(t){const e=YX().encode(t),n=new oI;return n.update(e),new Uint8Array(n.digest())}function jC(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new cs([n,r],0),new cs([a,o],0)]}class r_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new qc(`Invalid padding: ${n}`);if(r<0)throw new qc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new qc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new qc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=cs.fromNumber(this.ge)}ye(e,n,r){let a=e.add(n.multiply(cs.fromNumber(r)));return a.compare(XX)===1&&(a=new cs([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=CC(e),[r,a]=jC(n);for(let o=0;o<this.hashCount;o++){const u=this.ye(r,a,o);if(!this.we(u))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new r_(o,a,n);return r.forEach((c=>u.insert(c))),u}insert(e){if(this.ge===0)return;const n=CC(e),[r,a]=jC(n);for(let o=0;o<this.hashCount;o++){const u=this.ye(r,a,o);this.Se(u)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class qc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(e,n,r,a,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,Lf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ip(ke.min(),a,new Pt(He),_a(),Ke())}}class Lf{constructor(e,n,r,a,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Lf(r,n,Ke(),Ke(),Ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e,n,r,a){this.be=e,this.removedTargetIds=n,this.key=r,this.De=a}}class KI{constructor(e,n){this.targetId=e,this.Ce=n}}class GI{constructor(e,n,r=jn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class PC{constructor(){this.ve=0,this.Fe=NC(),this.Me=jn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ke(),n=Ke(),r=Ke();return this.Fe.forEach(((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:Re(38017,{changeType:o})}})),new Lf(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=NC()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,at(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class QX{constructor(e){this.Ge=e,this.ze=new Map,this.je=_a(),this.Je=Cd(),this.He=Cd(),this.Ye=new Pt(He)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Re(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,r=e.Ce.count,a=this.ot(n);if(a){const o=a.target;if(Yb(o))if(r===0){const u=new je(o.path);this.et(n,u,Bn.newNoDocument(u,ke.min()))}else at(r===1,20013,{expectedCount:r});else{const u=this._t(n);if(u!==r){const c=this.ut(e),h=c?this.ct(c,e,u):1;if(h!==0){this.it(n);const d=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:o=0}=n;let u,c;try{u=ps(r).toUint8Array()}catch(h){if(h instanceof yI)return eu("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new r_(u,a,o)}catch(h){return eu(h instanceof qc?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let a=0;return r.forEach((o=>{const u=this.Ge.ht(),c=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.et(n,o,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((o,u)=>{const c=this.ot(u);if(c){if(o.current&&Yb(c.target)){const h=new je(c.target.path);this.It(h).has(u)||this.Et(u,h)||this.et(u,h,Bn.newNoDocument(h,e))}o.Be&&(n.set(u,o.ke()),o.qe())}}));let r=Ke();this.He.forEach(((o,u)=>{let c=!0;u.forEachWhile((h=>{const d=this.ot(h);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(o))})),this.je.forEach(((o,u)=>u.setReadTime(e)));const a=new Ip(e,n,this.Ye,this.je,r);return this.je=_a(),this.Je=Cd(),this.He=Cd(),this.Ye=new Pt(He),a}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new PC,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new rn(He),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new rn(He),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ve("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new PC),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Cd(){return new Pt(je.comparator)}function NC(){return new Pt(je.comparator)}const WX={asc:"ASCENDING",desc:"DESCENDING"},ZX={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},JX={and:"AND",or:"OR"};class eQ{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Qb(t,e){return t.useProto3Json||Op(e)?e:{value:e}}function km(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function YI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function tQ(t,e){return km(t,e.toTimestamp())}function Ci(t){return at(!!t,49232),ke.fromTimestamp((function(n){const r=ms(n);return new wt(r.seconds,r.nanos)})(t))}function i_(t,e){return Wb(t,e).canonicalString()}function Wb(t,e){const n=(function(a){return new jt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function XI(t){const e=jt.fromString(t);return at(eM(e),10190,{key:e.toString()}),e}function Zb(t,e){return i_(t.databaseId,e.path)}function M0(t,e){const n=XI(e);if(n.get(1)!==t.databaseId.projectId)throw new Te(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Te(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new je(WI(n))}function QI(t,e){return i_(t.databaseId,e)}function nQ(t){const e=XI(t);return e.length===4?jt.emptyPath():WI(e)}function Jb(t){return new jt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function WI(t){return at(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function DC(t,e,n){return{name:Zb(t,e),fields:n.value.mapValue.fields}}function rQ(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Re(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=(function(d,m){return d.useProto3Json?(at(m===void 0||typeof m=="string",58123),jn.fromBase64String(m||"")):(at(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),jn.fromUint8Array(m||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,c=u&&(function(d){const m=d.code===void 0?he.UNKNOWN:HI(d.code);return new Te(m,d.message||"")})(u);n=new GI(r,a,o,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=M0(t,r.document.name),o=Ci(r.document.updateTime),u=r.document.createTime?Ci(r.document.createTime):ke.min(),c=new Lr({mapValue:{fields:r.document.fields}}),h=Bn.newFoundDocument(a,o,u,c),d=r.targetIds||[],m=r.removedTargetIds||[];n=new Vd(d,m,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=M0(t,r.document),o=r.readTime?Ci(r.readTime):ke.min(),u=Bn.newNoDocument(a,o),c=r.removedTargetIds||[];n=new Vd([],c,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=M0(t,r.document),o=r.removedTargetIds||[];n=new Vd([],o,a,null)}else{if(!("filter"in e))return Re(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:o}=r,u=new KX(a,o),c=r.targetId;n=new KI(c,u)}}return n}function iQ(t,e){let n;if(e instanceof Vf)n={update:DC(t,e.key,e.value)};else if(e instanceof FI)n={delete:Zb(t,e.key)};else if(e instanceof Uo)n={update:DC(t,e.key,e.data),updateMask:dQ(e.fieldMask)};else{if(!(e instanceof $X))return Re(16599,{Vt:e.type});n={verify:Zb(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,u){const c=u.transform;if(c instanceof Im)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof yf)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof bf)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Mm)return{fieldPath:u.field.canonicalString(),increment:c.Ae};throw Re(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(a,o){return o.updateTime!==void 0?{updateTime:tQ(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Re(27497)})(t,e.precondition)),n}function aQ(t,e){return t&&t.length>0?(at(e!==void 0,14353),t.map((n=>(function(a,o){let u=a.updateTime?Ci(a.updateTime):Ci(o);return u.isEqual(ke.min())&&(u=Ci(o)),new UX(u,a.transformResults||[])})(n,e)))):[]}function sQ(t,e){return{documents:[QI(t,e.path)]}}function oQ(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=QI(t,a);const o=(function(d){if(d.length!==0)return JI(Ii.create(d,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const u=(function(d){if(d.length!==0)return d.map((m=>(function(y){return{field:kl(y.field),direction:cQ(y.dir)}})(m)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const c=Qb(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:n,parent:a}}function lQ(t){let e=nQ(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){at(r===1,65062);const m=n.from[0];m.allDescendants?a=m.collectionId:e=e.child(m.collectionId)}let o=[];n.where&&(o=(function(v){const y=ZI(v);return y instanceof Ii&&CI(y)?y.getFilters():[y]})(n.where));let u=[];n.orderBy&&(u=(function(v){return v.map((y=>(function(S){return new Rm(Vl(S.field),(function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(y)))})(n.orderBy));let c=null;n.limit&&(c=(function(v){let y;return y=typeof v=="object"?v.value:v,Op(y)?null:y})(n.limit));let h=null;n.startAt&&(h=(function(v){const y=!!v.before,_=v.values||[];return new Dm(_,y)})(n.startAt));let d=null;return n.endAt&&(d=(function(v){const y=!v.before,_=v.values||[];return new Dm(_,y)})(n.endAt)),TX(e,a,u,o,c,"F",h,d)}function uQ(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ZI(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Vl(n.unaryFilter.field);return nn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Vl(n.unaryFilter.field);return nn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Vl(n.unaryFilter.field);return nn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Vl(n.unaryFilter.field);return nn.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Re(61313);default:return Re(60726)}})(t):t.fieldFilter!==void 0?(function(n){return nn.create(Vl(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Re(58110);default:return Re(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ii.create(n.compositeFilter.filters.map((r=>ZI(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Re(1026)}})(n.compositeFilter.op))})(t):Re(30097,{filter:t})}function cQ(t){return WX[t]}function fQ(t){return ZX[t]}function hQ(t){return JX[t]}function kl(t){return{fieldPath:t.canonicalString()}}function Vl(t){return On.fromServerFormat(t.fieldPath)}function JI(t){return t instanceof nn?(function(n){if(n.op==="=="){if(bC(n.value))return{unaryFilter:{field:kl(n.field),op:"IS_NAN"}};if(yC(n.value))return{unaryFilter:{field:kl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(bC(n.value))return{unaryFilter:{field:kl(n.field),op:"IS_NOT_NAN"}};if(yC(n.value))return{unaryFilter:{field:kl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:kl(n.field),op:fQ(n.op),value:n.value}}})(t):t instanceof Ii?(function(n){const r=n.getFilters().map((a=>JI(a)));return r.length===1?r[0]:{compositeFilter:{op:hQ(n.op),filters:r}}})(t):Re(54877,{filter:t})}function dQ(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function eM(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e,n,r,a,o=ke.min(),u=ke.min(),c=jn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new as(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mQ{constructor(e){this.yt=e}}function pQ(t){const e=lQ({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Xb(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gQ{constructor(){this.Cn=new vQ}addToCollectionParentIndex(e,n){return this.Cn.add(n),le.resolve()}getCollectionParents(e,n){return le.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return le.resolve()}deleteFieldIndex(e,n){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,n){return le.resolve()}getDocumentsMatchingTarget(e,n){return le.resolve(null)}getIndexType(e,n){return le.resolve(0)}getFieldIndexes(e,n){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,n){return le.resolve(ds.min())}getMinOffsetFromCollectionGroup(e,n){return le.resolve(ds.min())}updateCollectionGroup(e,n,r){return le.resolve()}updateIndexEntries(e,n){return le.resolve()}}class vQ{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new rn(jt.comparator),o=!a.has(r);return this.index[n]=a.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new rn(jt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tM=41943040;class Xn{static withCacheSize(e){return new Xn(e,Xn.DEFAULT_COLLECTION_PERCENTILE,Xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xn.DEFAULT_COLLECTION_PERCENTILE=10,Xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xn.DEFAULT=new Xn(tM,Xn.DEFAULT_COLLECTION_PERCENTILE,Xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xn.DISABLED=new Xn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new iu(0)}static cr(){return new iu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC="LruGarbageCollector",yQ=1048576;function MC([t,e],[n,r]){const a=He(t,n);return a===0?He(e,r):a}class bQ{constructor(e){this.Ir=e,this.buffer=new rn(MC),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();MC(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class xQ{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ve(IC,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){bu(n)?ve(IC,"Ignoring IndexedDB error during garbage collection: ",n):await yu(n)}await this.Vr(3e5)}))}}class _Q{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return le.resolve(Tp.ce);const r=new bQ(n);return this.mr.forEachTarget(e,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ve("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(RC)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),RC):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,a,o,u,c,h,d;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,u=Date.now(),this.nthSequenceNumber(e,a)))).next((v=>(r=v,c=Date.now(),this.removeTargets(e,r,n)))).next((v=>(o=v,h=Date.now(),this.removeOrphanedDocuments(e,r)))).next((v=>(d=Date.now(),Il()<=Ze.DEBUG&&ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-m}ms
	Determined least recently used ${a} in `+(c-u)+`ms
	Removed ${o} targets in `+(h-c)+`ms
	Removed ${v} documents in `+(d-h)+`ms
Total Duration: ${d-m}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:v}))))}}function wQ(t,e){return new _Q(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EQ{constructor(){this.changes=new Bo((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Bn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?le.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SQ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AQ{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(r!==null&&Qc(r.mutation,a,ti.empty(),wt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Ke()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Ke()){const a=yo();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,r).next((o=>{let u=zc();return o.forEach(((c,h)=>{u=u.insert(c,h.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const r=yo();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Ke())))}populateOverlays(e,n,r){const a=[];return r.forEach((o=>{n.has(o)||a.push(o)})),this.documentOverlayCache.getOverlays(e,a).next((o=>{o.forEach(((u,c)=>{n.set(u,c)}))}))}computeViews(e,n,r,a){let o=_a();const u=Xc(),c=(function(){return Xc()})();return n.forEach(((h,d)=>{const m=r.get(d.key);a.has(d.key)&&(m===void 0||m.mutation instanceof Uo)?o=o.insert(d.key,d):m!==void 0?(u.set(d.key,m.mutation.getFieldMask()),Qc(m.mutation,d,m.mutation.getFieldMask(),wt.now())):u.set(d.key,ti.empty())})),this.recalculateAndSaveOverlays(e,o).next((h=>(h.forEach(((d,m)=>u.set(d,m))),n.forEach(((d,m)=>c.set(d,new SQ(m,u.get(d)??null)))),c)))}recalculateAndSaveOverlays(e,n){const r=Xc();let a=new Pt(((u,c)=>u-c)),o=Ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const c of u)c.keys().forEach((h=>{const d=n.get(h);if(d===null)return;let m=r.get(h)||ti.empty();m=c.applyToLocalView(d,m),r.set(h,m);const v=(a.get(c.batchId)||Ke()).add(h);a=a.insert(c.batchId,v)}))})).next((()=>{const u=[],c=a.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),d=h.key,m=h.value,v=kI();m.forEach((y=>{if(!o.has(y)){const _=qI(n.get(y),r.get(y));_!==null&&v.set(y,_),o=o.add(y)}})),u.push(this.documentOverlayCache.saveOverlays(e,d,v))}return le.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,a){return(function(u){return je.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):OX(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next((o=>{const u=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-o.size):le.resolve(yo());let c=mf,h=o;return u.next((d=>le.forEach(d,((m,v)=>(c<v.largestBatchId&&(c=v.largestBatchId),o.get(m)?le.resolve():this.remoteDocumentCache.getEntry(e,m).next((y=>{h=h.insert(m,y)}))))).next((()=>this.populateOverlays(e,d,o))).next((()=>this.computeViews(e,h,d,Ke()))).next((m=>({batchId:c,changes:MI(m)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new je(n)).next((r=>{let a=zc();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const o=n.collectionGroup;let u=zc();return this.indexManager.getCollectionParents(e,o).next((c=>le.forEach(c,(h=>{const d=(function(v,y){return new jp(y,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,r,a).next((m=>{m.forEach(((v,y)=>{u=u.insert(v,y)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,r,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,a)))).next((u=>{o.forEach(((h,d)=>{const m=d.getKey();u.get(m)===null&&(u=u.insert(m,Bn.newInvalidDocument(m)))}));let c=zc();return u.forEach(((h,d)=>{const m=o.get(h);m!==void 0&&Qc(m.mutation,d,ti.empty(),wt.now()),Np(n,d)&&(c=c.insert(h,d))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TQ{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return le.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Ci(a.createTime)}})(n)),le.resolve()}getNamedQuery(e,n){return le.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:pQ(a.bundledQuery),readTime:Ci(a.readTime)}})(n)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OQ{constructor(){this.overlays=new Pt(je.comparator),this.qr=new Map}getOverlay(e,n){return le.resolve(this.overlays.get(n))}getOverlays(e,n){const r=yo();return le.forEach(n,(a=>this.getOverlay(e,a).next((o=>{o!==null&&r.set(a,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((a,o)=>{this.St(e,n,o)})),le.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),le.resolve()}getOverlaysForCollection(e,n,r){const a=yo(),o=n.length+1,u=new je(n.child("")),c=this.overlays.getIteratorFrom(u);for(;c.hasNext();){const h=c.getNext().value,d=h.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===o&&h.largestBatchId>r&&a.set(h.getKey(),h)}return le.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let o=new Pt(((d,m)=>d-m));const u=this.overlays.getIterator();for(;u.hasNext();){const d=u.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let m=o.get(d.largestBatchId);m===null&&(m=yo(),o=o.insert(d.largestBatchId,m)),m.set(d.getKey(),d)}}const c=yo(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((d,m)=>c.set(d,m))),!(c.size()>=a)););return le.resolve(c)}St(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const u=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new HX(n,r));let o=this.qr.get(n);o===void 0&&(o=Ke(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CQ{constructor(){this.sessionToken=jn.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(){this.Qr=new rn(mn.$r),this.Ur=new rn(mn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new mn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new mn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new je(new jt([])),r=new mn(n,e),a=new mn(n,e+1),o=[];return this.Ur.forEachInRange([r,a],(u=>{this.Gr(u),o.push(u.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new je(new jt([])),r=new mn(n,e),a=new mn(n,e+1);let o=Ke();return this.Ur.forEachInRange([r,a],(u=>{o=o.add(u.key)})),o}containsKey(e){const n=new mn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class mn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return je.comparator(e.key,n.key)||He(e.Yr,n.Yr)}static Kr(e,n){return He(e.Yr,n.Yr)||je.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jQ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new rn(mn.$r)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new FX(o,n,r,a);this.mutationQueue.push(u);for(const c of a)this.Zr=this.Zr.add(new mn(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return le.resolve(u)}lookupMutationBatch(e,n){return le.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.ei(r),o=a<0?0:a;return le.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?Xx:this.tr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new mn(n,0),a=new mn(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,a],(u=>{const c=this.Xr(u.Yr);o.push(c)})),le.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new rn(He);return n.forEach((a=>{const o=new mn(a,0),u=new mn(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,u],(c=>{r=r.add(c.Yr)}))})),le.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let o=r;je.isDocumentKey(o)||(o=o.child(""));const u=new mn(new je(o),0);let c=new rn(He);return this.Zr.forEachWhile((h=>{const d=h.key.path;return!!r.isPrefixOf(d)&&(d.length===a&&(c=c.add(h.Yr)),!0)}),u),le.resolve(this.ti(c))}ti(e){const n=[];return e.forEach((r=>{const a=this.Xr(r);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){at(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return le.forEach(n.mutations,(a=>{const o=new mn(a.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new mn(n,0),a=this.Zr.firstAfterOrEqual(r);return le.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PQ{constructor(e){this.ri=e,this.docs=(function(){return new Pt(je.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),o=a?a.size:0,u=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return le.resolve(r?r.document.mutableCopy():Bn.newInvalidDocument(n))}getEntries(e,n){let r=_a();return n.forEach((a=>{const o=this.docs.get(a);r=r.insert(a,o?o.document.mutableCopy():Bn.newInvalidDocument(a))})),le.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let o=_a();const u=n.path,c=new je(u.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:d,value:{document:m}}=h.getNext();if(!u.isPrefixOf(d.path))break;d.path.length>u.length+1||iX(rX(m),r)<=0||(a.has(m.key)||Np(n,m))&&(o=o.insert(m.key,m.mutableCopy()))}return le.resolve(o)}getAllFromCollectionGroup(e,n,r,a){Re(9500)}ii(e,n){return le.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new NQ(this)}getSize(e){return le.resolve(this.size)}}class NQ extends EQ{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(r)})),le.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DQ{constructor(e){this.persistence=e,this.si=new Bo((n=>Zx(n)),Jx),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.oi=0,this._i=new a_,this.targetCount=0,this.ai=iu.ur()}forEachTarget(e,n){return this.si.forEach(((r,a)=>n(a))),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),le.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new iu(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,le.resolve()}updateTargetData(e,n){return this.Pr(n),le.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,n,r){let a=0;const o=[];return this.si.forEach(((u,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.si.delete(u),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),a++)})),le.waitFor(o).next((()=>a))}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return le.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),le.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const a=this.persistence.referenceDelegate,o=[];return a&&n.forEach((u=>{o.push(a.markPotentiallyOrphaned(e,u))})),le.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),le.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return le.resolve(r)}containsKey(e,n){return le.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(e,n){this.ui={},this.overlays={},this.ci=new Tp(0),this.li=!1,this.li=!0,this.hi=new CQ,this.referenceDelegate=e(this),this.Pi=new DQ(this),this.indexManager=new gQ,this.remoteDocumentCache=(function(a){return new PQ(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new mQ(n),this.Ii=new TQ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new OQ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new jQ(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ve("MemoryPersistence","Starting transaction:",e);const a=new RQ(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((o=>this.referenceDelegate.di(a).next((()=>o)))).toPromise().then((o=>(a.raiseOnCommittedEvent(),o)))}Ai(e,n){return le.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class RQ extends sX{constructor(e){super(),this.currentSequenceNumber=e}}class s_{constructor(e){this.persistence=e,this.Ri=new a_,this.Vi=null}static mi(e){return new s_(e)}get fi(){if(this.Vi)return this.Vi;throw Re(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),le.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),le.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),le.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.fi,(r=>{const a=je.fromPath(r);return this.gi(e,a).next((o=>{o||n.removeEntry(a,ke.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return le.or([()=>le.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Vm{constructor(e,n){this.persistence=e,this.pi=new Bo((r=>uX(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=wQ(this,n)}static mi(e,n){return new Vm(e,n)}Ei(){}di(e){return le.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((a=>r+a))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return le.forEach(this.pi,((r,a)=>this.br(e,r,a).next((o=>o?le.resolve():n(a)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.ii(e,(u=>this.br(e,u,n).next((c=>{c||(r++,o.removeEntry(u,ke.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),le.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),le.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),le.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Id(e.data.value)),n}br(e,n,r){return le.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return le.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=a}static As(e,n){let r=Ke(),a=Ke();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new o_(e,n.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IQ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MQ{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return SG()?8:oX(wG())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,a){const o={result:null};return this.ys(e,n).next((u=>{o.result=u})).next((()=>{if(!o.result)return this.ws(e,n,a,r).next((u=>{o.result=u}))})).next((()=>{if(o.result)return;const u=new IQ;return this.Ss(e,n,u).next((c=>{if(o.result=c,this.Vs)return this.bs(e,n,u,c.size)}))})).next((()=>o.result))}bs(e,n,r,a){return r.documentReadCount<this.fs?(Il()<=Ze.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",Ml(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),le.resolve()):(Il()<=Ze.DEBUG&&ve("QueryEngine","Query:",Ml(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(Il()<=Ze.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",Ml(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Oi(n))):le.resolve())}ys(e,n){if(EC(n))return le.resolve(null);let r=Oi(n);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=Xb(n,null,"F"),r=Oi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const u=Ke(...o);return this.ps.getDocuments(e,u).next((c=>this.indexManager.getMinOffset(e,r).next((h=>{const d=this.Ds(n,c);return this.Cs(n,d,u,h.readTime)?this.ys(e,Xb(n,null,"F")):this.vs(e,d,n,h)}))))})))))}ws(e,n,r,a){return EC(n)||a.isEqual(ke.min())?le.resolve(null):this.ps.getDocuments(e,r).next((o=>{const u=this.Ds(n,o);return this.Cs(n,u,r,a)?le.resolve(null):(Il()<=Ze.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Ml(n)),this.vs(e,u,n,nX(a,mf)).next((c=>c)))}))}Ds(e,n){let r=new rn(RI(e));return n.forEach(((a,o)=>{Np(e,o)&&(r=r.add(o))})),r}Cs(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}Ss(e,n,r){return Il()<=Ze.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",Ml(n)),this.ps.getDocumentsMatchingQuery(e,n,ds.min(),r)}vs(e,n,r,a){return this.ps.getDocumentsMatchingQuery(e,r,a).next((o=>(n.forEach((u=>{o=o.insert(u.key,u)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_="LocalStore",kQ=3e8;class VQ{constructor(e,n,r,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new Pt(He),this.xs=new Bo((o=>Zx(o)),Jx),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new AQ(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function LQ(t,e,n,r){return new VQ(t,e,n,r)}async function rM(t,e){const n=Le(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next((o=>(a=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const u=[],c=[];let h=Ke();for(const d of a){u.push(d.batchId);for(const m of d.mutations)h=h.add(m.key)}for(const d of o){c.push(d.batchId);for(const m of d.mutations)h=h.add(m.key)}return n.localDocuments.getDocuments(r,h).next((d=>({Ls:d,removedBatchIds:u,addedBatchIds:c})))}))}))}function BQ(t,e){const n=Le(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,h,d,m){const v=d.batch,y=v.keys();let _=le.resolve();return y.forEach((S=>{_=_.next((()=>m.getEntry(h,S))).next((E=>{const A=d.docVersions.get(S);at(A!==null,48541),E.version.compareTo(A)<0&&(v.applyToRemoteDocument(E,d),E.isValidDocument()&&(E.setReadTime(d.commitVersion),m.addEntry(E)))}))})),_.next((()=>c.mutationQueue.removeMutationBatch(h,v)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let h=Ke();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(h=h.add(c.batch.mutations[d].key));return h})(e)))).next((()=>n.localDocuments.getDocuments(r,a)))}))}function iM(t){const e=Le(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function UQ(t,e){const n=Le(t),r=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const c=[];e.targetChanges.forEach(((m,v)=>{const y=a.get(v);if(!y)return;c.push(n.Pi.removeMatchingKeys(o,m.removedDocuments,v).next((()=>n.Pi.addMatchingKeys(o,m.addedDocuments,v))));let _=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?_=_.withResumeToken(jn.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):m.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(m.resumeToken,r)),a=a.insert(v,_),(function(E,A,j){return E.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=kQ?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(y,_,m)&&c.push(n.Pi.updateTargetData(o,_))}));let h=_a(),d=Ke();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,m))})),c.push(zQ(o,u,e.documentUpdates).next((m=>{h=m.ks,d=m.qs}))),!r.isEqual(ke.min())){const m=n.Pi.getLastRemoteSnapshotVersion(o).next((v=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));c.push(m)}return le.waitFor(c).next((()=>u.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,h,d))).next((()=>h))})).then((o=>(n.Ms=a,o)))}function zQ(t,e,n){let r=Ke(),a=Ke();return n.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let u=_a();return n.forEach(((c,h)=>{const d=o.get(c);h.isFoundDocument()!==d.isFoundDocument()&&(a=a.add(c)),h.isNoDocument()&&h.version.isEqual(ke.min())?(e.removeEntry(c,h.readTime),u=u.insert(c,h)):!d.isValidDocument()||h.version.compareTo(d.version)>0||h.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(h),u=u.insert(c,h)):ve(l_,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",h.version)})),{ks:u,qs:a}}))}function qQ(t,e){const n=Le(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Xx),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function $Q(t,e){const n=Le(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return n.Pi.getTargetData(r,e).next((o=>o?(a=o,le.resolve(a)):n.Pi.allocateTargetId(r).next((u=>(a=new as(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=n.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function e1(t,e,n){const r=Le(t),a=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(u=>r.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!bu(u))throw u;ve(l_,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(a.target)}function kC(t,e,n){const r=Le(t);let a=ke.min(),o=Ke();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(h,d,m){const v=Le(h),y=v.xs.get(m);return y!==void 0?le.resolve(v.Ms.get(y)):v.Pi.getTargetData(d,m)})(r,u,Oi(e)).next((c=>{if(c)return a=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,c.targetId).next((h=>{o=h}))})).next((()=>r.Fs.getDocumentsMatchingQuery(u,e,n?a:ke.min(),n?o:Ke()))).next((c=>(FQ(r,jX(e),c),{documents:c,Qs:o})))))}function FQ(t,e,n){let r=t.Os.get(e)||ke.min();n.forEach(((a,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.Os.set(e,r)}class VC{constructor(){this.activeTargetIds=MX()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class HQ{constructor(){this.Mo=new VC,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new VC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KQ{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC="ConnectivityMonitor";class BC{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ve(LC,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ve(LC,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jd=null;function t1(){return jd===null?jd=(function(){return 268435456+Math.round(2147483648*Math.random())})():jd++,"0x"+jd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0="RestConnection",GQ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class YQ{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===Pm?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(e,n,r,a,o){const u=t1(),c=this.zo(e,n.toUriEncodedString());ve(k0,`Sending RPC '${e}' ${u}:`,c,r);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,a,o);const{host:d}=new URL(c),m=Fx(d);return this.Jo(e,c,h,r,m).then((v=>(ve(k0,`Received RPC '${e}' ${u}: `,v),v)),(v=>{throw eu(k0,`RPC '${e}' ${u} failed with error: `,v,"url: ",c,"request:",r),v}))}Ho(e,n,r,a,o,u){return this.Go(e,n,r,a,o)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+vu})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,o)=>e[o]=a)),r&&r.headers.forEach(((a,o)=>e[o]=a))}zo(e,n){const r=GQ[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XQ{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const In="WebChannelConnection";class QQ extends YQ{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,a,o){const u=t1();return new Promise(((c,h)=>{const d=new lI;d.setWithCredentials(!0),d.listenOnce(uI.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case Rd.NO_ERROR:const v=d.getResponseJson();ve(In,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(v)),c(v);break;case Rd.TIMEOUT:ve(In,`RPC '${e}' ${u} timed out`),h(new Te(he.DEADLINE_EXCEEDED,"Request time out"));break;case Rd.HTTP_ERROR:const y=d.getStatus();if(ve(In,`RPC '${e}' ${u} failed with status:`,y,"response text:",d.getResponseText()),y>0){let _=d.getResponseJson();Array.isArray(_)&&(_=_[0]);const S=_==null?void 0:_.error;if(S&&S.status&&S.message){const E=(function(j){const I=j.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(I)>=0?I:he.UNKNOWN})(S.status);h(new Te(E,S.message))}else h(new Te(he.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new Te(he.UNAVAILABLE,"Connection failed."));break;default:Re(9055,{l_:e,streamId:u,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{ve(In,`RPC '${e}' ${u} completed.`)}}));const m=JSON.stringify(a);ve(In,`RPC '${e}' ${u} sending request:`,a),d.send(n,"POST",m,r,15)}))}T_(e,n,r){const a=t1(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=hI(),c=fI(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const m=o.join("");ve(In,`Creating RPC '${e}' stream ${a}: ${m}`,h);const v=u.createWebChannel(m,h);this.I_(v);let y=!1,_=!1;const S=new XQ({Yo:A=>{_?ve(In,`Not sending because RPC '${e}' stream ${a} is closed:`,A):(y||(ve(In,`Opening RPC '${e}' stream ${a} transport.`),v.open(),y=!0),ve(In,`RPC '${e}' stream ${a} sending:`,A),v.send(A))},Zo:()=>v.close()}),E=(A,j,I)=>{A.listen(j,(P=>{try{I(P)}catch(U){setTimeout((()=>{throw U}),0)}}))};return E(v,Uc.EventType.OPEN,(()=>{_||(ve(In,`RPC '${e}' stream ${a} transport opened.`),S.o_())})),E(v,Uc.EventType.CLOSE,(()=>{_||(_=!0,ve(In,`RPC '${e}' stream ${a} transport closed`),S.a_(),this.E_(v))})),E(v,Uc.EventType.ERROR,(A=>{_||(_=!0,eu(In,`RPC '${e}' stream ${a} transport errored. Name:`,A.name,"Message:",A.message),S.a_(new Te(he.UNAVAILABLE,"The operation could not be completed")))})),E(v,Uc.EventType.MESSAGE,(A=>{var j;if(!_){const I=A.data[0];at(!!I,16349);const P=I,U=(P==null?void 0:P.error)||((j=P[0])==null?void 0:j.error);if(U){ve(In,`RPC '${e}' stream ${a} received error:`,U);const B=U.status;let H=(function(k){const $=Ht[k];if($!==void 0)return HI($)})(B),N=U.message;H===void 0&&(H=he.INTERNAL,N="Unknown error status: "+B+" with message "+U.message),_=!0,S.a_(new Te(H,N)),v.close()}else ve(In,`RPC '${e}' stream ${a} received:`,I),S.u_(I)}})),E(c,cI.STAT_EVENT,(A=>{A.stat===$b.PROXY?ve(In,`RPC '${e}' stream ${a} detected buffering proxy`):A.stat===$b.NOPROXY&&ve(In,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{S.__()}),0),S}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function V0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(t){return new eQ(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e,n,r=1e3,a=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=a,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-r);a>0&&ve("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC="PersistentStream";class sM{constructor(e,n,r,a,o,u,c,h){this.Mi=e,this.S_=r,this.b_=a,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new aM(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===he.RESOURCE_EXHAUSTED?(xa(n.toString()),xa("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===he.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===n&&this.G_(r,a)}),(r=>{e((()=>{const a=new Te(he.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ve(UC,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ve(UC,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class WQ extends sM{constructor(e,n,r,a,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,u),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=rQ(this.serializer,e),r=(function(o){if(!("targetChange"in o))return ke.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?ke.min():u.readTime?Ci(u.readTime):ke.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Jb(this.serializer),n.addTarget=(function(o,u){let c;const h=u.target;if(c=Yb(h)?{documents:sQ(o,h)}:{query:oQ(o,h).ft},c.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){c.resumeToken=YI(o,u.resumeToken);const d=Qb(o,u.expectedCount);d!==null&&(c.expectedCount=d)}else if(u.snapshotVersion.compareTo(ke.min())>0){c.readTime=km(o,u.snapshotVersion.toTimestamp());const d=Qb(o,u.expectedCount);d!==null&&(c.expectedCount=d)}return c})(this.serializer,e);const r=uQ(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Jb(this.serializer),n.removeTarget=e,this.q_(n)}}class ZQ extends sM{constructor(e,n,r,a,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,u),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return at(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,at(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){at(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=aQ(e.writeResults,e.commitTime),r=Ci(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Jb(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>iQ(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JQ{}class eW extends JQ{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new Te(he.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.Go(e,Wb(n,r),a,o,u))).catch((o=>{throw o.name==="FirebaseError"?(o.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Te(he.UNKNOWN,o.toString())}))}Ho(e,n,r,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Ho(e,Wb(n,r),a,u,c,o))).catch((u=>{throw u.name==="FirebaseError"?(u.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Te(he.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class tW{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(xa(n),this.aa=!1):ve("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do="RemoteStore";class nW{constructor(e,n,r,a,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((u=>{r.enqueueAndForget((async()=>{zo(this)&&(ve(Do,"Restarting streams for network reachability change."),await(async function(h){const d=Le(h);d.Ea.add(4),await Bf(d),d.Ra.set("Unknown"),d.Ea.delete(4),await kp(d)})(this))}))})),this.Ra=new tW(r,a)}}async function kp(t){if(zo(t))for(const e of t.da)await e(!0)}async function Bf(t){for(const e of t.da)await e(!1)}function oM(t,e){const n=Le(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),h_(n)?f_(n):xu(n).O_()&&c_(n,e))}function u_(t,e){const n=Le(t),r=xu(n);n.Ia.delete(e),r.O_()&&lM(n,e),n.Ia.size===0&&(r.O_()?r.L_():zo(n)&&n.Ra.set("Unknown"))}function c_(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}xu(t).Y_(e)}function lM(t,e){t.Va.Ue(e),xu(t).Z_(e)}function f_(t){t.Va=new QX({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),xu(t).start(),t.Ra.ua()}function h_(t){return zo(t)&&!xu(t).x_()&&t.Ia.size>0}function zo(t){return Le(t).Ea.size===0}function uM(t){t.Va=void 0}async function rW(t){t.Ra.set("Online")}async function iW(t){t.Ia.forEach(((e,n)=>{c_(t,e)}))}async function aW(t,e){uM(t),h_(t)?(t.Ra.ha(e),f_(t)):t.Ra.set("Unknown")}async function sW(t,e,n){if(t.Ra.set("Online"),e instanceof GI&&e.state===2&&e.cause)try{await(async function(a,o){const u=o.cause;for(const c of o.targetIds)a.Ia.has(c)&&(await a.remoteSyncer.rejectListen(c,u),a.Ia.delete(c),a.Va.removeTarget(c))})(t,e)}catch(r){ve(Do,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Lm(t,r)}else if(e instanceof Vd?t.Va.Ze(e):e instanceof KI?t.Va.st(e):t.Va.tt(e),!n.isEqual(ke.min()))try{const r=await iM(t.localStore);n.compareTo(r)>=0&&await(function(o,u){const c=o.Va.Tt(u);return c.targetChanges.forEach(((h,d)=>{if(h.resumeToken.approximateByteSize()>0){const m=o.Ia.get(d);m&&o.Ia.set(d,m.withResumeToken(h.resumeToken,u))}})),c.targetMismatches.forEach(((h,d)=>{const m=o.Ia.get(h);if(!m)return;o.Ia.set(h,m.withResumeToken(jn.EMPTY_BYTE_STRING,m.snapshotVersion)),lM(o,h);const v=new as(m.target,h,d,m.sequenceNumber);c_(o,v)})),o.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(r){ve(Do,"Failed to raise snapshot:",r),await Lm(t,r)}}async function Lm(t,e,n){if(!bu(e))throw e;t.Ea.add(1),await Bf(t),t.Ra.set("Offline"),n||(n=()=>iM(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ve(Do,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await kp(t)}))}function cM(t,e){return e().catch((n=>Lm(t,n,e)))}async function Vp(t){const e=Le(t),n=vs(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Xx;for(;oW(e);)try{const a=await qQ(e.localStore,r);if(a===null){e.Ta.length===0&&n.L_();break}r=a.batchId,lW(e,a)}catch(a){await Lm(e,a)}fM(e)&&hM(e)}function oW(t){return zo(t)&&t.Ta.length<10}function lW(t,e){t.Ta.push(e);const n=vs(t);n.O_()&&n.X_&&n.ea(e.mutations)}function fM(t){return zo(t)&&!vs(t).x_()&&t.Ta.length>0}function hM(t){vs(t).start()}async function uW(t){vs(t).ra()}async function cW(t){const e=vs(t);for(const n of t.Ta)e.ea(n.mutations)}async function fW(t,e,n){const r=t.Ta.shift(),a=n_.from(r,e,n);await cM(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Vp(t)}async function hW(t,e){e&&vs(t).X_&&await(async function(r,a){if((function(u){return GX(u)&&u!==he.ABORTED})(a.code)){const o=r.Ta.shift();vs(r).B_(),await cM(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,a))),await Vp(r)}})(t,e),fM(t)&&hM(t)}async function zC(t,e){const n=Le(t);n.asyncQueue.verifyOperationInProgress(),ve(Do,"RemoteStore received new credentials");const r=zo(n);n.Ea.add(3),await Bf(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await kp(n)}async function dW(t,e){const n=Le(t);e?(n.Ea.delete(2),await kp(n)):e||(n.Ea.add(2),await Bf(n),n.Ra.set("Unknown"))}function xu(t){return t.ma||(t.ma=(function(n,r,a){const o=Le(n);return o.sa(),new WQ(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(t.datastore,t.asyncQueue,{Xo:rW.bind(null,t),t_:iW.bind(null,t),r_:aW.bind(null,t),H_:sW.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),h_(t)?f_(t):t.Ra.set("Unknown")):(await t.ma.stop(),uM(t))}))),t.ma}function vs(t){return t.fa||(t.fa=(function(n,r,a){const o=Le(n);return o.sa(),new ZQ(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:uW.bind(null,t),r_:hW.bind(null,t),ta:cW.bind(null,t),na:fW.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Vp(t)):(await t.fa.stop(),t.Ta.length>0&&(ve(Do,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(e,n,r,a,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=o,this.deferred=new Eo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,o){const u=Date.now()+r,c=new d_(e,n,u,a,o);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Te(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function m_(t,e){if(xa("AsyncQueue",`${e}: ${t}`),bu(t))return new Te(he.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{static emptySet(e){return new Fl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||je.comparator(n.key,r.key):(n,r)=>je.comparator(n.key,r.key),this.keyedMap=zc(),this.sortedSet=new Pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Fl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=r.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Fl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(){this.ga=new Pt(je.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Re(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class au{constructor(e,n,r,a,o,u,c,h,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,a,o){const u=[];return n.forEach((c=>{u.push({type:0,doc:c})})),new au(e,n,Fl.emptySet(n),u,r,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Pp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mW{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class pW{constructor(){this.queries=$C(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const a=Le(n),o=a.queries;a.queries=$C(),o.forEach(((u,c)=>{for(const h of c.Sa)h.onError(r)}))})(this,new Te(he.ABORTED,"Firestore shutting down"))}}function $C(){return new Bo((t=>DI(t)),Pp)}async function gW(t,e){const n=Le(t);let r=3;const a=e.query;let o=n.queries.get(a);o?!o.ba()&&e.Da()&&(r=2):(o=new mW,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(a,!0);break;case 1:o.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const c=m_(u,`Initialization of query '${Ml(e.query)}' failed`);return void e.onError(c)}n.queries.set(a,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&p_(n)}async function vW(t,e){const n=Le(t),r=e.query;let a=3;const o=n.queries.get(r);if(o){const u=o.Sa.indexOf(e);u>=0&&(o.Sa.splice(u,1),o.Sa.length===0?a=e.Da()?0:1:!o.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function yW(t,e){const n=Le(t);let r=!1;for(const a of e){const o=a.query,u=n.queries.get(o);if(u){for(const c of u.Sa)c.Fa(a)&&(r=!0);u.wa=a}}r&&p_(n)}function bW(t,e,n){const r=Le(t),a=r.queries.get(e);if(a)for(const o of a.Sa)o.onError(n);r.queries.delete(e)}function p_(t){t.Ca.forEach((e=>{e.next()}))}var n1,FC;(FC=n1||(n1={})).Ma="default",FC.Cache="cache";class xW{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new au(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=au.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==n1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e){this.key=e}}class mM{constructor(e){this.key=e}}class _W{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ke(),this.mutatedKeys=Ke(),this.eu=RI(e),this.tu=new Fl(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new qC,a=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,u=a,c=!1;const h=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,d=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((m,v)=>{const y=a.get(m),_=Np(this.query,v)?v:null,S=!!y&&this.mutatedKeys.has(y.key),E=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let A=!1;y&&_?y.data.isEqual(_.data)?S!==E&&(r.track({type:3,doc:_}),A=!0):this.su(y,_)||(r.track({type:2,doc:_}),A=!0,(h&&this.eu(_,h)>0||d&&this.eu(_,d)<0)&&(c=!0)):!y&&_?(r.track({type:0,doc:_}),A=!0):y&&!_&&(r.track({type:1,doc:y}),A=!0,(h||d)&&(c=!0)),A&&(_?(u=u.add(_),o=E?o.add(m):o.delete(m)):(u=u.delete(m),o=o.delete(m)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const m=this.query.limitType==="F"?u.last():u.first();u=u.delete(m.key),o=o.delete(m.key),r.track({type:1,doc:m})}return{tu:u,iu:r,Cs:c,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((m,v)=>(function(_,S){const E=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re(20277,{Rt:A})}};return E(_)-E(S)})(m.type,v.type)||this.eu(m.doc,v.doc))),this.ou(r),a=a??!1;const c=n&&!a?this._u():[],h=this.Xa.size===0&&this.current&&!a?1:0,d=h!==this.Za;return this.Za=h,u.length!==0||d?{snapshot:new au(this.query,e.tu,o,u,e.mutatedKeys,h===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new qC,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ke(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new mM(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new dM(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ke();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return au.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const g_="SyncEngine";class wW{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class EW{constructor(e){this.key=e,this.hu=!1}}class SW{constructor(e,n,r,a,o,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Bo((c=>DI(c)),Pp),this.Iu=new Map,this.Eu=new Set,this.du=new Pt(je.comparator),this.Au=new Map,this.Ru=new a_,this.Vu={},this.mu=new Map,this.fu=iu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function AW(t,e,n=!0){const r=xM(t);let a;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.lu()):a=await pM(r,e,n,!0),a}async function TW(t,e){const n=xM(t);await pM(n,e,!0,!1)}async function pM(t,e,n,r){const a=await $Q(t.localStore,Oi(e)),o=a.targetId,u=t.sharedClientState.addLocalQueryTarget(o,n);let c;return r&&(c=await OW(t,e,o,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&oM(t.remoteStore,a),c}async function OW(t,e,n,r,a){t.pu=(v,y,_)=>(async function(E,A,j,I){let P=A.view.ru(j);P.Cs&&(P=await kC(E.localStore,A.query,!1).then((({documents:N})=>A.view.ru(N,P))));const U=I&&I.targetChanges.get(A.targetId),B=I&&I.targetMismatches.get(A.targetId)!=null,H=A.view.applyChanges(P,E.isPrimaryClient,U,B);return KC(E,A.targetId,H.au),H.snapshot})(t,v,y,_);const o=await kC(t.localStore,e,!0),u=new _W(e,o.Qs),c=u.ru(o.documents),h=Lf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),d=u.applyChanges(c,t.isPrimaryClient,h);KC(t,n,d.au);const m=new wW(e,n,u);return t.Tu.set(e,m),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function CW(t,e,n){const r=Le(t),a=r.Tu.get(e),o=r.Iu.get(a.targetId);if(o.length>1)return r.Iu.set(a.targetId,o.filter((u=>!Pp(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await e1(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),n&&u_(r.remoteStore,a.targetId),r1(r,a.targetId)})).catch(yu)):(r1(r,a.targetId),await e1(r.localStore,a.targetId,!0))}async function jW(t,e){const n=Le(t),r=n.Tu.get(e),a=n.Iu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),u_(n.remoteStore,r.targetId))}async function PW(t,e,n){const r=VW(t);try{const a=await(function(u,c){const h=Le(u),d=wt.now(),m=c.reduce(((_,S)=>_.add(S.key)),Ke());let v,y;return h.persistence.runTransaction("Locally write mutations","readwrite",(_=>{let S=_a(),E=Ke();return h.Ns.getEntries(_,m).next((A=>{S=A,S.forEach(((j,I)=>{I.isValidDocument()||(E=E.add(j))}))})).next((()=>h.localDocuments.getOverlayedDocuments(_,S))).next((A=>{v=A;const j=[];for(const I of c){const P=qX(I,v.get(I.key).overlayedDocument);P!=null&&j.push(new Uo(I.key,P,AI(P.value.mapValue),ma.exists(!0)))}return h.mutationQueue.addMutationBatch(_,d,j,c)})).next((A=>{y=A;const j=A.applyToLocalDocumentSet(v,E);return h.documentOverlayCache.saveOverlays(_,A.batchId,j)}))})).then((()=>({batchId:y.batchId,changes:MI(v)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(u,c,h){let d=u.Vu[u.currentUser.toKey()];d||(d=new Pt(He)),d=d.insert(c,h),u.Vu[u.currentUser.toKey()]=d})(r,a.batchId,n),await Uf(r,a.changes),await Vp(r.remoteStore)}catch(a){const o=m_(a,"Failed to persist write");n.reject(o)}}async function gM(t,e){const n=Le(t);try{const r=await UQ(n.localStore,e);e.targetChanges.forEach(((a,o)=>{const u=n.Au.get(o);u&&(at(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?at(u.hu,14607):a.removedDocuments.size>0&&(at(u.hu,42227),u.hu=!1))})),await Uf(n,r,e)}catch(r){await yu(r)}}function HC(t,e,n){const r=Le(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.Tu.forEach(((o,u)=>{const c=u.view.va(e);c.snapshot&&a.push(c.snapshot)})),(function(u,c){const h=Le(u);h.onlineState=c;let d=!1;h.queries.forEach(((m,v)=>{for(const y of v.Sa)y.va(c)&&(d=!0)})),d&&p_(h)})(r.eventManager,e),a.length&&r.Pu.H_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function NW(t,e,n){const r=Le(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Au.get(e),o=a&&a.key;if(o){let u=new Pt(je.comparator);u=u.insert(o,Bn.newNoDocument(o,ke.min()));const c=Ke().add(o),h=new Ip(ke.min(),new Map,new Pt(He),u,c);await gM(r,h),r.du=r.du.remove(o),r.Au.delete(e),v_(r)}else await e1(r.localStore,e,!1).then((()=>r1(r,e,n))).catch(yu)}async function DW(t,e){const n=Le(t),r=e.batch.batchId;try{const a=await BQ(n.localStore,e);yM(n,r,null),vM(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Uf(n,a)}catch(a){await yu(a)}}async function RW(t,e,n){const r=Le(t);try{const a=await(function(u,c){const h=Le(u);return h.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let m;return h.mutationQueue.lookupMutationBatch(d,c).next((v=>(at(v!==null,37113),m=v.keys(),h.mutationQueue.removeMutationBatch(d,v)))).next((()=>h.mutationQueue.performConsistencyCheck(d))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(d,m,c))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,m))).next((()=>h.localDocuments.getDocuments(d,m)))}))})(r.localStore,e);yM(r,e,n),vM(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Uf(r,a)}catch(a){await yu(a)}}function vM(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function yM(t,e,n){const r=Le(t);let a=r.Vu[r.currentUser.toKey()];if(a){const o=a.get(e);o&&(n?o.reject(n):o.resolve(),a=a.remove(e)),r.Vu[r.currentUser.toKey()]=a}}function r1(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||bM(t,r)}))}function bM(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(u_(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),v_(t))}function KC(t,e,n){for(const r of n)r instanceof dM?(t.Ru.addReference(r.key,e),IW(t,r)):r instanceof mM?(ve(g_,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||bM(t,r.key)):Re(19791,{wu:r})}function IW(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ve(g_,"New document in limbo: "+n),t.Eu.add(r),v_(t))}function v_(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new je(jt.fromString(e)),r=t.fu.next();t.Au.set(r,new EW(n)),t.du=t.du.insert(n,r),oM(t.remoteStore,new as(Oi(e_(n.path)),r,"TargetPurposeLimboResolution",Tp.ce))}}async function Uf(t,e,n){const r=Le(t),a=[],o=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,h)=>{u.push(r.pu(h,e,n).then((d=>{var m;if((d||n)&&r.isPrimaryClient){const v=d?!d.fromCache:(m=n==null?void 0:n.targetChanges.get(h.targetId))==null?void 0:m.current;r.sharedClientState.updateQueryState(h.targetId,v?"current":"not-current")}if(d){a.push(d);const v=o_.As(h.targetId,d);o.push(v)}})))})),await Promise.all(u),r.Pu.H_(a),await(async function(h,d){const m=Le(h);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>le.forEach(d,(y=>le.forEach(y.Es,(_=>m.persistence.referenceDelegate.addReference(v,y.targetId,_))).next((()=>le.forEach(y.ds,(_=>m.persistence.referenceDelegate.removeReference(v,y.targetId,_)))))))))}catch(v){if(!bu(v))throw v;ve(l_,"Failed to update sequence numbers: "+v)}for(const v of d){const y=v.targetId;if(!v.fromCache){const _=m.Ms.get(y),S=_.snapshotVersion,E=_.withLastLimboFreeSnapshotVersion(S);m.Ms=m.Ms.insert(y,E)}}})(r.localStore,o))}async function MW(t,e){const n=Le(t);if(!n.currentUser.isEqual(e)){ve(g_,"User change. New user:",e.toKey());const r=await rM(n.localStore,e);n.currentUser=e,(function(o,u){o.mu.forEach((c=>{c.forEach((h=>{h.reject(new Te(he.CANCELLED,u))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Uf(n,r.Ls)}}function kW(t,e){const n=Le(t),r=n.Au.get(e);if(r&&r.hu)return Ke().add(r.key);{let a=Ke();const o=n.Iu.get(e);if(!o)return a;for(const u of o){const c=n.Tu.get(u);a=a.unionWith(c.view.nu)}return a}}function xM(t){const e=Le(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=gM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=kW.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=NW.bind(null,e),e.Pu.H_=yW.bind(null,e.eventManager),e.Pu.yu=bW.bind(null,e.eventManager),e}function VW(t){const e=Le(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=DW.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=RW.bind(null,e),e}class Bm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Mp(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return LQ(this.persistence,new MQ,e.initialUser,this.serializer)}Cu(e){return new nM(s_.mi,this.serializer)}Du(e){return new HQ}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bm.provider={build:()=>new Bm};class LW extends Bm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){at(this.persistence.referenceDelegate instanceof Vm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new xQ(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Xn.withCacheSize(this.cacheSizeBytes):Xn.DEFAULT;return new nM((r=>Vm.mi(r,n)),this.serializer)}}class i1{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>HC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=MW.bind(null,this.syncEngine),await dW(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new pW})()}createDatastore(e){const n=Mp(e.databaseInfo.databaseId),r=(function(o){return new QQ(o)})(e.databaseInfo);return(function(o,u,c,h){return new eW(o,u,c,h)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,a,o,u,c){return new nW(r,a,o,u,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>HC(this.syncEngine,n,0)),(function(){return BC.v()?new BC:new KQ})())}createSyncEngine(e,n){return(function(a,o,u,c,h,d,m){const v=new SW(a,o,u,c,h,d);return m&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(a){const o=Le(a);ve(Do,"RemoteStore shutting down."),o.Ea.add(5),await Bf(o),o.Aa.shutdown(),o.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}i1.provider={build:()=>new i1};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BW{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):xa("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys="FirestoreClient";class UW{constructor(e,n,r,a,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=kn.UNAUTHENTICATED,this.clientId=Gx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async u=>{ve(ys,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(ve(ys,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Eo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=m_(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function L0(t,e){t.asyncQueue.verifyOperationInProgress(),ve(ys,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async a=>{r.isEqual(a)||(await rM(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function GC(t,e){t.asyncQueue.verifyOperationInProgress();const n=await zW(t);ve(ys,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>zC(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,a)=>zC(e.remoteStore,a))),t._onlineComponents=e}async function zW(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ve(ys,"Using user provided OfflineComponentProvider");try{await L0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===he.FAILED_PRECONDITION||a.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;eu("Error using user provided cache. Falling back to memory cache: "+n),await L0(t,new Bm)}}else ve(ys,"Using default OfflineComponentProvider"),await L0(t,new LW(void 0));return t._offlineComponents}async function _M(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ve(ys,"Using user provided OnlineComponentProvider"),await GC(t,t._uninitializedComponentsProvider._online)):(ve(ys,"Using default OnlineComponentProvider"),await GC(t,new i1))),t._onlineComponents}function qW(t){return _M(t).then((e=>e.syncEngine))}async function YC(t){const e=await _M(t),n=e.eventManager;return n.onListen=AW.bind(null,e.syncEngine),n.onUnlisten=CW.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=TW.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=jW.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wM(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EM="firestore.googleapis.com",QC=!0;class WC{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Te(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=EM,this.ssl=QC}else this.host=e.host,this.ssl=e.ssl??QC;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=tM;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<yQ)throw new Te(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}tX("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wM(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Te(he.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Te(he.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Te(he.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class y_{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new WC({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Te(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Te(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new WC(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new FY;switch(r.type){case"firstParty":return new YY(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Te(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=XC.get(n);r&&(ve("ComponentProvider","Removing Datastore"),XC.delete(n),r.terminate())})(this),Promise.resolve()}}function $W(t,e,n,r={}){var d;t=$l(t,y_);const a=Fx(e),o=t._getSettings(),u={...o,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;a&&(vG(`https://${c}`),_G("Firestore",!0)),o.host!==EM&&o.host!==c&&eu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...o,host:c,ssl:a,emulatorOptions:r};if(!Tm(h,u)&&(t._setSettings(h),r.mockUserToken)){let m,v;if(typeof r.mockUserToken=="string")m=r.mockUserToken,v=kn.MOCK_USER;else{m=yG(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new Te(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new kn(y)}t._authCredentials=new HY(new mI(m,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Lp(this.firestore,e,this._query)}}class pn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xf(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pn(this.firestore,e,this._key)}toJSON(){return{type:pn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(kf(n,pn._jsonSchema))return new pn(e,r||null,new je(jt.fromString(n.referencePath)))}}pn._jsonSchemaVersion="firestore/documentReference/1.0",pn._jsonSchema={type:Kt("string",pn._jsonSchemaVersion),referencePath:Kt("string")};class xf extends Lp{constructor(e,n,r){super(e,n,e_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pn(this.firestore,null,new je(e))}withConverter(e){return new xf(this.firestore,e,this._path)}}function b_(t,e,...n){if(t=ff(t),arguments.length===1&&(e=Gx.newId()),eX("doc","path",e),t instanceof y_){const r=jt.fromString(e,...n);return cC(r),new pn(t,null,new je(r))}{if(!(t instanceof pn||t instanceof xf))throw new Te(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(jt.fromString(e,...n));return cC(r),new pn(t.firestore,t instanceof xf?t.converter:null,new je(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC="AsyncQueue";class JC{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new aM(this,"async_queue_retry"),this._c=()=>{const r=V0();r&&ve(ZC,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=V0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=V0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Eo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!bu(e))throw e;ve(ZC,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,xa("INTERNAL UNHANDLED ERROR: ",ej(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=d_.createAndSchedule(this,e,n,r,(o=>this.hc(o)));return this.tc.push(a),a}uc(){this.nc&&Re(47125,{Pc:ej(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function ej(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tj(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const a=n;for(const o of r)if(o in a&&typeof a[o]=="function")return!0;return!1})(t,["next","error","complete"])}class Um extends y_{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new JC,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new JC(e),this._firestoreClient=void 0,await e}}}function FW(t,e){const n=typeof t=="object"?t:NY(),r=typeof t=="string"?t:Pm,a=TY(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const o=pG("firestore");o&&$W(a,...o)}return a}function SM(t){if(t._terminated)throw new Te(he.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||HW(t),t._firestoreClient}function HW(t){var r,a,o;const e=t._freezeSettings(),n=(function(c,h,d,m){return new hX(c,h,d,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,wM(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(a=e.localCache)!=null&&a._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new UW(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(c){const h=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(h),_online:h}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Br(jn.fromBase64String(e))}catch(n){throw new Te(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Br(jn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Br._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(kf(e,Br._jsonSchema))return Br.fromBase64String(e.bytes)}}Br._jsonSchemaVersion="firestore/bytes/1.0",Br._jsonSchema={type:Kt("string",Br._jsonSchemaVersion),bytes:Kt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Te(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new On(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Te(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Te(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ji._jsonSchemaVersion}}static fromJSON(e){if(kf(e,ji._jsonSchema))return new ji(e.latitude,e.longitude)}}ji._jsonSchemaVersion="firestore/geoPoint/1.0",ji._jsonSchema={type:Kt("string",ji._jsonSchemaVersion),latitude:Kt("number"),longitude:Kt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==a[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Pi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(kf(e,Pi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Pi(e.vectorValues);throw new Te(he.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Pi._jsonSchemaVersion="firestore/vectorValue/1.0",Pi._jsonSchema={type:Kt("string",Pi._jsonSchemaVersion),vectorValues:Kt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KW=/^__.*__$/;class GW{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Uo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Vf(e,this.data,n,this.fieldTransforms)}}function TM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re(40011,{Ac:t})}}class __{constructor(e,n,r,a,o,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new __({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var a;const n=(a=this.path)==null?void 0:a.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var a;const n=(a=this.path)==null?void 0:a.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return zm(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(TM(this.Ac)&&KW.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class YW{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Mp(e)}Cc(e,n,r,a=!1){return new __({Ac:e,methodName:n,Dc:r,path:On.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function XW(t){const e=t._freezeSettings(),n=Mp(t._databaseId);return new YW(t._databaseId,!!e.ignoreUndefinedProperties,n)}function QW(t,e,n,r,a,o={}){const u=t.Cc(o.merge||o.mergeFields?2:0,e,n,a);PM("Data must be an object, but it was:",u,r);const c=CM(r,u);let h,d;if(o.merge)h=new ti(u.fieldMask),d=u.fieldTransforms;else if(o.mergeFields){const m=[];for(const v of o.mergeFields){const y=WW(e,v,n);if(!u.contains(y))throw new Te(he.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);JW(m,y)||m.push(y)}h=new ti(m),d=u.fieldTransforms.filter((v=>h.covers(v.field)))}else h=null,d=u.fieldTransforms;return new GW(new Lr(c),h,d)}function OM(t,e){if(jM(t=ff(t)))return PM("Unsupported field value:",e,t),CM(t,e);if(t instanceof AM)return(function(r,a){if(!TM(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(a);o&&a.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,a){const o=[];let u=0;for(const c of r){let h=OM(c,a.wc(u));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),u++}return{arrayValue:{values:o}}})(t,e)}return(function(r,a){if((r=ff(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return kX(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=wt.fromDate(r);return{timestampValue:km(a.serializer,o)}}if(r instanceof wt){const o=new wt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:km(a.serializer,o)}}if(r instanceof ji)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Br)return{bytesValue:YI(a.serializer,r._byteString)};if(r instanceof pn){const o=a.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw a.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:i_(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof Pi)return(function(u,c){return{mapValue:{fields:{[EI]:{stringValue:SI},[Nm]:{arrayValue:{values:u.toArray().map((d=>{if(typeof d!="number")throw c.Sc("VectorValues must only contain numeric values.");return t_(c.serializer,d)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${Yx(r)}`)})(t,e)}function CM(t,e){const n={};return vI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Lo(t,((r,a)=>{const o=OM(a,e.mc(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function jM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof wt||t instanceof ji||t instanceof Br||t instanceof pn||t instanceof AM||t instanceof Pi)}function PM(t,e,n){if(!jM(n)||!pI(n)){const r=Yx(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function WW(t,e,n){if((e=ff(e))instanceof x_)return e._internalPath;if(typeof e=="string")return NM(t,e);throw zm("Field path arguments must be of type string or ",t,!1,void 0,n)}const ZW=new RegExp("[~\\*/\\[\\]]");function NM(t,e,n){if(e.search(ZW)>=0)throw zm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new x_(...e.split("."))._internalPath}catch{throw zm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function zm(t,e,n,r,a){const o=r&&!r.isEmpty(),u=a!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(o||u)&&(h+=" (found",o&&(h+=` in field ${r}`),u&&(h+=` in document ${a}`),h+=")"),new Te(he.INVALID_ARGUMENT,c+t+h)}function JW(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(e,n,r,a,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new eZ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(RM("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class eZ extends DM{data(){return super.data()}}function RM(t,e){return typeof e=="string"?NM(t,e):e instanceof x_?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tZ(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Te(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class nZ{convertValue(e,n="none"){switch(gs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ps(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Re(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Lo(e,((a,o)=>{r[a]=this.convertValue(o,n)})),r}convertVectorValue(e){var r,a,o;const n=(o=(a=(r=e.fields)==null?void 0:r[Nm].arrayValue)==null?void 0:a.values)==null?void 0:o.map((u=>Ut(u.doubleValue)));return new Pi(n)}convertGeoPoint(e){return new ji(Ut(e.latitude),Ut(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Cp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(pf(e));default:return null}}convertTimestamp(e){const n=ms(e);return new wt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=jt.fromString(e);at(eM(r),9688,{name:e});const a=new gf(r.get(1),r.get(3)),o=new je(r.popFirst(5));return a.isEqual(n)||xa(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rZ(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class $c{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class So extends DM{constructor(e,n,r,a,o,u){super(e,n,r,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ld(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(RM("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Te(he.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=So._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}So._jsonSchemaVersion="firestore/documentSnapshot/1.0",So._jsonSchema={type:Kt("string",So._jsonSchemaVersion),bundleSource:Kt("string","DocumentSnapshot"),bundleName:Kt("string"),bundle:Kt("string")};class Ld extends So{data(e={}){return super.data(e)}}class Hl{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new $c(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Ld(this._firestore,this._userDataWriter,r.key,r,new $c(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Te(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,o){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((c=>{const h=new Ld(a._firestore,a._userDataWriter,c.doc.key,c.doc,new $c(a._snapshot.mutatedKeys.has(c.doc.key),a._snapshot.fromCache),a.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((c=>o||c.type!==3)).map((c=>{const h=new Ld(a._firestore,a._userDataWriter,c.doc.key,c.doc,new $c(a._snapshot.mutatedKeys.has(c.doc.key),a._snapshot.fromCache),a.query.converter);let d=-1,m=-1;return c.type!==0&&(d=u.indexOf(c.doc.key),u=u.delete(c.doc.key)),c.type!==1&&(u=u.add(c.doc),m=u.indexOf(c.doc.key)),{type:iZ(c.type),doc:h,oldIndex:d,newIndex:m}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Te(he.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Hl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Gx.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],a=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),a.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function iZ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re(61501,{type:t})}}Hl._jsonSchemaVersion="firestore/querySnapshot/1.0",Hl._jsonSchema={type:Kt("string",Hl._jsonSchemaVersion),bundleSource:Kt("string","QuerySnapshot"),bundleName:Kt("string"),bundle:Kt("string")};class IM extends nZ{constructor(e){super(),this.firestore=e}convertBytes(e){return new Br(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new pn(this.firestore,null,n)}}function w_(t,e,n){t=$l(t,pn);const r=$l(t.firestore,Um),a=rZ(t.converter,e,n);return sZ(r,[QW(XW(r),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,ma.none())])}function aZ(t,...e){var h,d,m;t=ff(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||tj(e[r])||(n=e[r++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(tj(e[r])){const v=e[r];e[r]=(h=v.next)==null?void 0:h.bind(v),e[r+1]=(d=v.error)==null?void 0:d.bind(v),e[r+2]=(m=v.complete)==null?void 0:m.bind(v)}let o,u,c;if(t instanceof pn)u=$l(t.firestore,Um),c=e_(t._key.path),o={next:v=>{e[r]&&e[r](oZ(u,t,v))},error:e[r+1],complete:e[r+2]};else{const v=$l(t,Lp);u=$l(v.firestore,Um),c=v._query;const y=new IM(u);o={next:_=>{e[r]&&e[r](new Hl(u,y,v,_))},error:e[r+1],complete:e[r+2]},tZ(t._query)}return(function(y,_,S,E){const A=new BW(E),j=new xW(_,A,S);return y.asyncQueue.enqueueAndForget((async()=>gW(await YC(y),j))),()=>{A.Nu(),y.asyncQueue.enqueueAndForget((async()=>vW(await YC(y),j)))}})(SM(u),c,a,o)}function sZ(t,e){return(function(r,a){const o=new Eo;return r.asyncQueue.enqueueAndForget((async()=>PW(await qW(r),a,o))),o.promise})(SM(t),e)}function oZ(t,e,n){const r=n.docs.get(e._key),a=new IM(t);return new So(t,a,e._key,r,new $c(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){vu=a})(PY),Cm(new hf("firestore",((r,{instanceIdentifier:a,options:o})=>{const u=r.getProvider("app").getImmediate(),c=new Um(new KY(r.getProvider("auth-internal")),new XY(u,r.getProvider("app-check-internal")),(function(d,m){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Te(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gf(d.options.projectId,m)})(u,a),u);return o={useFetchStreams:n,...o},c._setSettings(o),c}),"PUBLIC").setMultipleInstances(!0)),ql(sC,oC,e),ql(sC,oC,"esm2020")})();let B0=null,Ro=null,Pd=null;const U0=t=>{if(!B0&&t.scannerApiKey&&t.scannerProjectId){const e={apiKey:t.scannerApiKey,authDomain:t.scannerAuthDomain,projectId:t.scannerProjectId};try{B0=iI(e,"scanner"),Ro=FW(B0),console.log("Firebase scanner initialized successfully")}catch(n){console.error("Firebase initialization failed:",n)}}},E_=async()=>{if(!Ro){console.error("Firestore is not initialized. Please configure scanner settings first."),alert("يرجى تكوين إعدادات الماسح الضوئي أولاً في صفحة الإعدادات");return}const t=b_(Ro,"scannerSessions","fixed");try{await w_(t,{status:"scanRequested",requestedAt:new Date,scannedValue:null,scannedAt:null},{merge:!0}),console.log("Scan request sent successfully");const e=document.createElement("div");e.className="fixed top-5 right-5 bg-blue-500 text-white px-4 py-2 rounded-lg shadow-lg z-50",e.textContent="تم إرسال طلب المسح. افتح تطبيق الماسح على الهاتف.",document.body.appendChild(e),setTimeout(()=>{document.body.contains(e)&&document.body.removeChild(e)},5e3)}catch(e){console.error("Failed to request scan:",e),alert("فشل في إرسال طلب المسح. تحقق من الاتصال بالإنترنت.")}},S_=t=>{if(!Ro){console.error("Firestore is not initialized.");return}const e=b_(Ro,"scannerSessions","fixed");return Pd&&Pd(),Pd=aZ(e,n=>{const r=n.data();if(r&&r.status==="scanned"&&r.scannedValue){console.log("Scan result received:",r.scannedValue),t(r.scannedValue);const a=document.createElement("div");a.className="fixed top-5 right-5 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg z-50",a.textContent=`تم المسح بنجاح: ${r.scannedValue}`,document.body.appendChild(a),setTimeout(()=>{document.body.contains(a)&&document.body.removeChild(a)},3e3),w_(e,{status:"completed",completedAt:new Date},{merge:!0}).catch(o=>{console.error("Failed to reset scan status:",o)})}},n=>{console.error("Firestore listener error:",n)}),Pd},lZ=async()=>{if(!Ro)return console.error("Firestore is not initialized for connection test."),!1;try{const t=b_(Ro,"scannerSessions","connection-test");return await w_(t,{status:"testing",timestamp:new Date}),console.log("Firebase connection test successful."),!0}catch(t){return console.error("Firebase connection test failed:",t),!1}};class uZ{constructor(e={}){this.handlers=new Map,this.currentInput="",this.inputTimeout=null,this.isListening=!1,this.handleKeyDown=n=>{const r=document.activeElement;r&&(r.tagName==="INPUT"||r.tagName==="TEXTAREA"||r.tagName==="SELECT"||r.getAttribute("contenteditable")==="true")||(this.inputTimeout&&clearTimeout(this.inputTimeout),n.key===this.config.endCharacter?(n.preventDefault(),this.processScan()):n.key.length===1?(n.preventDefault(),this.currentInput+=n.key,this.inputTimeout=setTimeout(()=>{this.clearInput()},this.config.timeout)):(n.key==="Backspace"||n.key==="Delete")&&this.clearInput())},this.config={minLength:4,maxLength:50,endCharacter:"Enter",timeout:100,...e}}startListening(){this.isListening||(this.isListening=!0,document.addEventListener("keydown",this.handleKeyDown),console.log("Barcode scanner listener started"))}stopListening(){this.isListening&&(this.isListening=!1,document.removeEventListener("keydown",this.handleKeyDown),this.clearInput(),console.log("Barcode scanner listener stopped"))}registerHandler(e,n){this.handlers.set(e,n)}unregisterHandler(e){this.handlers.delete(e)}processScan(){const e=this.currentInput.trim();if(e.length>=this.config.minLength&&e.length<=this.config.maxLength){console.log("Barcode scanned:",e);for(const n of this.handlers.values())if(n.isActive){n.onScan(e);break}}this.clearInput()}clearInput(){this.currentInput="",this.inputTimeout&&(clearTimeout(this.inputTimeout),this.inputTimeout=null)}}const qm=new uZ,A_=(t,e,n=!0)=>{C.useEffect(()=>{const r={onScan:e,isActive:n};return qm.registerHandler(t,r),()=>{qm.unregisterHandler(t)}},[t,e,n])},cZ=()=>{qm.startListening()},nj=()=>{qm.stopListening()},fZ=({product:t,onClose:e,onSave:n,isModalOpen:r})=>{var H;const{units:a,saveUnits:o,addNotification:u}=si(),[c,h]=C.useState(t||{id:"",name:"",unit:a[0]||{id:0,name:""},supplier:"",productionDate:"",expiryDate:"",barcode:""}),[d,m]=C.useState((t==null?void 0:t.price.toString())||""),[v,y]=C.useState((t==null?void 0:t.purchasePrice.toString())||""),[_,S]=C.useState((t==null?void 0:t.quantity.toString())||""),[E,A]=C.useState(""),j=!t;A_("product-modal-barcode",N=>{h(R=>({...R,barcode:N})),u(`تمت إضافة الباركود: ${N}`)},r),C.useEffect(()=>{const R=S_(k=>{h($=>({...$,barcode:k}))});return()=>{R&&R()}},[]);const I=N=>{const{name:R,value:k}=N.target;if(R==="unitId"){const $=a.find(L=>L.id===parseInt(k));$&&h({...c,unit:$})}else h({...c,[R]:k})},P=async()=>{if(E.trim()){const N={id:Date.now(),name:E.trim()},R=[N,...a];await o(R),h({...c,unit:N}),A("")}},U=async()=>{let N={...c,price:parseFloat(d)||0,purchasePrice:parseFloat(v)||0,quantity:parseInt(_)||0,id:c.id||`p${Date.now()}`,barcode:c.barcode||`${Date.now()}`};await n(N,j),e()},B=()=>{const N=`${Date.now()}`;h({...c,barcode:N})};return x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex justify-center items-center z-50",children:x.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 w-full max-w-3xl transform transition-all",children:[x.jsxs("div",{className:"flex justify-between items-center mb-6",children:[x.jsx("h2",{className:"text-2xl font-bold",children:j?"إضافة منتج جديد":"تعديل المنتج"}),x.jsx("button",{onClick:e,children:x.jsx(wf,{className:"h-6 w-6 text-gray-500 hover:text-gray-800"})})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"اسم المنتج"}),x.jsx("input",{type:"text",id:"name",name:"name",value:c.name,onChange:I,placeholder:"اسم المنتج",className:"p-2 border rounded w-full"})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"purchasePrice",className:"block text-sm font-medium text-gray-700 mb-1",children:"سعر الشراء"}),x.jsx("input",{type:"number",step:"0.01",id:"purchasePrice",name:"purchasePrice",value:v,onChange:N=>y(N.target.value),placeholder:"سعر الشراء",className:"p-2 border rounded w-full"})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700 mb-1",children:"سعر البيع"}),x.jsx("input",{type:"number",step:"0.01",id:"price",name:"price",value:d,onChange:N=>m(N.target.value),placeholder:"سعر البيع",className:"p-2 border rounded w-full"})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"quantity",className:"block text-sm font-medium text-gray-700 mb-1",children:"الكمية"}),x.jsx("input",{type:"number",id:"quantity",name:"quantity",value:_,onChange:N=>S(N.target.value),placeholder:"الكمية",className:"p-2 border rounded w-full"})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"unitId",className:"block text-sm font-medium text-gray-700 mb-1",children:"الوحدة"}),x.jsx("select",{id:"unitId",name:"unitId",value:((H=c.unit)==null?void 0:H.id)||"",onChange:I,className:"p-2 border rounded w-full",children:a.map(N=>x.jsx("option",{value:N.id,children:N.name},N.id))}),x.jsxs("div",{className:"flex mt-2",children:[x.jsx("input",{type:"text",value:E,onChange:N=>A(N.target.value),placeholder:"أو أضف وحدة جديدة",className:"p-2 border rounded-s-md flex-grow"}),x.jsx("button",{onClick:P,className:"bg-blue-500 text-white p-2 rounded-e-md",children:"حفظ"})]})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"supplier",className:"block text-sm font-medium text-gray-700 mb-1",children:"المورد"}),x.jsx("input",{type:"text",id:"supplier",name:"supplier",value:c.supplier,onChange:I,placeholder:"المورد",className:"p-2 border rounded w-full"})]}),x.jsxs("div",{className:"md:col-span-2",children:[x.jsx("label",{htmlFor:"barcode",className:"block text-sm font-medium text-gray-700 mb-1",children:"الباركود"}),x.jsxs("div",{className:"relative",children:[x.jsx("input",{type:"text",id:"barcode",name:"barcode",value:c.barcode,onChange:I,placeholder:"امسح الباركود أو سيتم إنشاؤه تلقائياً",className:"p-2 border rounded w-full pe-20"}),x.jsx("button",{onClick:B,className:"absolute left-12 top-1/2 -translate-y-1/2 text-gray-500",title:"توليد باركود",children:x.jsx(fo,{className:"h-5 w-5"})}),x.jsx("button",{onClick:E_,className:"absolute left-2 top-1/2 -translate-y-1/2 text-gray-500 hover:text-blue-600",title:"مسح باركود",children:x.jsx(Wc,{className:"h-5 w-5"})})]})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"productionDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"تاريخ الإنتاج"}),x.jsx("input",{type:"date",id:"productionDate",name:"productionDate",value:c.productionDate,onChange:I,className:"p-2 border rounded w-full"})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"expiryDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"تاريخ الإنتهاء"}),x.jsx("input",{type:"date",id:"expiryDate",name:"expiryDate",value:c.expiryDate,onChange:I,className:"p-2 border rounded w-full"})]})]}),x.jsxs("div",{className:"mt-6 flex justify-end space-x-3 space-x-reverse",children:[x.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-200 rounded",children:"إلغاء"}),x.jsx("button",{onClick:U,className:"px-4 py-2 bg-blue-600 text-white rounded",children:"حفظ"})]})]})})},hZ=()=>{const{products:t,saveProducts:e,addNotification:n}=si(),[r,a]=C.useState(!1),[o,u]=C.useState(null),[c,h]=C.useState("");A_("products-search",P=>{h(P),n(`البحث عن: ${P}`)},!r),C.useEffect(()=>{const U=S_(B=>{r||h(B)});return()=>{U&&U()}},[r]);const[d,m]=C.useState("all"),[v,y]=C.useState(new Set),_=async(P,U)=>{if(t.some(H=>H.barcode===P.barcode&&(U||H.id!==P.id))){n("هذا الباركود موجود بالفعل لمنتج آخر.","error");return}U?(await e([P,...t]),n("تمت إضافة المنتج بنجاح")):(await e(t.map(H=>H.id===P.id?P:H)),n("تم تحديث المنتج بنجاح"))},S=async P=>{window.confirm("هل أنت متأكد من حذف هذا المنتج؟")&&(await e(t.filter(U=>U.id!==P)),n("تم حذف المنتج","error"))},E=()=>{const U=`
            <div class="barcode-item">
                <svg class="barcode-svg" jsbarcode-value="${Math.floor(1e11+Math.random()*9e11).toString()}"></svg>
            </div>
        `,B=`
            @page {
                size: 58mm 30mm; /* Small Landscape Label */
                margin: 1mm;
            }
            @media print {
                html, body {
                    width: 58mm !important;
                    height: 30mm !important;
                    margin: 0 !important;
                    padding: 0 !important;
                    overflow: hidden !important;
                }
                * {
                    box-sizing: border-box;
                }
            }
            .barcode-item {
                width: 100%;
                height: 100%;
                display: flex;
                justify-content: center;
                align-items: center;
            }
            .barcode-svg {
                width: 95%;
                height: 95%;
            }
        `,H=window.open("","_blank");H&&(H.document.write(`
                <html>
                    <head>
                        <meta charset="UTF-8">
                        <title>طباعة باركود جديد</title>
                        <style>${B}</style>
                    </head>
                    <body>
                        ${U}
                        <script src="https://cdn.jsdelivr.net/npm/jsbarcode@3.11.5/dist/JsBarcode.all.min.js"><\/script>
                        <script>
                            try {
                                JsBarcode(".barcode-svg").init();
                                setTimeout(() => {
                                    window.print();
                                    window.close();
                                }, 250);
                            } catch (e) {
                                console.error('JsBarcode Error:', e);
                                window.close();
                            }
                        <\/script>
                    </body>
                </html>
            `),H.document.close())},A=P=>{const U=new Set(v);U.has(P)?U.delete(P):U.add(P),y(U)},j=P=>{P.target.checked?y(new Set(I.map(U=>U.id))):y(new Set)},I=C.useMemo(()=>t.filter(P=>{if(d==="lowStock")return P.quantity<10;if(d==="expiringSoon"&&P.expiryDate){const U=new Date,B=new Date(P.expiryDate),H=Math.ceil((B.getTime()-U.getTime())/(1e3*3600*24));return H<=30&&H>=0}return!0}).filter(P=>P.name.toLowerCase().includes(c.toLowerCase())||P.barcode.includes(c)||P.supplier.toLowerCase().includes(c.toLowerCase())),[t,c,d]);return x.jsxs("div",{children:[x.jsxs("div",{className:"flex justify-between items-center mb-6",children:[x.jsx("h1",{className:"text-3xl font-bold",children:"إدارة المنتجات"}),x.jsxs("button",{onClick:()=>{u(null),a(!0)},className:"flex items-center bg-blue-600 text-white px-4 py-2 rounded-lg shadow hover:bg-blue-700 transition",children:[x.jsx(a1,{className:"h-5 w-5 me-2"}),"إضافة منتج جديد"]})]}),x.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md mb-6",children:x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[x.jsxs("div",{className:"relative md:col-span-2",children:[x.jsx("input",{type:"text",placeholder:"ابحث بالاسم، الباركود، المورد... أو امسح بالماسح الضوئي",className:"w-full p-3 ps-10 border rounded-lg",value:c,onChange:P=>h(P.target.value)}),x.jsx($m,{className:"absolute top-1/2 -translate-y-1/2 right-3 h-5 w-5 text-gray-400"}),x.jsx("button",{onClick:E_,className:"absolute top-1/2 -translate-y-1/2 left-3 text-gray-500 hover:text-blue-600",children:x.jsx(Wc,{className:"h-5 w-5"})})]}),x.jsxs("select",{value:d,onChange:P=>m(P.target.value),className:"w-full p-3 border rounded-lg",children:[x.jsx("option",{value:"all",children:" كل المنتجات"}),x.jsx("option",{value:"lowStock",children:"مخزون منخفض"}),x.jsx("option",{value:"expiringSoon",children:"قرب انتهاء الصلاحية"})]})]})}),x.jsx("div",{className:"flex justify-start mb-4",children:x.jsxs("button",{onClick:E,className:"flex items-center bg-purple-500 text-white px-4 py-2 rounded-lg shadow hover:bg-purple-600 transition",children:[x.jsx(Wc,{className:"h-5 w-5 me-2"}),"باركود جديد"]})}),x.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-x-auto",children:x.jsxs("table",{className:"w-full text-right",children:[x.jsx("thead",{className:"bg-gray-50",children:x.jsxs("tr",{children:[x.jsx("th",{className:"p-4",children:x.jsx("input",{type:"checkbox",onChange:j,checked:I.length>0&&v.size===I.length})}),x.jsx("th",{className:"p-4 font-semibold",children:"اسم المنتج"}),x.jsx("th",{className:"p-4 font-semibold",children:"سعر البيع"}),x.jsx("th",{className:"p-4 font-semibold",children:"الكمية"}),x.jsx("th",{className:"p-4 font-semibold",children:"المورد"}),x.jsx("th",{className:"p-4 font-semibold",children:"الباركود"}),x.jsx("th",{className:"p-4 font-semibold",children:"إجراءات"})]})}),x.jsxs("tbody",{children:[I.map(P=>x.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[x.jsx("td",{className:"p-4",children:x.jsx("input",{type:"checkbox",checked:v.has(P.id),onChange:()=>A(P.id)})}),x.jsx("td",{className:"p-4",children:P.name}),x.jsxs("td",{className:"p-4",children:[P.price.toFixed(2)," ج.م"]}),x.jsxs("td",{className:`p-4 font-bold ${P.quantity<10?"text-red-500":"text-green-600"}`,children:[P.quantity," ",P.unit.name]}),x.jsx("td",{className:"p-4",children:P.supplier}),x.jsx("td",{className:"p-4 font-mono",children:P.barcode}),x.jsxs("td",{className:"p-4 flex space-x-2 space-x-reverse",children:[x.jsx("button",{onClick:()=>{u(P),a(!0)},title:"تعديل",className:"text-blue-600 hover:text-blue-800",children:x.jsx(fo,{className:"h-5 w-5"})}),x.jsx("button",{onClick:()=>S(P.id),title:"حذف",className:"text-red-600 hover:text-red-800",children:x.jsx(Fm,{className:"h-5 w-5"})})]})]},P.id)),I.length===0&&x.jsx("tr",{children:x.jsx("td",{colSpan:7,className:"text-center p-8 text-gray-500",children:"لا توجد منتجات مطابقة للبحث"})})]})]})}),r&&x.jsx(fZ,{product:o,onClose:()=>a(!1),onSave:_,isModalOpen:r})]})},dZ=(t,e)=>{const n=t.items.map((u,c)=>`
        <tr>
            <td>${c+1}</td>
            <td class="product-name">${u.product.name}</td>
            <td>${u.quantity}</td>
            <td>${u.price.toFixed(2)}</td>
            <td>${(u.price*u.quantity).toFixed(2)}</td>
        </tr>
    `).join(""),r=()=>typeof t.discount=="number"?`${t.discount}%`:t.discount.type==="percentage"?`${t.discount.value}%`:`${t.discount.value.toFixed(2)} ج.م`,a=()=>typeof t.tax=="number"?`${t.tax}%`:t.tax.type==="percentage"?`${t.tax.value}%`:`${t.tax.value.toFixed(2)} ج.م`,o=e.customInvoiceBarcode?`
        <div class="barcode-area">
            <img src="${e.customInvoiceBarcode}" alt="Barcode"/>
        </div>
    `:"";return`
        <div class="invoice-box">
            <div class="header">
                <h3>${e.companyName||""}</h3>
                <p>${e.companyAddress||""}</p>
                <p>${e.companyPhone||""}</p>
                <p>التاريخ: ${new Date(t.date).toLocaleDateString("ar-EG")} | رقم: ${t.id}</p>
            </div>
            <h3 class="title">فاتورة بيع</h3>
            <table class="items-table">
                <thead>
                    <tr>
                        <th>#</th>
                        <th class="product-name">المنتج</th>
                        <th>الكمية</th>
                        <th>السعر</th>
                        <th>الإجمالي</th>
                    </tr>
                </thead>
                <tbody>${n}</tbody>
            </table>
            <div class="totals-section">
                <div><span>المجموع:</span> <span>${t.subtotal.toFixed(2)}</span></div>
                <div><span>الخصم:</span> <span>${r()}</span></div>
                <div><span>الضريبة:</span> <span>${a()}</span></div>
                <div class="final-total"><span>الإجمالي النهائي:</span> <span>${t.total.toFixed(2)}</span></div>
            </div>
            <div class="payment-method">طريقة الدفع: ${t.paymentType}</div>
            <div class="footer">
                ${o}
                <p>${e.thankYouMessage||""}</p>
            </div>
        </div>
    `},MM=(t,e,n)=>{var h;const r=dZ(t,e),a=`
        @page { 
            size: 58mm auto;
            margin: 0;
        }
        @media print {
            html, body {
                width: 58mm !important;
                margin: 0 !important;
                padding: 0 !important;
                direction: ltr; /* Force LTR on page for Edge bug */
            }
            * {
                box-sizing: border-box;
            }
        }
        .invoice-box {
            font-family: 'Cairo', sans-serif;
            width: 100%;
            padding: 1.5mm;
            direction: rtl; /* Apply RTL to the content itself */
            font-weight: bold; /* Make all text bold */
        }
        .header, .footer, .title { text-align: center; }
        .header h3 { margin: 0; font-size: 14px; } /* Increased font size */
        .header p { margin: 0; font-size: 11px; } /* Increased font size */
        .title { font-size: 13px; margin: 2mm 0; } /* Increased font size */
        .items-table { width: 100%; border-collapse: collapse; font-size: 11px; } /* Increased font size */
        .items-table th, .items-table td { padding: 1mm; text-align: center; border-bottom: 1px dashed #999; }
        .items-table th { background-color: #eee; border-top: 1px dashed #999; }
        .items-table .product-name { text-align: center; }
        .totals-section { margin-top: 2mm; text-align: center; }
        .totals-section div { font-size: 11px; margin-bottom: 0.5mm; } /* Increased font size */
        .totals-section .final-total { font-size: 13px; padding-top: 1mm; border-top: 1px solid #000; margin-top: 1mm; } /* Increased font size */
        .payment-method { text-align: center; font-size: 11px; margin-top: 2mm; } /* Increased font size */
        .footer { font-size: 11px; margin-top: 2mm; text-align: center; } /* Increased font size */
        .barcode-area { margin-top: 2mm; }
        .barcode-area p { margin: 0 0 1mm 0; font-size: 10px; } /* Increased font size */
        .barcode-area img { max-width: 100%; height: auto; max-height: 80px; }
    `,o=document.createElement("iframe");o.style.position="absolute",o.style.width="0",o.style.height="0",o.style.border="0",o.style.visibility="hidden",document.body.appendChild(o);const u=(h=o.contentWindow)==null?void 0:h.document;if(!u){console.error("Could not access iframe document for printing."),document.body.removeChild(o);return}u.open(),u.write(`
        <html lang="ar" dir="rtl">
            <head>
                <meta charset="UTF-8">
                <title>فاتورة بيع</title>
                <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
                <style>${a}</style>
            </head>
            <body>
                ${r}
            </body>
        </html>
    `),u.close(),setTimeout(()=>{var d,m;(d=o.contentWindow)==null||d.focus(),(m=o.contentWindow)==null||m.print(),setTimeout(()=>{document.body.contains(o)&&document.body.removeChild(o),n()},1e3)},500)},mZ=({invoice:t,onClose:e,autoPrint:n=!1})=>{const{settings:r}=si(),a=C.useRef(null);return C.useEffect(()=>{n&&t&&a.current!==t.id&&(a.current=t.id,MM(t,r,e))},[t,r,n,e]),null},pZ=({customer:t,onClose:e,onSave:n})=>{const[r,a]=C.useState(t||{id:"",name:"",phone:"",address:"",notes:"",debt:0,invoiceCount:0,lastTransaction:""}),o=!t,u=h=>{a({...r,[h.target.name]:h.target.value})},c=async()=>{if(!r.name)return;let h={...r};o&&(h.id=`c${Date.now()}`),await n(h,o),e()};return x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex justify-center items-center z-50",children:x.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 w-full max-w-lg",children:[x.jsxs("div",{className:"flex justify-between items-center mb-6",children:[x.jsx("h2",{className:"text-2xl font-bold",children:o?"إضافة عميل جديد":"تعديل بيانات العميل"}),x.jsx("button",{onClick:e,children:x.jsx(wf,{className:"h-6 w-6"})})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{htmlFor:"cust-name",className:"block text-sm font-medium text-gray-700 mb-1",children:"اسم العميل"}),x.jsx("input",{type:"text",id:"cust-name",name:"name",value:r.name,onChange:u,placeholder:"الاسم",className:"p-2 border rounded w-full",required:!0})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"cust-phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"رقم الموبايل"}),x.jsx("input",{type:"text",id:"cust-phone",name:"phone",value:r.phone,onChange:u,placeholder:"رقم الموبايل",className:"p-2 border rounded w-full"})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"cust-address",className:"block text-sm font-medium text-gray-700 mb-1",children:"العنوان"}),x.jsx("input",{type:"text",id:"cust-address",name:"address",value:r.address,onChange:u,placeholder:"العنوان",className:"p-2 border rounded w-full"})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"cust-notes",className:"block text-sm font-medium text-gray-700 mb-1",children:"ملاحظات"}),x.jsx("textarea",{id:"cust-notes",name:"notes",value:r.notes,onChange:u,placeholder:"ملاحظات",className:"p-2 border rounded w-full h-24"})]})]}),x.jsxs("div",{className:"mt-6 flex justify-end space-x-3 space-x-reverse",children:[x.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-200 rounded",children:"إلغاء"}),x.jsx("button",{onClick:c,className:"px-4 py-2 bg-blue-600 text-white rounded",children:"حفظ"})]})]})})},gZ=()=>{const{products:t,saveProducts:e,customers:n,saveCustomers:r,invoices:a,saveInvoices:o,addNotification:u}=si(),[c,h]=C.useState([]),[d,m]=C.useState(""),[v,y]=C.useState(null),[_,S]=C.useState(""),[E,A]=C.useState("percentage"),[j,I]=C.useState(""),[P,U]=C.useState("percentage"),[B,H]=C.useState(!1),[N,R]=C.useState(null),k=C.useCallback(()=>{R(null)},[]),$=ee=>{if(ee.quantity<=0){u(`المنتج ${ee.name} غير متوفر في المخزون.`,"error");return}const de=c.findIndex(z=>z.product.id===ee.id);if(de>-1){const z=[...c];z[de].quantity<ee.quantity?(z[de].quantity+=1,h(z)):u(`لا توجد كمية كافية من ${ee.name}`,"error")}else h([...c,{product:ee,quantity:1,price:ee.price,unit:ee.unit}]);m("")};A_("pos-page-scanner",ee=>{const de=t.find(z=>z.barcode===ee);de?($(de),u(`تمت إضافة ${de.name} إلى الفاتورة`)):u(`لم يتم العثور على منتج بالباركود: ${ee}`,"error")},!0);const L=C.useMemo(()=>d?t.filter(ee=>ee.name.toLowerCase().includes(d.toLowerCase())||ee.barcode.includes(d)):[],[d,t]);C.useEffect(()=>{const ee=S_(de=>{const z=t.find(re=>re.barcode===de);z?$(z):u(`لم يتم العثور على منتج بالباركود: ${de}`,"error")});return()=>ee&&ee()},[t,$]);const{subtotal:q,total:V}=C.useMemo(()=>{const ee=c.reduce((ce,ge)=>ce+ge.price*ge.quantity,0),de=E==="percentage"?ee*((parseFloat(_)||0)/100):parseFloat(_)||0,z=ee-de,re=P==="percentage"?z*((parseFloat(j)||0)/100):parseFloat(j)||0,ie=z+re;return{subtotal:ee,total:ie}},[c,_,E,j,P]),Ce=(ee,de)=>{const z=t.find(re=>re.id===ee);if(z&&de>z.quantity){u(`الكمية المطلوبة أكبر من المخزون المتاح (${z.quantity})`,"error"),h(c.map(re=>re.product.id===ee?{...re,quantity:z.quantity}:re));return}de<=0?Se(ee):h(c.map(re=>re.product.id===ee?{...re,quantity:de}:re))},Se=ee=>{h(c.filter(de=>de.product.id!==ee))},X=async(ee,de)=>{if(de){const z=[ee,...n];await r(z),u("تمت إضافة العميل بنجاح"),y(ee)}},ue=async(ee,de)=>{if(c.length===0){u("لا يمكن إنشاء فاتورة فارغة","error");return}const z={id:`INV-${Date.now()}`,date:new Date().toLocaleDateString("en-CA"),time:new Date().toLocaleTimeString("ar-EG"),customer:v,items:c,subtotal:q,discount:{type:E,value:parseFloat(_)||0},tax:{type:P,value:parseFloat(j)||0},total:V,paymentType:ee,amountPaid:ee===so.Cash?V:de||0},re=[...t];if(z.items.forEach(ie=>{const ce=re.findIndex(ge=>ge.id===ie.product.id);ce>-1&&(re[ce].quantity-=ie.quantity)}),await e(re),v){const ie=ee===so.Credit||ee===so.Partial?V-(de||0):0,ce=n.map(ge=>ge.id===v.id?{...ge,debt:ge.debt+ie,invoiceCount:ge.invoiceCount+1,lastTransaction:z.date}:ge);await r(ce)}await o([z,...a]),u(`تم إنشاء الفاتورة ${z.id} بنجاح`),h([]),y(null),S(""),I(""),R(z)};return x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 h-[calc(100vh-100px)]",children:[x.jsxs("div",{className:"lg:col-span-2 bg-white rounded-lg shadow-md p-6 flex flex-col",children:[x.jsxs("div",{className:"flex justify-between items-center mb-4",children:[x.jsx("h2",{className:"text-2xl font-bold",children:"الفاتورة الحالية"}),x.jsxs("div",{className:"text-lg font-semibold",children:["رقم الفاتورة: ",x.jsx("span",{className:"font-mono",children:`INV-${Date.now()}`})]})]}),x.jsxs("div",{className:"relative mb-4",children:[x.jsx("input",{type:"text",placeholder:"ابحث عن منتج بالإسم أو امسح الباركود...",value:d,onChange:ee=>m(ee.target.value),className:"w-full p-3 ps-10 border rounded-lg"}),x.jsx($m,{className:"absolute top-1/2 -translate-y-1/2 right-3 h-5 w-5 text-gray-400"}),x.jsx("button",{onClick:E_,title:"مسح باركود",className:"absolute top-1/2 -translate-y-1/2 left-3 text-gray-500 hover:text-blue-600",children:x.jsx(Wc,{className:"h-5 w-5"})}),L.length>0&&x.jsx("div",{className:"absolute w-full bg-white border rounded-lg mt-1 z-10 max-h-60 overflow-y-auto shadow-lg",children:L.map(ee=>x.jsxs("div",{onClick:()=>$(ee),className:"p-3 hover:bg-blue-100 cursor-pointer",children:[ee.name," - ",x.jsx("span",{className:"font-mono",children:ee.barcode})]},ee.id))})]}),x.jsx("div",{className:"flex-grow overflow-y-auto border-y py-2",children:x.jsxs("table",{className:"w-full text-right",children:[x.jsx("thead",{children:x.jsxs("tr",{className:"border-b",children:[x.jsx("th",{className:"p-2 font-semibold",children:"المنتج"}),x.jsx("th",{className:"p-2 font-semibold",children:"الكمية"}),x.jsx("th",{className:"p-2 font-semibold",children:"السعر"}),x.jsx("th",{className:"p-2 font-semibold",children:"الإجمالي"}),x.jsx("th",{className:"p-2 font-semibold"})]})}),x.jsx("tbody",{children:c.length===0?x.jsx("tr",{children:x.jsxs("td",{colSpan:5,className:"text-center p-8 text-gray-500",children:["لا توجد منتجات في الفاتورة",x.jsx("br",{}),x.jsx("small",{className:"text-xs",children:"امسح باركود المنتج لإضافته مباشرة"})]})}):c.map(ee=>x.jsxs("tr",{className:"border-b",children:[x.jsx("td",{className:"p-2",children:ee.product.name}),x.jsx("td",{className:"p-2",children:x.jsx("input",{type:"number",value:ee.quantity,onChange:de=>Ce(ee.product.id,parseInt(de.target.value)||1),className:"w-20 text-center border rounded"})}),x.jsx("td",{className:"p-2",children:ee.price.toFixed(2)}),x.jsx("td",{className:"p-2",children:(ee.price*ee.quantity).toFixed(2)}),x.jsx("td",{className:"p-2",children:x.jsx("button",{onClick:()=>Se(ee.product.id),className:"text-red-500 hover:text-red-700",children:x.jsx(Fm,{className:"h-5 w-5"})})})]},ee.product.id))})]})})]}),x.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 flex flex-col justify-between",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-bold mb-4",children:"ملخص الطلب"}),x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{className:"font-semibold",children:"العميل:"}),x.jsxs("select",{value:(v==null?void 0:v.id)||"",onChange:ee=>y(n.find(de=>de.id===ee.target.value)||null),className:"w-full p-2 mt-1 border rounded-lg",children:[x.jsx("option",{value:"",children:"عميل نقدي (بدون تسجيل)"}),n.map(ee=>x.jsxs("option",{value:ee.id,children:[ee.name," - ",ee.phone]},ee.id))]}),x.jsx("button",{onClick:()=>H(!0),className:"text-blue-600 text-sm mt-1 hover:underline",children:"إضافة عميل جديد"})]}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{className:"flex justify-between",children:[x.jsx("span",{children:"الإجمالي الفرعي"}),x.jsxs("span",{children:[q.toFixed(2)," ج.م"]})]}),x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{children:"خصم"}),x.jsxs("div",{className:"flex items-center border rounded",children:[x.jsx("input",{type:"number",value:_,onChange:ee=>S(ee.target.value),placeholder:"0",className:"w-20 text-center p-1 rounded-s-md"}),x.jsx("button",{onClick:()=>A(E==="percentage"?"fixed":"percentage"),className:"bg-gray-200 p-1 px-2 rounded-e-md",children:E==="percentage"?"%":"ج.م"})]})]}),x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{children:"ضريبة"}),x.jsxs("div",{className:"flex items-center border rounded",children:[x.jsx("input",{type:"number",value:j,onChange:ee=>I(ee.target.value),placeholder:"0",className:"w-20 text-center p-1 rounded-s-md"}),x.jsx("button",{onClick:()=>U(P==="percentage"?"fixed":"percentage"),className:"bg-gray-200 p-1 px-2 rounded-e-md",children:P==="percentage"?"%":"ج.م"})]})]}),x.jsx("hr",{}),x.jsxs("div",{className:"flex justify-between text-2xl font-bold text-blue-600",children:[x.jsx("span",{children:"الإجمالي النهائي"}),x.jsxs("span",{children:[V.toFixed(2)," ج.م"]})]})]})]}),x.jsxs("div",{className:"space-y-3 mt-6",children:[x.jsx("button",{onClick:()=>ue(so.Cash),className:"w-full bg-green-500 text-white font-bold py-3 rounded-lg text-lg hover:bg-green-600 transition",children:"دفع نقدي"}),x.jsx("button",{onClick:()=>{if(!v){u("الرجاء اختيار عميل للبيع الآجل","error");return}ue(so.Credit)},className:"w-full bg-orange-500 text-white font-bold py-3 rounded-lg text-lg hover:bg-orange-600 transition disabled:bg-gray-400",disabled:!v,children:"دفع آجل"}),x.jsx("button",{onClick:()=>{if(!v){u("الرجاء اختيار عميل للدفع الجزئي","error");return}const ee=prompt("الرجاء إدخال المبلغ المدفوع:","0");ee!==null&&ue(so.Partial,parseFloat(ee))},className:"w-full bg-yellow-500 text-white font-bold py-3 rounded-lg text-lg hover:bg-yellow-600 transition disabled:bg-gray-400",disabled:!v,children:"دفع جزئي"})]})]}),B&&x.jsx(pZ,{customer:null,onClose:()=>H(!1),onSave:X}),N&&x.jsx(mZ,{invoice:N,onClose:k,autoPrint:!0})]})},vZ=({customer:t,onClose:e,onSettle:n})=>{const[r,a]=C.useState(t.debt.toString()),o=()=>{const u=parseFloat(r);!isNaN(u)&&u>0&&u<=t.debt?(n(u),e()):alert("الرجاء إدخال مبلغ صحيح.")};return x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex justify-center items-center z-50",children:x.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 w-full max-w-md",children:[x.jsxs("div",{className:"flex justify-between items-center mb-6",children:[x.jsxs("h2",{className:"text-2xl font-bold",children:["تسديد ديون ",t.name]}),x.jsx("button",{onClick:e,children:x.jsx(wf,{className:"h-6 w-6"})})]}),x.jsxs("div",{children:[x.jsxs("p",{className:"mb-4",children:["الدين الحالي: ",x.jsxs("span",{className:"font-bold text-red-600",children:[t.debt.toFixed(2)," ج.م"]})]}),x.jsx("label",{htmlFor:"settle-amount",className:"block text-sm font-medium text-gray-700 mb-1",children:"المبلغ المسدد"}),x.jsx("input",{type:"number",id:"settle-amount",value:r,onChange:u=>a(u.target.value),className:"p-2 border rounded w-full",max:t.debt,min:"0.01",step:"0.01"})]}),x.jsxs("div",{className:"mt-6 flex justify-end space-x-3 space-x-reverse",children:[x.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-200 rounded",children:"إلغاء"}),x.jsx("button",{onClick:o,className:"px-4 py-2 bg-green-600 text-white rounded",children:"تسديد"})]})]})})},yZ=({customer:t,onClose:e,onSave:n})=>{const[r,a]=C.useState(t||{id:"",name:"",phone:"",address:"",notes:"",debt:0,invoiceCount:0,lastTransaction:""}),o=!t,u=h=>{a({...r,[h.target.name]:h.target.value})},c=async()=>{let h={...r};o&&(h.id=`c${Date.now()}`),await n(h,o),e()};return x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex justify-center items-center z-50",children:x.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 w-full max-w-lg",children:[x.jsxs("div",{className:"flex justify-between items-center mb-6",children:[x.jsx("h2",{className:"text-2xl font-bold",children:o?"إضافة عميل جديد":"تعديل بيانات العميل"}),x.jsx("button",{onClick:e,children:x.jsx(wf,{className:"h-6 w-6"})})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"الاسم"}),x.jsx("input",{type:"text",id:"name",name:"name",value:r.name,onChange:u,placeholder:"الاسم",className:"p-2 border rounded w-full"})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"رقم الموبايل"}),x.jsx("input",{type:"text",id:"phone",name:"phone",value:r.phone,onChange:u,placeholder:"رقم الموبايل",className:"p-2 border rounded w-full"})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-1",children:"العنوان"}),x.jsx("input",{type:"text",id:"address",name:"address",value:r.address,onChange:u,placeholder:"العنوان",className:"p-2 border rounded w-full"})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700 mb-1",children:"ملاحظات"}),x.jsx("textarea",{id:"notes",name:"notes",value:r.notes,onChange:u,placeholder:"ملاحظات",className:"p-2 border rounded w-full h-24"})]})]}),x.jsxs("div",{className:"mt-6 flex justify-end space-x-3 space-x-reverse",children:[x.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-200 rounded",children:"إلغاء"}),x.jsx("button",{onClick:c,className:"px-4 py-2 bg-blue-600 text-white rounded",children:"حفظ"})]})]})})},bZ=()=>{const{customers:t,saveCustomers:e,addNotification:n}=si(),[r,a]=C.useState(!1),[o,u]=C.useState(null),[c,h]=C.useState(null),[d,m]=C.useState(""),v=async(E,A)=>{A?(await e([E,...t]),n("تمت إضافة العميل بنجاح")):(await e(t.map(j=>j.id===E.id?E:j)),n("تم تحديث بيانات العميل"))},y=async E=>{const A=t.find(j=>j.id===E);if(A&&A.debt>0){n("لا يمكن حذف عميل عليه ديون.","error");return}window.confirm("هل أنت متأكد من حذف هذا العميل؟")&&(await e(t.filter(j=>j.id!==E)),n("تم حذف العميل","error"))},_=async E=>{if(c){const A=c.debt-E;await e(t.map(j=>j.id===c.id?{...j,debt:A}:j)),n(`تم تسديد مبلغ ${E.toFixed(2)} ج.م بنجاح.`),h(null)}},S=C.useMemo(()=>t.filter(E=>E.name.toLowerCase().includes(d.toLowerCase())||E.phone.includes(d)),[t,d]);return x.jsxs("div",{children:[x.jsxs("div",{className:"flex justify-between items-center mb-6",children:[x.jsx("h1",{className:"text-3xl font-bold",children:"إدارة العملاء"}),x.jsxs("button",{onClick:()=>{u(null),a(!0)},className:"flex items-center bg-blue-600 text-white px-4 py-2 rounded-lg shadow hover:bg-blue-700 transition",children:[x.jsx(a1,{className:"h-5 w-5 me-2"}),"إضافة عميل جديد"]})]}),x.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md mb-6",children:x.jsxs("div",{className:"relative",children:[x.jsx("input",{type:"text",placeholder:"ابحث بالاسم أو رقم الهاتف...",className:"w-full p-3 ps-10 border rounded-lg",value:d,onChange:E=>m(E.target.value)}),x.jsx($m,{className:"absolute top-1/2 -translate-y-1/2 right-3 h-5 w-5 text-gray-400"})]})}),x.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-x-auto",children:x.jsxs("table",{className:"w-full text-right",children:[x.jsx("thead",{className:"bg-gray-50",children:x.jsxs("tr",{children:[x.jsx("th",{className:"p-4 font-semibold",children:"الاسم"}),x.jsx("th",{className:"p-4 font-semibold",children:"رقم الهاتف"}),x.jsx("th",{className:"p-4 font-semibold",children:"العنوان"}),x.jsx("th",{className:"p-4 font-semibold",children:"الرصيد (الديون)"}),x.jsx("th",{className:"p-4 font-semibold",children:"آخر معاملة"}),x.jsx("th",{className:"p-4 font-semibold",children:"إجراءات"})]})}),x.jsx("tbody",{children:S.map(E=>x.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[x.jsx("td",{className:"p-4",children:E.name}),x.jsx("td",{className:"p-4",style:{direction:"ltr",textAlign:"right"},children:E.phone}),x.jsx("td",{className:"p-4",children:E.address}),x.jsxs("td",{className:`p-4 font-bold ${E.debt>0?"text-red-600":"text-green-600"}`,children:[E.debt.toFixed(2)," ج.م"]}),x.jsx("td",{className:"p-4",children:E.lastTransaction||"لا يوجد"}),x.jsxs("td",{className:"p-4 flex space-x-2 space-x-reverse",children:[x.jsx("button",{onClick:()=>{u(E),a(!0)},className:"text-blue-600 hover:text-blue-800",children:x.jsx(fo,{className:"h-5 w-5"})}),x.jsx("button",{onClick:()=>y(E.id),className:"text-red-600 hover:text-red-800",children:x.jsx(Fm,{className:"h-5 w-5"})}),E.debt>0&&x.jsxs("button",{onClick:()=>h(E),className:"text-sm bg-green-500 text-white px-2 py-1 rounded hover:bg-green-600 flex items-center",children:[x.jsx($0,{className:"h-4 w-4 me-1"}),"تسديد"]})]})]},E.id))})]})}),r&&x.jsx(yZ,{customer:o,onClose:()=>a(!1),onSave:v}),c&&x.jsx(vZ,{customer:c,onClose:()=>h(null),onSettle:_})]})},xZ=()=>{const{invoices:t,settings:e}=si(),[n,r]=C.useState(""),a=u=>{MM(u,e)},o=C.useMemo(()=>t.filter(u=>{const c=u.customer?u.customer.name.toLowerCase():"عميل نقدي",h=n.toLowerCase();return u.id.toLowerCase().includes(h)||c.includes(h)||u.date.includes(h)}),[t,n]);return x.jsxs("div",{children:[x.jsx("div",{className:"flex justify-between items-center mb-6",children:x.jsx("h1",{className:"text-3xl font-bold",children:"سجل الفواتير"})}),x.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md mb-6",children:x.jsxs("div",{className:"relative",children:[x.jsx("input",{type:"text",placeholder:"ابحث برقم الفاتورة، اسم العميل، أو التاريخ...",className:"w-full p-3 ps-10 border rounded-lg",value:n,onChange:u=>r(u.target.value)}),x.jsx($m,{className:"absolute top-1/2 -translate-y-1/2 right-3 h-5 w-5 text-gray-400"})]})}),x.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-x-auto",children:x.jsxs("table",{className:"w-full text-right",children:[x.jsx("thead",{className:"bg-gray-50",children:x.jsxs("tr",{children:[x.jsx("th",{className:"p-4 font-semibold",children:"رقم الفاتورة"}),x.jsx("th",{className:"p-4 font-semibold",children:"التاريخ"}),x.jsx("th",{className:"p-4 font-semibold",children:"العميل"}),x.jsx("th",{className:"p-4 font-semibold",children:"الإجمالي"}),x.jsx("th",{className:"p-4 font-semibold",children:"حالة الدفع"}),x.jsx("th",{className:"p-4 font-semibold",children:"إجراءات"})]})}),x.jsxs("tbody",{children:[o.map(u=>x.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[x.jsx("td",{className:"p-4 font-mono",children:u.id}),x.jsx("td",{className:"p-4",children:u.date}),x.jsx("td",{className:"p-4",children:u.customer?u.customer.name:"عميل نقدي"}),x.jsxs("td",{className:"p-4 font-bold",children:[u.total.toFixed(2)," ج.م"]}),x.jsx("td",{className:"p-4",children:x.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${u.paymentType==="نقدي"?"bg-green-100 text-green-800":u.paymentType==="آجل"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:u.paymentType})}),x.jsx("td",{className:"p-4",children:x.jsxs("button",{onClick:()=>a(u),className:"text-blue-600 hover:text-blue-800 flex items-center",children:[x.jsx(Ck,{className:"h-5 w-5 me-2"})," طباعة"]})})]},u.id)),o.length===0&&x.jsx("tr",{children:x.jsx("td",{colSpan:6,className:"text-center p-8 text-gray-500",children:"لا توجد فواتير مطابقة للبحث"})})]})]})})]})},Bp=({title:t,children:e,onClose:n})=>x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex justify-center items-center z-50 p-4",children:x.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl transform transition-all",children:[x.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[x.jsx("h2",{className:"text-2xl font-bold",children:t}),x.jsx("button",{onClick:n,className:"text-gray-500 hover:text-gray-800",children:x.jsx(wf,{className:"h-6 w-6"})})]}),x.jsx("div",{className:"p-6",children:e})]})}),_Z=({settings:t,onSave:e,onClose:n})=>{const[r,a]=C.useState(t),o=c=>{a({...r,[c.target.name]:c.target.value})},u=()=>{e(r),n()};return x.jsxs(Bp,{title:"تعديل معلومات الشركة",onClose:n,children:[x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{htmlFor:"systemName",className:"block text-sm font-medium text-gray-700",children:"اسم النظام"}),x.jsx("input",{type:"text",id:"systemName",name:"systemName",value:r.systemName||"",onChange:o,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md"})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"companyName",className:"block text-sm font-medium text-gray-700",children:"اسم الشركة"}),x.jsx("input",{type:"text",id:"companyName",name:"companyName",value:r.companyName,onChange:o,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md"})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"companyAddress",className:"block text-sm font-medium text-gray-700",children:"عنوان الشركة"}),x.jsx("input",{type:"text",id:"companyAddress",name:"companyAddress",value:r.companyAddress,onChange:o,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md"})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"companyPhone",className:"block text-sm font-medium text-gray-700",children:"رقم هاتف الشركة"}),x.jsx("input",{type:"text",id:"companyPhone",name:"companyPhone",value:r.companyPhone,onChange:o,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md"})]})]}),x.jsx("div",{className:"mt-6 flex justify-end",children:x.jsx("button",{onClick:u,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700",children:"حفظ التغييرات"})})]})},wZ=({settings:t,onSave:e,onClose:n})=>{const[r,a]=C.useState(t),o=h=>{a({...r,[h.target.name]:h.target.value})},u=h=>{var m;const d=(m=h.target.files)==null?void 0:m[0];if(d){const v=new FileReader;v.onloadend=()=>{a(y=>({...y,customInvoiceBarcode:v.result}))},v.readAsDataURL(d)}},c=()=>{e(r),n()};return x.jsxs(Bp,{title:"تخصيص الفاتورة",onClose:n,children:[x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{htmlFor:"paperSize",className:"block text-sm font-medium text-gray-700",children:"حجم ورق الطباعة"}),x.jsxs("select",{id:"paperSize",name:"paperSize",value:r.paperSize||"58mm",onChange:o,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md",children:[x.jsx("option",{value:"58mm",children:"58mm"}),x.jsx("option",{value:"80mm",children:"80mm"})]})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"thankYouMessage",className:"block text-sm font-medium text-gray-700",children:"رسالة شكر في الفاتورة"}),x.jsx("input",{type:"text",id:"thankYouMessage",name:"thankYouMessage",value:r.thankYouMessage||"",onChange:o,placeholder:"شكراً لتعاملكم معنا!",className:"mt-1 block w-full p-2 border border-gray-300 rounded-md"})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"customInvoiceBarcode",className:"block text-sm font-medium text-gray-700",children:"صورة باركود مخصصة للفاتورة"}),x.jsxs("div",{className:"mt-1 flex items-center",children:[x.jsx("input",{type:"file",accept:"image/*",id:"customInvoiceBarcode",onChange:u,className:"hidden"}),x.jsxs("label",{htmlFor:"customInvoiceBarcode",className:"cursor-pointer bg-white py-2 px-3 border border-gray-300 rounded-md shadow-sm text-sm leading-4 font-medium text-gray-700 hover:bg-gray-50 flex items-center",children:[x.jsx(Pk,{className:"h-5 w-5 me-2"}),"اختر صورة"]}),r.customInvoiceBarcode&&x.jsx("img",{src:r.customInvoiceBarcode,alt:"preview",className:"ms-4 h-16 w-auto border p-1 rounded"})]})]})]}),x.jsx("div",{className:"mt-6 flex justify-end",children:x.jsx("button",{onClick:c,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700",children:"حفظ التغييرات"})})]})},EZ=({settings:t,onSave:e,onClose:n})=>{const[r,a]=C.useState(t),[o,u]=C.useState("idle"),c=C.useMemo(()=>{if(r.scannerApiKey&&r.scannerProjectId){const v=new URLSearchParams({apiKey:r.scannerApiKey,authDomain:r.scannerAuthDomain||"",projectId:r.scannerProjectId});return`${window.location.origin}/scanner.html?${v.toString()}`}return null},[r]),h=v=>{a({...r,[v.target.name]:v.target.value})},d=()=>{e(r),n()},m=async()=>{u("testing");const v=await lZ();u(v?"success":"failed")};return x.jsxs(Bp,{title:"إعدادات ماسح الباركود",onClose:n,children:[x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{htmlFor:"scannerApiKey",className:"block text-sm font-medium text-gray-700",children:"API Key"}),x.jsx("input",{type:"text",id:"scannerApiKey",name:"scannerApiKey",value:r.scannerApiKey||"",onChange:h,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md"})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"scannerAuthDomain",className:"block text-sm font-medium text-gray-700",children:"Auth Domain"}),x.jsx("input",{type:"text",id:"scannerAuthDomain",name:"scannerAuthDomain",value:r.scannerAuthDomain||"",onChange:h,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md"})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"scannerProjectId",className:"block text-sm font-medium text-gray-700",children:"Project ID"}),x.jsx("input",{type:"text",id:"scannerProjectId",name:"scannerProjectId",value:r.scannerProjectId||"",onChange:h,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md"})]})]}),c&&x.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg text-center",children:[x.jsx("h4",{className:"text-lg font-semibold mb-2",children:"رابط الماسح الضوئي"}),x.jsx("p",{className:"text-sm text-gray-600",children:"افتح الرابط التالي على هاتفك لبدء المسح:"}),x.jsx("a",{href:c,target:"_blank",rel:"noopener noreferrer",className:"block mt-2 text-blue-600 hover:underline text-sm break-all",children:c})]}),x.jsxs("div",{className:"mt-6 flex justify-between items-center",children:[x.jsxs("div",{children:[x.jsx("button",{onClick:m,className:"bg-gray-200 px-4 py-2 rounded-lg hover:bg-gray-300",children:o==="testing"?"جارٍ الاختبار...":"اختبار الاتصال"}),o==="success"&&x.jsx("span",{className:"ms-4 text-green-600",children:"الاتصال ناجح!"}),o==="failed"&&x.jsx("span",{className:"ms-4 text-red-600",children:"فشل الاتصال."})]}),x.jsx("button",{onClick:d,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700",children:"حفظ التغييرات"})]})]})},SZ=({user:t,onClose:e,onSave:n})=>{const[r,a]=C.useState(t||{id:"",name:"",password:"",status:"نشط",permissions:{[Be.Dashboard]:!0,[Be.Products]:!0,[Be.Pos]:!0,[Be.Customers]:!0,[Be.Invoices]:!0,[Be.Settings]:!1}}),[o,u]=C.useState(""),[c,h]=C.useState(""),[d,m]=C.useState(""),v=!t,y=A=>{a({...r,[A.target.name]:A.target.value})},_=(A,j)=>{a(I=>({...I,permissions:{...I.permissions,[A]:j}}))},S=async()=>{if(!r.name.trim()){m("اسم المستخدم مطلوب.");return}if(v&&!o.trim()){m("كلمة المرور مطلوبة.");return}if(o&&o!==c){m("كلمات المرور غير متطابقة.");return}if(o&&o.length<4){m("كلمة المرور قصيرة جداً.");return}m("");let A={...r};o&&(A.password=o),A.id==="u1"&&(A.permissions[Be.Settings]=!0),await n({...A,id:v?`u${Date.now()}`:r.id}),e()},E={Dashboard:"لوحة التحكم",Products:"المنتجات",Pos:"نقطة البيع",Customers:"العملاء",Invoices:"الفواتير",Settings:"الإعدادات"};return x.jsxs(Bp,{title:v?"إضافة مستخدم جديد":"تعدي�� المستخدم",onClose:e,children:[x.jsxs("div",{className:"space-y-4",children:[x.jsx("input",{type:"text",name:"name",value:r.name,onChange:y,placeholder:"اسم المستخدم",className:"p-2 border rounded w-full"}),x.jsx("input",{type:"password",value:o,onChange:A=>u(A.target.value),placeholder:"كلمة المرور الجديدة",className:"p-2 border rounded w-full"}),x.jsx("input",{type:"password",value:c,onChange:A=>h(A.target.value),placeholder:"تأكيد كلمة المرور",className:"p-2 border rounded w-full"}),d&&x.jsx("p",{className:"text-red-500 text-sm",children:d}),x.jsxs("select",{name:"status",value:r.status,onChange:y,className:"p-2 border rounded w-full",children:[x.jsx("option",{value:"نشط",children:"نشط"}),x.jsx("option",{value:"غير نشط",children:"غير نشط"})]}),x.jsx("h3",{className:"text-lg font-bold pt-4",children:"صلاحيات الوصول"}),x.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:Object.values(Be).filter(A=>typeof A=="number").map(A=>{var j;return x.jsxs("label",{className:"flex items-center p-3 rounded-lg bg-gray-100 hover:bg-blue-100 border",children:[x.jsx("input",{type:"checkbox",checked:((j=r.permissions)==null?void 0:j[A])||!1,onChange:I=>_(A,I.target.checked),disabled:r.id==="u1"&&A===Be.Settings,className:"h-5 w-5 text-blue-600 rounded"}),x.jsx("span",{className:"ms-3 text-sm font-medium",children:E[Be[A]]})]},A)})})]}),x.jsx("div",{className:"mt-6 flex justify-end",children:x.jsx("button",{onClick:S,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700",children:"حفظ"})})]})},AZ=()=>{const{settings:t,saveSettings:e,users:n,saveUsers:r,currentUser:a,setCurrentUser:o,addNotification:u,storageMode:c,directoryName:h,requestDirectoryPermission:d,resetAllData:m}=si(),[v,y]=C.useState(null),[_,S]=C.useState(null),E=async U=>{await e(U),u("تم حفظ الإعدادات بنجاح")},A=async U=>{const B=!n.some(N=>N.id===U.id),H=B?[...n,U]:n.map(N=>N.id===U.id?U:N);await r(H),u(B?"تمت إضافة المستخدم":"تم تحديث المستخدم"),a&&a.id===U.id&&o(U)},j=async U=>{if(n.length<=1||(a==null?void 0:a.id)===U){u("لا يمكن حذف المستخدم الوحيد أو حسابك الحالي.","error");return}window.confirm("هل أنت متأكد من حذف هذا المستخدم؟")&&(await r(n.filter(B=>B.id!==U)),u("تم حذف المستخدم","error"))},I=U=>{S(U),y("user")},P=()=>{switch(v){case"company":return x.jsx(_Z,{settings:t,onSave:E,onClose:()=>y(null)});case"invoice":return x.jsx(wZ,{settings:t,onSave:E,onClose:()=>y(null)});case"firebase":return x.jsx(EZ,{settings:t,onSave:E,onClose:()=>y(null)});case"user":return x.jsx(SZ,{user:_,onSave:A,onClose:()=>y(null)});default:return null}};return x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold mb-8",children:"الإعدادات"}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[x.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:x.jsxs("div",{className:"flex justify-between items-start",children:[x.jsxs("div",{children:[x.jsxs("h3",{className:"text-xl font-bold flex items-center",children:[x.jsx(cj,{className:"h-6 w-6 me-2 text-blue-600"}),"معلومات النشاط التجاري"]}),x.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"إدار تفاصيل النشاط التجاري والعلامة التجارية."})]}),x.jsx("button",{onClick:()=>y("company"),className:"text-blue-600 hover:text-blue-800",children:x.jsx(fo,{className:"h-5 w-5"})})]})}),x.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:x.jsxs("div",{className:"flex justify-between items-start",children:[x.jsxs("div",{children:[x.jsxs("h3",{className:"text-xl font-bold flex items-center",children:[x.jsx(s1,{className:"h-6 w-6 me-2 text-green-600"}),"تخصيص الفاتورة"]}),x.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"تعديل شكل الفاتورة وحجم الورق."})]}),x.jsx("button",{onClick:()=>y("invoice"),className:"text-blue-600 hover:text-blue-800",children:x.jsx(fo,{className:"h-5 w-5"})})]})}),x.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[x.jsxs("h3",{className:"text-xl font-bold flex items-center",children:[x.jsx(lj,{className:"h-6 w-6 me-2 text-yellow-600"}),"إدارة البيان��ت"]}),x.jsxs("div",{className:"mt-4 space-y-2",children:[x.jsx("button",{onClick:d,className:"w-full text-sm bg-gray-100 p-2 rounded-md text-start hover:bg-gray-200",children:"تغيير مجلد الحفظ"}),x.jsx("button",{onClick:m,className:"w-full text-sm bg-red-100 text-red-700 p-2 rounded-md text-start hover:bg-red-200",children:"إعادة تعيين كل البيانات"})]})]}),x.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:x.jsxs("div",{className:"flex justify-between items-start",children:[x.jsxs("div",{children:[x.jsxs("h3",{className:"text-xl font-bold flex items-center",children:[x.jsx(Wc,{className:"h-6 w-6 me-2 text-red-600"}),"إعدادات ماسح الباركود"]}),x.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"إدارة إعدادات الاتصال بـ Firebase."})]}),x.jsx("button",{onClick:()=>y("firebase"),className:"text-blue-600 hover:text-blue-800",children:x.jsx(fo,{className:"h-5 w-5"})})]})}),x.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md md:col-span-2 lg:col-span-3",children:[x.jsxs("div",{className:"flex justify-between items-center mb-4",children:[x.jsxs("h3",{className:"text-xl font-bold flex items-center",children:[x.jsx(uj,{className:"h-6 w-6 me-2 text-purple-600"}),"إدارة المستخدمين"]}),x.jsxs("button",{onClick:()=>I(null),className:"flex items-center bg-blue-500 text-white px-3 py-1 rounded-lg hover:bg-blue-600",children:[x.jsx(a1,{className:"h-5 w-5 me-1"})," إضافة مستخدم جديد"]})]}),x.jsx("div",{className:"space-y-3",children:n.map(U=>x.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[x.jsx("p",{className:"font-semibold",children:U.name}),x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${U.status==="نشط"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:U.status}),x.jsx("button",{onClick:()=>I(U),className:"text-blue-600",children:x.jsx(fo,{className:"h-5 w-5"})}),x.jsx("button",{onClick:()=>j(U.id),className:"text-red-600",children:x.jsx(Fm,{className:"h-5 w-5"})})]})]},U.id))})]})]}),P()]})},TZ=({onAuthenticate:t,onCancel:e})=>{const[n,r]=C.useState(""),[a,o]=C.useState(""),{currentUser:u}=si(),c=h=>{h.preventDefault(),u&&n===u.password?t(n):o("كلمة المرور غير صحيحة.")};return x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex justify-center items-center z-50",children:x.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 w-full max-w-sm text-center",children:[x.jsxs("h2",{className:"text-2xl font-bold flex items-center justify-center mb-6",children:[x.jsx(uj,{className:"h-7 w-7 me-2 text-blue-600"}),"تأكيد الوصول للإعدادات"]}),x.jsxs("form",{onSubmit:c,className:"space-y-4",children:[x.jsx("input",{id:"settings-password",type:"password",value:n,onChange:h=>{r(h.target.value),o("")},className:"p-2 border rounded w-full focus:ring-blue-500 focus:border-blue-500 text-center",required:!0,placeholder:"كلمة المرور"}),a&&x.jsx("p",{className:"text-red-500 text-sm",children:a}),x.jsxs("div",{className:"flex justify-center items-center space-x-4 space-x-reverse pt-4",children:[x.jsx("button",{type:"button",onClick:e,className:"px-6 py-2 bg-gray-200 rounded-md hover:bg-gray-300",children:"إلغاء"}),x.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"تأكيد"})]})]})]})})},OZ=({children:t,isActive:e})=>(C.useEffect(()=>(e?cZ():nj(),()=>{nj()}),[e]),x.jsx(x.Fragment,{children:t})),CZ="pos-db-v2",_f="pos-store",jZ=1;function kM(){return new Promise((t,e)=>{if(!window.indexedDB){e("IndexedDB not supported");return}const n=indexedDB.open(CZ,jZ);n.onupgradeneeded=()=>{n.result.createObjectStore(_f)},n.onsuccess=()=>t(n.result),n.onerror=()=>e(n.error)})}async function rj(t){const e=await kM();return new Promise((n,r)=>{const u=e.transaction(_f,"readonly").objectStore(_f).get(t);u.onsuccess=()=>n(u.result),u.onerror=()=>r(u.error)})}async function kc(t,e){const n=await kM();return new Promise((r,a)=>{const c=n.transaction(_f,"readwrite").objectStore(_f).put(e,t);c.onsuccess=()=>r(),c.onerror=()=>a(c.error)})}async function ij(t){const e={mode:"readwrite"};try{if(await t.queryPermission(e)==="granted"||await t.requestPermission(e)==="granted")return!0}catch(n){console.error("Error verifying permission:",n)}return!1}async function PZ(){try{return await window.showDirectoryPicker()}catch(t){return t instanceof DOMException&&t.name==="AbortError"?console.log("User cancelled directory picker."):console.error("Error selecting directory:",t),null}}async function NZ(t,e){try{const a=await(await(await t.getFileHandle(e)).getFile()).text();return JSON.parse(a)}catch(n){return n instanceof DOMException&&n.name==="NotFoundError"||console.error(`Error reading file ${e}:`,n),null}}async function z0(t,e,n){try{const a=await(await t.getFileHandle(e,{create:!0})).createWritable();await a.write(JSON.stringify(n,null,2)),await a.close()}catch(r){console.error(`Error writing file ${e}:`,r)}}const Vc={systemName:"نظامي",companyName:"شركة ABC للتجارة",companyAddress:"123 شارع التجارة، القاهرة",companyPhone:"01234567890",customInvoiceBarcode:"",allowInvoiceEditing:!1,enableStockAlerts:!0},q0=[{id:1,name:"قطعة"},{id:2,name:"عبوة"},{id:3,name:"كرتونة"}],Nd=[{id:"u1",name:"admin",password:"admin",status:"نشط",permissions:{[Be.Dashboard]:!0,[Be.Products]:!0,[Be.Pos]:!0,[Be.Customers]:!0,[Be.Invoices]:!0,[Be.Settings]:!0}}],VM=C.createContext(null),si=()=>{const t=C.useContext(VM);if(!t)throw new Error("useAppContext must be used within an AppProvider");return t},DZ=({onPickDirectory:t})=>x.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100 p-4",children:x.jsxs("div",{className:"w-full max-w-lg p-8 space-y-6 bg-white rounded-xl shadow-lg text-center",children:[x.jsx(jk,{className:"mx-auto h-16 w-16 text-blue-600"}),x.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"تحديد مجلد الحفظ"}),x.jsxs("p",{className:"mt-2 text-gray-600",children:["لضمان حفظ بياناتك بشكل دائم وآمن على جهازك، يرجى تحديد مجلد لحفظ ملفات النظام.",x.jsx("br",{}),"ستكون بياناتك (المنتجات, الفواتير, إلخ) محفوظة داخل هذا المجلد ولن تُفقد."]}),x.jsxs("button",{onClick:t,className:"w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-lg font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:[x.jsx(lj,{className:"me-2 h-6 w-6"}),"اختر مجلد الحفظ"]}),x.jsx("p",{className:"text-xs text-gray-500 mt-4",children:"هذه الميزة مدعومة بشكل أفضل في متصفحات Chrome و Edge."})]})}),RZ=()=>{const[t,e]=C.useState(!1),[n,r]=C.useState(null),[a,o]=C.useState(!0),[u,c]=C.useState("pending"),[h,d]=C.useState(null),[m,v]=C.useState(!1),[y,_]=C.useState(Be.Dashboard),[S,E]=C.useState([]),[A,j]=C.useState([]),[I,P]=C.useState([]),[U,B]=C.useState([]),[H,N]=C.useState([]),[R,k]=C.useState(Vc),[$,L]=C.useState([]),[q,V]=C.useState(!1),[Ce,Se]=C.useState(!1),X=(_e,Ae="success")=>{if($.some(ft=>ft.message===_e))return;const Ge=Date.now(),St={id:Ge,message:_e,type:Ae};L(ft=>[...ft,St]),setTimeout(()=>{L(ft=>ft.filter(oi=>oi.id!==Ge))},4e3)};C.useEffect(()=>{const _e=document.getElementById("splash-screen");_e&&setTimeout(()=>{_e.style.display="none"},500),"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("./sw.js").then(Ae=>{console.log("SW registered: ",Ae)}).catch(Ae=>{console.log("SW registration failed: ",Ae)})}),ue()},[]),C.useEffect(()=>{if(u!=="pending"){const _e=localStorage.getItem("isActivated")==="true";e(_e)}},[u]),C.useEffect(()=>{},[]);const ue=async()=>{if("showDirectoryPicker"in window){const Ae=await rj("directoryHandle");Ae&&await ij(Ae)?(d(Ae),c("fs"),await de(Ae,"fs")):v(!0)}else localStorage.getItem("fsSupportNotified")||(X("المتصفح لا يدعم حفظ الملفات, سيتم الحفظ في المتصفح.","error"),localStorage.setItem("fsSupportNotified","true")),c("indexeddb"),await de(null,"indexeddb")},ee=async()=>{const _e=await PZ();_e?await ij(_e)?(await kc("directoryHandle",_e),d(_e),c("fs"),v(!1),X(`تم اختيار المجلد "${_e.name}" بنجاح. سيتم تحميل البيانات منه.`,"success"),await de(_e,"fs")):(X("Permission to access folder was denied.","error"),h||(c("indexeddb"),await de(null,"indexeddb"))):(X("No directory selected. Using temporary browser storage.","error"),h||(c("indexeddb"),v(!1),await de(null,"indexeddb")))},de=async(_e,Ae)=>{o(!0);const Ge=Ae==="fs"?async Pn=>NZ(_e,`${Pn}.json`):async Pn=>rj(Pn),St=Ae==="fs"?async(Pn,er)=>z0(_e,`${Pn}.json`,er):async(Pn,er)=>kc(Pn,er),[ft,oi,As,ki,Fr,Ts]=await Promise.all([Ge("products"),Ge("customers"),Ge("invoices"),Ge("units"),Ge("users"),Ge("settings")]);if(E(ft??[]),j(oi??[]),P(As??[]),ki?B(ki):(B(q0),await St("units",q0)),Fr&&Fr.length>0){const Pn=Fr.map(er=>({...er,permissions:er.permissions||(er.role==="مدير النظام"?Nd[0].permissions:{})}));N(Pn)}else N(Nd),await St("users",Nd);Ts?(k(Ts),U0(Ts)):(k(Vc),await St("settings",Vc),U0(Vc)),o(!1)},z=(_e,Ae)=>async Ge=>{_e(Ge),u==="fs"&&h?await z0(h,`${Ae}.json`,Ge):u==="indexeddb"&&await kc(Ae,Ge)},re=z(E,"products"),ie=z(j,"customers"),ce=z(P,"invoices"),ge=z(B,"units"),Oe=z(N,"users"),Pe=async _e=>{k(_e),u==="fs"&&h?await z0(h,"settings.json",_e):u==="indexeddb"&&await kc("settings",_e),U0(_e)},Nt=async()=>{if(window.confirm("هل أنت متأكد من أنك تريد إعادة تعيين كل شيء؟ سيتم حذف جميع البيانات بشكل دائم ولا يمكن التراجع عن هذا الإجراء.")){console.log("Starting data reset..."),o(!0);try{await re([]),await ie([]),await ce([]),await ge(q0),await Oe(Nd),await Pe(Vc),u==="fs"&&await kc("directoryHandle",null),localStorage.removeItem("isActivated"),localStorage.removeItem("rememberedUser"),X("تمت إعادة تعيين جميع البيانات بنجاح. سيتم إعادة تشغيل التطبيق.","success"),setTimeout(()=>{window.location.reload()},2e3)}catch(_e){console.error("Failed to reset data:",_e),X("فشل في إعادة تعيين البيانات.","error"),o(!1)}}},Je=C.useCallback(_e=>{_e===Be.Settings&&!q?Se(!0):(y===Be.Settings&&_e!==Be.Settings&&V(!1),_(_e),Se(!1))},[y,q,X]),pe=()=>{var Ae;if(!n)return x.jsx(KS,{});if(!(n.id==="u1"||((Ae=n.permissions)==null?void 0:Ae[y])===!0))return Je(Be.Dashboard),X("ليس لديك صلاحية للوصول إلى هذه الصفحة.","error"),x.jsx(j0,{});switch(y){case Be.Dashboard:return x.jsx(j0,{});case Be.Products:return x.jsx(hZ,{});case Be.Pos:return x.jsx(gZ,{});case Be.Customers:return x.jsx(bZ,{});case Be.Invoices:return x.jsx(xZ,{});case Be.Settings:return x.jsx(AZ,{});default:return x.jsx(j0,{})}},Me=()=>{localStorage.setItem("isActivated","true"),e(!0)},Ve=()=>{r(null),localStorage.removeItem("rememberedUser"),V(!1),_(Be.Dashboard)},fe={page:y,setPage:Je,products:S,saveProducts:re,customers:A,saveCustomers:ie,invoices:I,saveInvoices:ce,units:U,saveUnits:ge,users:H,saveUsers:Oe,currentUser:n,setCurrentUser:r,settings:R,saveSettings:Pe,addNotification:X,storageMode:u,directoryName:(h==null?void 0:h.name)||null,requestDirectoryPermission:ee,isSettingsAuthenticated:q,setIsSettingsAuthenticated:V,resetAllData:Nt};return m?x.jsx(DZ,{onPickDirectory:ee}):a||u==="pending"?x.jsx("div",{className:"flex justify-center items-center min-h-screen bg-gray-100 font-bold text-xl",children:"التحقق من إعدادات التخزين..."}):t?x.jsx(VM.Provider,{value:fe,children:x.jsxs(OZ,{isActive:!!n,children:[x.jsx("div",{className:"bg-gray-100 min-h-screen text-gray-800",children:n?x.jsx(Dk,{onLogout:Ve,children:pe()}):x.jsx(KS,{})}),x.jsx("div",{className:"fixed bottom-5 left-5 z-50 space-y-3",children:$.map(_e=>x.jsx("div",{className:`px-6 py-3 rounded-lg shadow-lg text-white ${_e.type==="success"?"bg-green-500":"bg-red-500"}`,children:_e.message},_e.id))}),Ce&&x.jsx(TZ,{onAuthenticate:()=>{V(!0),_(Be.Settings),Se(!1)},onCancel:()=>{Je(Be.Dashboard),Se(!1)}})]})}):x.jsx(Rk,{onActivate:Me})},LM=document.getElementById("root");if(!LM)throw new Error("Could not find root element to mount to");const IZ=wk.createRoot(LM);IZ.render(x.jsx(aj.StrictMode,{children:x.jsx(RZ,{})}));
